{"ast":null,"code":"var _jsxFileName = \"D:\\\\Amina\\\\VScode\\\\FQW_new\\\\src\\\\components\\\\Documents.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useCallback } from 'react';\nimport axios from 'axios';\nimport { useNavigate } from 'react-router-dom';\nimport './Documents.css';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction Documents() {\n  _s();\n  const [documents, setDocuments] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState('');\n  const navigate = useNavigate();\n  const user = JSON.parse(localStorage.getItem('user'));\n  const fetchDocuments = useCallback(async () => {\n    try {\n      console.log('Отправка запроса документов:', {\n        userId: user.id,\n        role: user.role\n      });\n      const response = await axios.get(`http://localhost:5000/api/documents`, {\n        params: {\n          userId: user.id,\n          role: user.role\n        }\n      });\n      console.log('Получены документы:', response.data);\n      response.data.forEach((doc, index) => {\n        console.log(`Документ ${index + 1}:`, {\n          regnumber: doc.regnumber,\n          formseries: doc.formseries,\n          formnumber: doc.formnumber\n        });\n      });\n      setDocuments(response.data);\n      setLoading(false);\n    } catch (err) {\n      var _err$response, _err$response$data;\n      console.error('Ошибка при загрузке документов:', err);\n      setError(((_err$response = err.response) === null || _err$response === void 0 ? void 0 : (_err$response$data = _err$response.data) === null || _err$response$data === void 0 ? void 0 : _err$response$data.error) || 'Ошибка при загрузке документов');\n      setLoading(false);\n    }\n  }, [user.id, user.role]);\n  useEffect(() => {\n    fetchDocuments();\n  }, [fetchDocuments]);\n  const handleLogout = () => {\n    localStorage.removeItem('user');\n    navigate('/login');\n  };\n  const handleBack = () => {\n    navigate(user.role === 1 ? '/admin' : '/user');\n  };\n  if (loading) return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"loading\",\n    children: \"\\u0417\\u0430\\u0433\\u0440\\u0443\\u0437\\u043A\\u0430...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 52,\n    columnNumber: 23\n  }, this);\n  if (error) return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"error\",\n    children: error\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 53,\n    columnNumber: 21\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"documents-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"documents-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: user.role === 1 ? 'Все документы' : 'Мои документы'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"header-buttons\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleBack,\n          className: \"back-button\",\n          children: \"\\u041D\\u0430\\u0437\\u0430\\u0434\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleLogout,\n          className: \"logout-button\",\n          children: \"\\u0412\\u044B\\u0439\\u0442\\u0438\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"documents-list\",\n      children: [\"// --- Documents View (Table) ---\", /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"documents-list\",\n        children: (user.role !== 1 || selectedWorker !== null) && filteredDocuments.length > 0 ? /*#__PURE__*/_jsxDEV(\"table\", {\n          className: \"documents-table\",\n          children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n            children: /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [user.role === 1 && /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"\\u0420\\u0430\\u0431\\u043E\\u0442\\u043D\\u0438\\u043A\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 74,\n                columnNumber: 63\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"\\u041F\\u0440\\u043E\\u0433\\u0440\\u0430\\u043C\\u043C\\u0430 \\u043E\\u0431\\u0443\\u0447\\u0435\\u043D\\u0438\\u044F\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 75,\n                columnNumber: 43\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"\\u041E\\u0440\\u0433\\u0430\\u043D\\u0438\\u0437\\u0430\\u0446\\u0438\\u044F (\\u041A\\u0440\\u0430\\u0442\\u043A\\u043E)\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 76,\n                columnNumber: 43\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"\\u0420\\u0435\\u0433. \\u043D\\u043E\\u043C\\u0435\\u0440\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 77,\n                columnNumber: 43\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"\\u0414\\u0430\\u0442\\u0430 \\u0432\\u044B\\u0434\\u0430\\u0447\\u0438\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 78,\n                columnNumber: 43\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"\\u0414\\u0435\\u0439\\u0441\\u0442\\u0432\\u0438\\u044F\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 79,\n                columnNumber: 43\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 72,\n              columnNumber: 39\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 35\n          }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n            children: filteredDocuments.map(doc => /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [user.role === 1 && /*#__PURE__*/_jsxDEV(\"td\", {\n                children: doc.WorkerName || getWorkerName() || 'N/A'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 86,\n                columnNumber: 67\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: doc.ProgramName || 'N/A'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 88,\n                columnNumber: 47\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: doc.OrgSName || doc.OrgFName || 'N/A'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 89,\n                columnNumber: 47\n              }, this), \" \", /*#__PURE__*/_jsxDEV(\"td\", {\n                children: doc.regnumber || 'N/A'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 90,\n                columnNumber: 47\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: formatDate(doc.DateIssue)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 91,\n                columnNumber: 47\n              }, this), \" \", /*#__PURE__*/_jsxDEV(\"td\", {\n                children: /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"details-button\",\n                  onClick: () => openModal(doc) // Pass the whole document object\n                  ,\n                  children: \"\\u041F\\u043E\\u0434\\u0440\\u043E\\u0431\\u043D\\u043E\\u0441\\u0442\\u0438\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 94,\n                  columnNumber: 51\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 92,\n                columnNumber: 47\n              }, this)]\n            }, doc.ID_Document, true, {\n              fileName: _jsxFileName,\n              lineNumber: 84,\n              columnNumber: 43\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 35\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 31\n        }, this) :\n        /*#__PURE__*/\n        // Message when no documents are available for the table view\n        _jsxDEV(\"div\", {\n          className: \"no-data-message full-width-message\",\n          children: user.role === 1 ? selectedWorker === null ? \"Пожалуйста, выберите работника для просмотра списка документов.\" : `Нет документов для отображения у выбранного работника (${getWorkerName()}).` : \"У вас пока нет загруженных документов.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 31\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 22\n      }, this), \")}\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Modal, {\n      isOpen: isModalOpen,\n      onRequestClose: closeModal,\n      contentLabel: \"\\u0414\\u0435\\u0442\\u0430\\u043B\\u0438 \\u0434\\u043E\\u043A\\u0443\\u043C\\u0435\\u043D\\u0442\\u0430\" // Accessibility label\n      ,\n      className: \"modal-content\" // Class for styling the modal content\n      ,\n      overlayClassName: \"modal-overlay\" // Class for styling the background overlay\n      ,\n      ariaHideApp: true // Helps with screen readers\n      ,\n      children: selectedDocumentForModal ? /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: [\"\\u0414\\u0435\\u0442\\u0430\\u043B\\u0438 \\u0434\\u043E\\u043A\\u0443\\u043C\\u0435\\u043D\\u0442\\u0430 \\u2116 \", selectedDocumentForModal.regnumber || selectedDocumentForModal.ID_Document]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: closeModal,\n          className: \"modal-close-button\",\n          \"aria-label\": \"\\u0417\\u0430\\u043A\\u0440\\u044B\\u0442\\u044C\",\n          children: \"\\xD7\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-details-grid\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"\\u0420\\u0430\\u0431\\u043E\\u0442\\u043D\\u0438\\u043A:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 137,\n              columnNumber: 34\n            }, this), \" \", selectedDocumentForModal.WorkerName || getWorkerName() || 'N/A']\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 137,\n            columnNumber: 31\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"\\u041F\\u0440\\u043E\\u0433\\u0440\\u0430\\u043C\\u043C\\u0430 \\u043E\\u0431\\u0443\\u0447\\u0435\\u043D\\u0438\\u044F:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 138,\n              columnNumber: 34\n            }, this), \" \", selectedDocumentForModal.ProgramName || 'N/A']\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 138,\n            columnNumber: 31\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"\\u041E\\u0440\\u0433\\u0430\\u043D\\u0438\\u0437\\u0430\\u0446\\u0438\\u044F (\\u043F\\u043E\\u043B\\u043D\\u043E\\u0435):\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 139,\n              columnNumber: 34\n            }, this), \" \", selectedDocumentForModal.OrgFName || 'N/A']\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 139,\n            columnNumber: 31\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"\\u041E\\u0440\\u0433\\u0430\\u043D\\u0438\\u0437\\u0430\\u0446\\u0438\\u044F (\\u043A\\u0440\\u0430\\u0442\\u043A\\u043E\\u0435):\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 140,\n              columnNumber: 34\n            }, this), \" \", selectedDocumentForModal.OrgSName || 'N/A']\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 140,\n            columnNumber: 31\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"\\u0420\\u0435\\u0433\\u0438\\u0441\\u0442\\u0440\\u0430\\u0446\\u0438\\u043E\\u043D\\u043D\\u044B\\u0439 \\u043D\\u043E\\u043C\\u0435\\u0440:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 141,\n              columnNumber: 34\n            }, this), \" \", selectedDocumentForModal.regnumber || 'N/A']\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 141,\n            columnNumber: 31\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"\\u0414\\u0430\\u0442\\u0430 \\u0432\\u044B\\u0434\\u0430\\u0447\\u0438:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 142,\n              columnNumber: 34\n            }, this), \" \", formatDate(selectedDocumentForModal.DateIssue)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 142,\n            columnNumber: 31\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"kks-details\",\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"\\u041A\\u0440\\u0438\\u0442\\u0435\\u0440\\u0438\\u0438 \\u041A\\u041A\\u0421:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 147,\n              columnNumber: 34\n            }, this), Array.isArray(selectedDocumentForModal.KKS_Data) && selectedDocumentForModal.KKS_Data.length > 0 ? selectedDocumentForModal.KKS_Data.map(k => k.fullName || k.shortName) // Prefer full name, fallback to short\n            .filter(Boolean) // Remove any null/empty values\n            .join(', ') // Join with comma and space\n            : 'Нет данных', \" \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 146,\n            columnNumber: 30\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true) :\n      /*#__PURE__*/\n      // Fallback message if modal opens before data is ready (shouldn't usually happen)\n      _jsxDEV(\"p\", {\n        children: \"\\u0417\\u0430\\u0433\\u0440\\u0443\\u0437\\u043A\\u0430 \\u0434\\u0435\\u0442\\u0430\\u043B\\u0435\\u0439...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 56,\n    columnNumber: 5\n  }, this);\n}\n_s(Documents, \"iUAvQtNHfknUcbGyxcFv+4QgOjQ=\", false, function () {\n  return [useNavigate];\n});\n_c = Documents;\nexport default Documents;\nvar _c;\n$RefreshReg$(_c, \"Documents\");","map":{"version":3,"names":["React","useState","useEffect","useCallback","axios","useNavigate","jsxDEV","_jsxDEV","Fragment","_Fragment","Documents","_s","documents","setDocuments","loading","setLoading","error","setError","navigate","user","JSON","parse","localStorage","getItem","fetchDocuments","console","log","userId","id","role","response","get","params","data","forEach","doc","index","regnumber","formseries","formnumber","err","_err$response","_err$response$data","handleLogout","removeItem","handleBack","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","selectedWorker","filteredDocuments","length","map","WorkerName","getWorkerName","ProgramName","OrgSName","OrgFName","formatDate","DateIssue","openModal","ID_Document","Modal","isOpen","isModalOpen","onRequestClose","closeModal","contentLabel","overlayClassName","ariaHideApp","selectedDocumentForModal","Array","isArray","KKS_Data","k","fullName","shortName","filter","Boolean","join","_c","$RefreshReg$"],"sources":["D:/Amina/VScode/FQW_new/src/components/Documents.js"],"sourcesContent":["import React, { useState, useEffect, useCallback } from 'react';\nimport axios from 'axios';\nimport { useNavigate } from 'react-router-dom';\nimport './Documents.css';\n\nfunction Documents() {\n  const [documents, setDocuments] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState('');\n  const navigate = useNavigate();\n  const user = JSON.parse(localStorage.getItem('user'));\n\n  const fetchDocuments = useCallback(async () => {\n    try {\n      console.log('Отправка запроса документов:', { userId: user.id, role: user.role });\n      const response = await axios.get(`http://localhost:5000/api/documents`, {\n        params: {\n          userId: user.id,\n          role: user.role\n        }\n      });\n      console.log('Получены документы:', response.data);\n      response.data.forEach((doc, index) => {\n        console.log(`Документ ${index + 1}:`, {\n            regnumber: doc.regnumber,\n            formseries: doc.formseries,\n            formnumber: doc.formnumber\n        });\n      });\n      setDocuments(response.data);\n      setLoading(false);\n    } catch (err) {\n      console.error('Ошибка при загрузке документов:', err);\n      setError(err.response?.data?.error || 'Ошибка при загрузке документов');\n      setLoading(false);\n    }\n  }, [user.id, user.role]);\n\n  useEffect(() => {\n    fetchDocuments();\n  }, [fetchDocuments]);\n\n  const handleLogout = () => {\n    localStorage.removeItem('user');\n    navigate('/login');\n  };\n\n  const handleBack = () => {\n    navigate(user.role === 1 ? '/admin' : '/user');\n  };\n\n  if (loading) return <div className=\"loading\">Загрузка...</div>;\n  if (error) return <div className=\"error\">{error}</div>;\n\n  return (\n    <div className=\"documents-container\">\n      <div className=\"documents-header\">\n        <h1>{user.role === 1 ? 'Все документы' : 'Мои документы'}</h1>\n        <div className=\"header-buttons\">\n          <button onClick={handleBack} className=\"back-button\">Назад</button>\n          <button onClick={handleLogout} className=\"logout-button\">Выйти</button>\n        </div>\n      </div>\n      \n      <div className=\"documents-list\">\n      // --- Documents View (Table) ---\n                     <div className=\"documents-list\">\n                         {/* Conditional Rendering for the table */}\n                          {(user.role !== 1 || selectedWorker !== null) && filteredDocuments.length > 0 ? (\n                              <table className=\"documents-table\">\n                                  <thead>\n                                      <tr>\n                                          {/* Show Worker column only for Admin */}\n                                          {user.role === 1 && <th>Работник</th>}\n                                          <th>Программа обучения</th>\n                                          <th>Организация (Кратко)</th>\n                                          <th>Рег. номер</th>\n                                          <th>Дата выдачи</th>\n                                          <th>Действия</th>\n                                      </tr>\n                                  </thead>\n                                  <tbody>\n                                      {filteredDocuments.map((doc) => (\n                                          <tr key={doc.ID_Document}>\n                                              {/* Worker Name cell (Admin only) */}\n                                              {user.role === 1 && <td>{doc.WorkerName || getWorkerName() || 'N/A'}</td>}\n                                              {/* Document Details cells */}\n                                              <td>{doc.ProgramName || 'N/A'}</td>\n                                              <td>{doc.OrgSName || doc.OrgFName || 'N/A'}</td> {/* Display Short name, fallback to Full */}\n                                              <td>{doc.regnumber || 'N/A'}</td>\n                                              <td>{formatDate(doc.DateIssue)}</td> {/* Use formatted date */}\n                                              <td>\n                                                  {/* Button to open the modal */}\n                                                  <button\n                                                      className=\"details-button\"\n                                                      onClick={() => openModal(doc)} // Pass the whole document object\n                                                  >\n                                                      Подробности\n                                                  </button>\n                                              </td>\n                                          </tr>\n                                      ))}\n                                  </tbody>\n                              </table>\n                          ) : (\n                              // Message when no documents are available for the table view\n                              <div className=\"no-data-message full-width-message\">\n                                  {user.role === 1 ?\n                                      (selectedWorker === null ? \"Пожалуйста, выберите работника для просмотра списка документов.\" : `Нет документов для отображения у выбранного работника (${getWorkerName()}).`) :\n                                      \"У вас пока нет загруженных документов.\"\n                                  }\n                              </div>\n                          )}\n                     </div>\n                )}\n            </div>\n\n            {/* Modal Definition */}\n            <Modal\n                isOpen={isModalOpen}\n                onRequestClose={closeModal}\n                contentLabel=\"Детали документа\" // Accessibility label\n                className=\"modal-content\" // Class for styling the modal content\n                overlayClassName=\"modal-overlay\" // Class for styling the background overlay\n                ariaHideApp={true} // Helps with screen readers\n            >\n                {/* Content inside the modal */}\n                {selectedDocumentForModal ? (\n                    <>\n                        {/* Modal Header */}\n                        <h2>Детали документа № {selectedDocumentForModal.regnumber || selectedDocumentForModal.ID_Document}</h2>\n                        <button onClick={closeModal} className=\"modal-close-button\" aria-label=\"Закрыть\">&times;</button>\n\n                        {/* Modal Body with Details */}\n                        <div className=\"modal-details-grid\">\n                             {/* Display various document details */}\n                              <p><strong>Работник:</strong> {selectedDocumentForModal.WorkerName || getWorkerName() || 'N/A'}</p>\n                              <p><strong>Программа обучения:</strong> {selectedDocumentForModal.ProgramName || 'N/A'}</p>\n                              <p><strong>Организация (полное):</strong> {selectedDocumentForModal.OrgFName || 'N/A'}</p>\n                              <p><strong>Организация (краткое):</strong> {selectedDocumentForModal.OrgSName || 'N/A'}</p>\n                              <p><strong>Регистрационный номер:</strong> {selectedDocumentForModal.regnumber || 'N/A'}</p>\n                              <p><strong>Дата выдачи:</strong> {formatDate(selectedDocumentForModal.DateIssue)}</p>\n                              {/* Add any other relevant fields from your 'doc' object */}\n\n                              {/* Display KKS Criteria */}\n                             <p className=\"kks-details\">\n                                 <strong>Критерии ККС:</strong>\n                                 {/* Check if KKS_Data is an array and has items */}\n                                  {Array.isArray(selectedDocumentForModal.KKS_Data) && selectedDocumentForModal.KKS_Data.length > 0\n                                      ? selectedDocumentForModal.KKS_Data\n                                            .map(k => k.fullName || k.shortName) // Prefer full name, fallback to short\n                                            .filter(Boolean) // Remove any null/empty values\n                                            .join(', ') // Join with comma and space\n                                      : 'Нет данных'} {/* Message if no KKS data or not an array */}\n                             </p>\n                        </div>\n                    </>\n                ) : (\n                     // Fallback message if modal opens before data is ready (shouldn't usually happen)\n                    <p>Загрузка деталей...</p>\n                )}\n            </Modal>\n    </div>\n  );\n}\n\nexport default Documents; "],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,EAAEC,WAAW,QAAQ,OAAO;AAC/D,OAAOC,KAAK,MAAM,OAAO;AACzB,SAASC,WAAW,QAAQ,kBAAkB;AAC9C,OAAO,iBAAiB;AAAC,SAAAC,MAAA,IAAAC,OAAA,EAAAC,QAAA,IAAAC,SAAA;AAEzB,SAASC,SAASA,CAAA,EAAG;EAAAC,EAAA;EACnB,MAAM,CAACC,SAAS,EAAEC,YAAY,CAAC,GAAGZ,QAAQ,CAAC,EAAE,CAAC;EAC9C,MAAM,CAACa,OAAO,EAAEC,UAAU,CAAC,GAAGd,QAAQ,CAAC,IAAI,CAAC;EAC5C,MAAM,CAACe,KAAK,EAAEC,QAAQ,CAAC,GAAGhB,QAAQ,CAAC,EAAE,CAAC;EACtC,MAAMiB,QAAQ,GAAGb,WAAW,CAAC,CAAC;EAC9B,MAAMc,IAAI,GAAGC,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,CAAC;EAErD,MAAMC,cAAc,GAAGrB,WAAW,CAAC,YAAY;IAC7C,IAAI;MACFsB,OAAO,CAACC,GAAG,CAAC,8BAA8B,EAAE;QAAEC,MAAM,EAAER,IAAI,CAACS,EAAE;QAAEC,IAAI,EAAEV,IAAI,CAACU;MAAK,CAAC,CAAC;MACjF,MAAMC,QAAQ,GAAG,MAAM1B,KAAK,CAAC2B,GAAG,CAAC,qCAAqC,EAAE;QACtEC,MAAM,EAAE;UACNL,MAAM,EAAER,IAAI,CAACS,EAAE;UACfC,IAAI,EAAEV,IAAI,CAACU;QACb;MACF,CAAC,CAAC;MACFJ,OAAO,CAACC,GAAG,CAAC,qBAAqB,EAAEI,QAAQ,CAACG,IAAI,CAAC;MACjDH,QAAQ,CAACG,IAAI,CAACC,OAAO,CAAC,CAACC,GAAG,EAAEC,KAAK,KAAK;QACpCX,OAAO,CAACC,GAAG,CAAC,YAAYU,KAAK,GAAG,CAAC,GAAG,EAAE;UAClCC,SAAS,EAAEF,GAAG,CAACE,SAAS;UACxBC,UAAU,EAAEH,GAAG,CAACG,UAAU;UAC1BC,UAAU,EAAEJ,GAAG,CAACI;QACpB,CAAC,CAAC;MACJ,CAAC,CAAC;MACF1B,YAAY,CAACiB,QAAQ,CAACG,IAAI,CAAC;MAC3BlB,UAAU,CAAC,KAAK,CAAC;IACnB,CAAC,CAAC,OAAOyB,GAAG,EAAE;MAAA,IAAAC,aAAA,EAAAC,kBAAA;MACZjB,OAAO,CAACT,KAAK,CAAC,iCAAiC,EAAEwB,GAAG,CAAC;MACrDvB,QAAQ,CAAC,EAAAwB,aAAA,GAAAD,GAAG,CAACV,QAAQ,cAAAW,aAAA,wBAAAC,kBAAA,GAAZD,aAAA,CAAcR,IAAI,cAAAS,kBAAA,uBAAlBA,kBAAA,CAAoB1B,KAAK,KAAI,gCAAgC,CAAC;MACvED,UAAU,CAAC,KAAK,CAAC;IACnB;EACF,CAAC,EAAE,CAACI,IAAI,CAACS,EAAE,EAAET,IAAI,CAACU,IAAI,CAAC,CAAC;EAExB3B,SAAS,CAAC,MAAM;IACdsB,cAAc,CAAC,CAAC;EAClB,CAAC,EAAE,CAACA,cAAc,CAAC,CAAC;EAEpB,MAAMmB,YAAY,GAAGA,CAAA,KAAM;IACzBrB,YAAY,CAACsB,UAAU,CAAC,MAAM,CAAC;IAC/B1B,QAAQ,CAAC,QAAQ,CAAC;EACpB,CAAC;EAED,MAAM2B,UAAU,GAAGA,CAAA,KAAM;IACvB3B,QAAQ,CAACC,IAAI,CAACU,IAAI,KAAK,CAAC,GAAG,QAAQ,GAAG,OAAO,CAAC;EAChD,CAAC;EAED,IAAIf,OAAO,EAAE,oBAAOP,OAAA;IAAKuC,SAAS,EAAC,SAAS;IAAAC,QAAA,EAAC;EAAW;IAAAC,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAK,CAAC;EAC9D,IAAInC,KAAK,EAAE,oBAAOT,OAAA;IAAKuC,SAAS,EAAC,OAAO;IAAAC,QAAA,EAAE/B;EAAK;IAAAgC,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAM,CAAC;EAEtD,oBACE5C,OAAA;IAAKuC,SAAS,EAAC,qBAAqB;IAAAC,QAAA,gBAClCxC,OAAA;MAAKuC,SAAS,EAAC,kBAAkB;MAAAC,QAAA,gBAC/BxC,OAAA;QAAAwC,QAAA,EAAK5B,IAAI,CAACU,IAAI,KAAK,CAAC,GAAG,eAAe,GAAG;MAAe;QAAAmB,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAK,CAAC,eAC9D5C,OAAA;QAAKuC,SAAS,EAAC,gBAAgB;QAAAC,QAAA,gBAC7BxC,OAAA;UAAQ6C,OAAO,EAAEP,UAAW;UAACC,SAAS,EAAC,aAAa;UAAAC,QAAA,EAAC;QAAK;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC,eACnE5C,OAAA;UAAQ6C,OAAO,EAAET,YAAa;UAACG,SAAS,EAAC,eAAe;UAAAC,QAAA,EAAC;QAAK;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACpE,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC,eAEN5C,OAAA;MAAKuC,SAAS,EAAC,gBAAgB;MAAAC,QAAA,GAAC,mCAEjB,eAAAxC,OAAA;QAAKuC,SAAS,EAAC,gBAAgB;QAAAC,QAAA,EAEzB,CAAC5B,IAAI,CAACU,IAAI,KAAK,CAAC,IAAIwB,cAAc,KAAK,IAAI,KAAKC,iBAAiB,CAACC,MAAM,GAAG,CAAC,gBACzEhD,OAAA;UAAOuC,SAAS,EAAC,iBAAiB;UAAAC,QAAA,gBAC9BxC,OAAA;YAAAwC,QAAA,eACIxC,OAAA;cAAAwC,QAAA,GAEK5B,IAAI,CAACU,IAAI,KAAK,CAAC,iBAAItB,OAAA;gBAAAwC,QAAA,EAAI;cAAQ;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI,CAAC,eACrC5C,OAAA;gBAAAwC,QAAA,EAAI;cAAkB;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI,CAAC,eAC3B5C,OAAA;gBAAAwC,QAAA,EAAI;cAAoB;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI,CAAC,eAC7B5C,OAAA;gBAAAwC,QAAA,EAAI;cAAU;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI,CAAC,eACnB5C,OAAA;gBAAAwC,QAAA,EAAI;cAAW;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI,CAAC,eACpB5C,OAAA;gBAAAwC,QAAA,EAAI;cAAQ;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACjB;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACF,CAAC,eACR5C,OAAA;YAAAwC,QAAA,EACKO,iBAAiB,CAACE,GAAG,CAAErB,GAAG,iBACvB5B,OAAA;cAAAwC,QAAA,GAEK5B,IAAI,CAACU,IAAI,KAAK,CAAC,iBAAItB,OAAA;gBAAAwC,QAAA,EAAKZ,GAAG,CAACsB,UAAU,IAAIC,aAAa,CAAC,CAAC,IAAI;cAAK;gBAAAV,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAK,CAAC,eAEzE5C,OAAA;gBAAAwC,QAAA,EAAKZ,GAAG,CAACwB,WAAW,IAAI;cAAK;gBAAAX,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAK,CAAC,eACnC5C,OAAA;gBAAAwC,QAAA,EAAKZ,GAAG,CAACyB,QAAQ,IAAIzB,GAAG,CAAC0B,QAAQ,IAAI;cAAK;gBAAAb,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAK,CAAC,KAAC,eACjD5C,OAAA;gBAAAwC,QAAA,EAAKZ,GAAG,CAACE,SAAS,IAAI;cAAK;gBAAAW,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAK,CAAC,eACjC5C,OAAA;gBAAAwC,QAAA,EAAKe,UAAU,CAAC3B,GAAG,CAAC4B,SAAS;cAAC;gBAAAf,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAK,CAAC,KAAC,eACrC5C,OAAA;gBAAAwC,QAAA,eAEIxC,OAAA;kBACIuC,SAAS,EAAC,gBAAgB;kBAC1BM,OAAO,EAAEA,CAAA,KAAMY,SAAS,CAAC7B,GAAG,CAAE,CAAC;kBAAA;kBAAAY,QAAA,EAClC;gBAED;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAQ;cAAC;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACT,CAAC;YAAA,GAhBAhB,GAAG,CAAC8B,WAAW;cAAAjB,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAiBpB,CACP;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACC,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACL,CAAC;QAAA;QAER;QACA5C,OAAA;UAAKuC,SAAS,EAAC,oCAAoC;UAAAC,QAAA,EAC9C5B,IAAI,CAACU,IAAI,KAAK,CAAC,GACXwB,cAAc,KAAK,IAAI,GAAG,iEAAiE,GAAG,0DAA0DK,aAAa,CAAC,CAAC,IAAI,GAC5K;QAAwC;UAAAV,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAE3C;MACR;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACD,CAAC,MAEf;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAK,CAAC,eAGN5C,OAAA,CAAC2D,KAAK;MACFC,MAAM,EAAEC,WAAY;MACpBC,cAAc,EAAEC,UAAW;MAC3BC,YAAY,EAAC,6FAAkB,CAAC;MAAA;MAChCzB,SAAS,EAAC,eAAe,CAAC;MAAA;MAC1B0B,gBAAgB,EAAC,eAAe,CAAC;MAAA;MACjCC,WAAW,EAAE,IAAK,CAAC;MAAA;MAAA1B,QAAA,EAGlB2B,wBAAwB,gBACrBnE,OAAA,CAAAE,SAAA;QAAAsC,QAAA,gBAEIxC,OAAA;UAAAwC,QAAA,GAAI,qGAAmB,EAAC2B,wBAAwB,CAACrC,SAAS,IAAIqC,wBAAwB,CAACT,WAAW;QAAA;UAAAjB,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAK,CAAC,eACxG5C,OAAA;UAAQ6C,OAAO,EAAEkB,UAAW;UAACxB,SAAS,EAAC,oBAAoB;UAAC,cAAW,4CAAS;UAAAC,QAAA,EAAC;QAAO;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC,eAGjG5C,OAAA;UAAKuC,SAAS,EAAC,oBAAoB;UAAAC,QAAA,gBAE7BxC,OAAA;YAAAwC,QAAA,gBAAGxC,OAAA;cAAAwC,QAAA,EAAQ;YAAS;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC,KAAC,EAACuB,wBAAwB,CAACjB,UAAU,IAAIC,aAAa,CAAC,CAAC,IAAI,KAAK;UAAA;YAAAV,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,eACnG5C,OAAA;YAAAwC,QAAA,gBAAGxC,OAAA;cAAAwC,QAAA,EAAQ;YAAmB;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC,KAAC,EAACuB,wBAAwB,CAACf,WAAW,IAAI,KAAK;UAAA;YAAAX,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,eAC3F5C,OAAA;YAAAwC,QAAA,gBAAGxC,OAAA;cAAAwC,QAAA,EAAQ;YAAqB;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC,KAAC,EAACuB,wBAAwB,CAACb,QAAQ,IAAI,KAAK;UAAA;YAAAb,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,eAC1F5C,OAAA;YAAAwC,QAAA,gBAAGxC,OAAA;cAAAwC,QAAA,EAAQ;YAAsB;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC,KAAC,EAACuB,wBAAwB,CAACd,QAAQ,IAAI,KAAK;UAAA;YAAAZ,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,eAC3F5C,OAAA;YAAAwC,QAAA,gBAAGxC,OAAA;cAAAwC,QAAA,EAAQ;YAAsB;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC,KAAC,EAACuB,wBAAwB,CAACrC,SAAS,IAAI,KAAK;UAAA;YAAAW,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,eAC5F5C,OAAA;YAAAwC,QAAA,gBAAGxC,OAAA;cAAAwC,QAAA,EAAQ;YAAY;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC,KAAC,EAACW,UAAU,CAACY,wBAAwB,CAACX,SAAS,CAAC;UAAA;YAAAf,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,eAItF5C,OAAA;YAAGuC,SAAS,EAAC,aAAa;YAAAC,QAAA,gBACtBxC,OAAA;cAAAwC,QAAA,EAAQ;YAAa;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC,EAE5BwB,KAAK,CAACC,OAAO,CAACF,wBAAwB,CAACG,QAAQ,CAAC,IAAIH,wBAAwB,CAACG,QAAQ,CAACtB,MAAM,GAAG,CAAC,GAC3FmB,wBAAwB,CAACG,QAAQ,CAC5BrB,GAAG,CAACsB,CAAC,IAAIA,CAAC,CAACC,QAAQ,IAAID,CAAC,CAACE,SAAS,CAAC,CAAC;YAAA,CACpCC,MAAM,CAACC,OAAO,CAAC,CAAC;YAAA,CAChBC,IAAI,CAAC,IAAI,CAAC,CAAC;YAAA,EAChB,YAAY,EAAC,GAAC;UAAA;YAAAnC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACtB,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACJ,CAAC;MAAA,eACR,CAAC;MAAA;MAEF;MACD5C,OAAA;QAAAwC,QAAA,EAAG;MAAmB;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAG;IAC5B;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACE,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACX,CAAC;AAEV;AAACxC,EAAA,CA/JQD,SAAS;EAAA,QAICL,WAAW;AAAA;AAAA+E,EAAA,GAJrB1E,SAAS;AAiKlB,eAAeA,SAAS;AAAC,IAAA0E,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
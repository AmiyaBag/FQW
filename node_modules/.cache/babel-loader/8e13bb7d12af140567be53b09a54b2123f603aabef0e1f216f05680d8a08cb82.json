{"ast":null,"code":"var _jsxFileName = \"D:\\\\Amina\\\\VScode\\\\FQW_new\\\\src\\\\components\\\\AdminPanel.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$(),\n  _s3 = $RefreshSig$(),\n  _s4 = $RefreshSig$();\nimport React, { useState, useEffect, useMemo, useCallback } from 'react';\nimport axios from 'axios';\nimport { useNavigate } from 'react-router-dom';\nimport './AdminPanel.css';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst apiUrl = process.env.REACT_APP_API_URL; // Вынесем в глобальную область видимости файла\n\n// --- Вспомогательная функция для форматирования даты ---\nconst formatDate = (dateStr, type = 'date') => {\n  if (!dateStr) return ''; // Возвращаем пустую строку для input[type=date] или для отображения\n  try {\n    const date = new Date(dateStr);\n    if (isNaN(date.getTime())) return ''; // Некорректная дата\n\n    if (type === 'datetime-local') {\n      // Формат YYYY-MM-DDTHH:mm (пример) - нужен для input type=\"datetime-local\"\n      // Корректируем под часовой пояс, чтобы избежать смещения на день назад/вперед\n      const offset = date.getTimezoneOffset();\n      const adjustedDate = new Date(date.getTime() - offset * 60 * 1000);\n      return adjustedDate.toISOString().slice(0, 16);\n    } else if (type === 'date') {\n      // Формат YYYY-MM-DD (нужен для input type=\"date\")\n      const year = date.getFullYear();\n      const month = (date.getMonth() + 1).toString().padStart(2, '0');\n      const day = date.getDate().toString().padStart(2, '0');\n      return `${year}-${month}-${day}`;\n    } else {\n      // Формат DD.MM.YYYY (для отображения в таблице)\n      return date.toLocaleDateString('ru-RU');\n    }\n  } catch (e) {\n    console.error(\"Ошибка форматирования даты:\", dateStr, e);\n    return ''; // Возвращаем пустую строку при ошибке\n  }\n};\n\n// --- Компонент AddItemForm (БЕЗ ИЗМЕНЕНИЙ) ---\nconst AddItemForm = ({\n  type,\n  onSave,\n  onCancel,\n  programTypes = [],\n  allOrganizations = []\n}) => {\n  _s();\n  // ... (код AddItemForm остается прежним) ...\n  const [newItem, setNewItem] = useState({});\n  useEffect(() => {\n    setNewItem({});\n  }, [type]);\n  const handleChange = (field, value) => {\n    setNewItem(prev => ({\n      ...prev,\n      [field]: value\n    }));\n  };\n  const handleSubmit = e => {\n    e.preventDefault();\n    onSave(newItem);\n    setNewItem({});\n  };\n  const handleCancel = e => {\n    e.preventDefault();\n    setNewItem({});\n    onCancel();\n  };\n  if (type === 'programs') {\n    return /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      className: \"add-form\",\n      children: [\" \", /*#__PURE__*/_jsxDEV(\"h4\", {\n        children: \"\\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C \\u043F\\u0440\\u043E\\u0433\\u0440\\u0430\\u043C\\u043C\\u0443\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 14\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        placeholder: \"\\u041D\\u0430\\u0437\\u0432\\u0430\\u043D\\u0438\\u0435 \\u043F\\u0440\\u043E\\u0433\\u0440\\u0430\\u043C\\u043C\\u044B\",\n        required: true,\n        value: newItem.Name_ProgDPO || '',\n        onChange: e => handleChange('Name_ProgDPO', e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n        required: true,\n        value: newItem.id_type || '',\n        onChange: e => handleChange('id_type', e.target.value),\n        children: [\" \", /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"\",\n          disabled: true,\n          children: \"\\u0412\\u044B\\u0431\\u0435\\u0440\\u0438\\u0442\\u0435 \\u0442\\u0438\\u043F\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 123\n        }, this), \" \", programTypes.map(pt => /*#__PURE__*/_jsxDEV(\"option\", {\n          value: pt.id_type,\n          children: pt.Name_Type\n        }, pt.id_type, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 195\n        }, this)), \" \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n        required: true,\n        value: newItem.ID_Org || '',\n        onChange: e => handleChange('ID_Org', e.target.value),\n        children: [\" \", /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"\",\n          disabled: true,\n          children: \"\\u0412\\u044B\\u0431\\u0435\\u0440\\u0438\\u0442\\u0435 \\u043E\\u0440\\u0433\\u0430\\u043D\\u0438\\u0437\\u0430\\u0446\\u0438\\u044E\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 121\n        }, this), \" \", allOrganizations.map(org => /*#__PURE__*/_jsxDEV(\"option\", {\n          value: org.ID_Org,\n          children: org.FName\n        }, org.ID_Org, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 206\n        }, this)), \" \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-actions\",\n        children: [\" \", /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          children: \"\\u0421\\u043E\\u0445\\u0440\\u0430\\u043D\\u0438\\u0442\\u044C\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 48\n        }, this), \" \", /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          onClick: handleCancel,\n          children: \"\\u041E\\u0442\\u043C\\u0435\\u043D\\u0430\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 89\n        }, this), \" \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 17\n      }, this), \" \"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 18\n    }, this);\n  }\n  if (type === 'organizations') {\n    return /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      className: \"add-form\",\n      children: [\" \", /*#__PURE__*/_jsxDEV(\"h4\", {\n        children: \"\\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C \\u043E\\u0440\\u0433\\u0430\\u043D\\u0438\\u0437\\u0430\\u0446\\u0438\\u044E\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        placeholder: \"\\u041F\\u043E\\u043B\\u043D\\u043E\\u0435 \\u043D\\u0430\\u0437\\u0432\\u0430\\u043D\\u0438\\u0435\",\n        required: true,\n        value: newItem.FName || '',\n        onChange: e => handleChange('FName', e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 12\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        placeholder: \"\\u041A\\u0440\\u0430\\u0442\\u043A\\u043E\\u0435 \\u043D\\u0430\\u0437\\u0432\\u0430\\u043D\\u0438\\u0435\",\n        required: true,\n        value: newItem.SName || '',\n        onChange: e => handleChange('SName', e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 12\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-actions\",\n        children: [\" \", /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          children: \"\\u0421\\u043E\\u0445\\u0440\\u0430\\u043D\\u0438\\u0442\\u044C\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 43\n        }, this), \" \", /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          onClick: handleCancel,\n          children: \"\\u041E\\u0442\\u043C\\u0435\\u043D\\u0430\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 84\n        }, this), \" \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 12\n      }, this), \" \"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 17\n    }, this);\n  }\n  if (type === 'kks') {\n    return /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      className: \"add-form\",\n      children: [\" \", /*#__PURE__*/_jsxDEV(\"h4\", {\n        children: \"\\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C KKS\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        placeholder: \"\\u041D\\u0430\\u0437\\u0432\\u0430\\u043D\\u0438\\u0435 KKS\",\n        required: true,\n        value: newItem.Name_KKS || '',\n        onChange: e => handleChange('Name_KKS', e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 12\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        placeholder: \"\\u041A\\u0440\\u0430\\u0442\\u043A\\u043E\\u0435 \\u043E\\u0431\\u043E\\u0437\\u043D\\u0430\\u0447\\u0435\\u043D\\u0438\\u0435\",\n        value: newItem.SName_KKS || '',\n        onChange: e => handleChange('SName_KKS', e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 12\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-actions\",\n        children: [\" \", /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          children: \"\\u0421\\u043E\\u0445\\u0440\\u0430\\u043D\\u0438\\u0442\\u044C\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 43\n        }, this), \" \", /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          onClick: handleCancel,\n          children: \"\\u041E\\u0442\\u043C\\u0435\\u043D\\u0430\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 84\n        }, this), \" \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 12\n      }, this), \" \"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 18\n    }, this);\n  }\n  return null;\n};\n\n// --- Компонент WorkerForm (БЕЗ ИЗМЕНЕНИЙ) ---\n_s(AddItemForm, \"Ma3KGYVnITn2jfncCAugbkt84zE=\");\n_c = AddItemForm;\nconst WorkerForm = ({\n  initialData = {},\n  onSave,\n  onCancel,\n  isEditing = false\n}) => {\n  _s2();\n  // ... (код WorkerForm остается прежним) ...\n  const [workerData, setWorkerData] = useState(initialData);\n  const [newPassword, setNewPassword] = useState('');\n  useEffect(() => {\n    setWorkerData({\n      ...initialData,\n      Role: initialData.Role !== undefined ? initialData.Role : ''\n    });\n    setNewPassword('');\n  }, [initialData]);\n  const handleChange = (field, value) => {\n    setWorkerData(prev => ({\n      ...prev,\n      [field]: value\n    }));\n  };\n  const handlePasswordChange = e => {\n    setNewPassword(e.target.value);\n  };\n  const handleSubmit = e => {\n    e.preventDefault();\n    const dataToSend = {\n      ...workerData\n    };\n    if (newPassword) {\n      dataToSend.Password = newPassword;\n    } else if (!isEditing) {\n      alert('Пароль обязателен при создании пользователя.');\n      return;\n    }\n    onSave(dataToSend);\n  };\n  const handleCancelClick = e => {\n    e.preventDefault();\n    onCancel();\n  };\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    onSubmit: handleSubmit,\n    className: \"add-form user-form\",\n    children: [\" \", /*#__PURE__*/_jsxDEV(\"h4\", {\n      children: isEditing ? `Редактировать работника (ID: ${workerData.ID_Worker})` : 'Добавить работника'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 76\n    }, this), \" \", /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      placeholder: \"\\u0424\\u0418\\u041E \\u0420\\u0430\\u0431\\u043E\\u0442\\u043D\\u0438\\u043A\\u0430\",\n      required: true,\n      value: workerData.FName_Worker || '',\n      onChange: e => handleChange('FName_Worker', e.target.value)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 178\n    }, this), \" \", /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      placeholder: \"\\u041B\\u043E\\u0433\\u0438\\u043D\",\n      required: true,\n      value: workerData.Login || '',\n      onChange: e => handleChange('Login', e.target.value)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 338\n    }, this), \" \", /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"password\",\n      placeholder: isEditing ? 'Новый пароль (оставьте пустым, чтобы не менять)' : 'Пароль',\n      value: newPassword,\n      onChange: handlePasswordChange,\n      required: !isEditing\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 476\n    }, this), \" \", /*#__PURE__*/_jsxDEV(\"select\", {\n      required: true,\n      value: workerData.Role,\n      onChange: e => handleChange('Role', parseInt(e.target.value, 10)),\n      children: [\" \", /*#__PURE__*/_jsxDEV(\"option\", {\n        value: \"\",\n        disabled: true,\n        children: \"\\u0412\\u044B\\u0431\\u0435\\u0440\\u0438\\u0442\\u0435 \\u0440\\u043E\\u043B\\u044C\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 773\n      }, this), \" \", /*#__PURE__*/_jsxDEV(\"option\", {\n        value: 0,\n        children: \"\\u0420\\u0430\\u0431\\u043E\\u0442\\u043D\\u0438\\u043A \\u041E\\u0423\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 822\n      }, this), \" \", /*#__PURE__*/_jsxDEV(\"option\", {\n        value: 1,\n        children: \"\\u0420\\u0430\\u0431\\u043E\\u0442\\u043D\\u0438\\u043A \\u0426\\u0414\\u041E (\\u0410\\u0434\\u043C\\u0438\\u043D)\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 861\n      }, this), \" \"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 662\n    }, this), \" \", /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"form-actions\",\n      children: [\" \", /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        children: \"\\u0421\\u043E\\u0445\\u0440\\u0430\\u043D\\u0438\\u0442\\u044C\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 950\n      }, this), \" \", /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"button\",\n        onClick: handleCancelClick,\n        children: \"\\u041E\\u0442\\u043C\\u0435\\u043D\\u0430\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 991\n      }, this), \" \"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 919\n    }, this), \" \"]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 82,\n    columnNumber: 14\n  }, this);\n};\n\n// --- НОВЫЙ Компонент формы для Документов ---\n_s2(WorkerForm, \"1JY0PzQ6PzVXUUXZSXa4uoe2zeo=\");\n_c2 = WorkerForm;\nconst DocumentForm = ({\n  initialData = {},\n  onSave,\n  onCancel,\n  isEditing = false,\n  allWorkers = [],\n  allPrograms = []\n}) => {\n  _s3();\n  const [docData, setDocData] = useState({});\n  useEffect(() => {\n    // Инициализация формы данными для редактирования или пустыми значениями\n    // Преобразуем даты в формат YYYY-MM-DD для input type=\"date\"\n    setDocData({\n      ID_Worker: initialData.ID_Worker || '',\n      ID_ProgDPO: initialData.ID_ProgDPO || '',\n      regnumber: initialData.regnumber || '',\n      formseries: initialData.formseries || '',\n      formnumber: initialData.formnumber || '',\n      DateIssue: formatDate(initialData.DateIssue, 'date'),\n      // Преобразование\n      DataStart: formatDate(initialData.DataStart, 'date'),\n      // Преобразование\n      DataEnd: formatDate(initialData.DataEnd, 'date') // Преобразование\n    });\n  }, [initialData]);\n  const handleChange = (field, value) => {\n    setDocData(prev => ({\n      ...prev,\n      [field]: value\n    }));\n  };\n  const handleSubmit = e => {\n    e.preventDefault();\n    // Перед отправкой можно добавить валидацию, если нужно\n    const dataToSend = {\n      ...docData\n    };\n    // Если ID есть (при редактировании), добавляем его\n    if (isEditing && initialData.ID_Document) {\n      dataToSend.ID_Document = initialData.ID_Document;\n    }\n    onSave(dataToSend); // Вызываем колбэк сохранения\n  };\n  const handleCancelClick = e => {\n    e.preventDefault();\n    onCancel(); // Вызываем колбэк отмены\n  };\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    onSubmit: handleSubmit,\n    className: \"add-form document-form\",\n    children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n      children: isEditing ? `Редактировать документ (ID: ${initialData.ID_Document})` : 'Добавить документ'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n      htmlFor: \"doc-worker\",\n      children: \"\\u0420\\u0430\\u0431\\u043E\\u0442\\u043D\\u0438\\u043A:\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n      id: \"doc-worker\",\n      required: true,\n      value: docData.ID_Worker,\n      onChange: e => handleChange('ID_Worker', e.target.value ? parseInt(e.target.value, 10) : ''),\n      children: [/*#__PURE__*/_jsxDEV(\"option\", {\n        value: \"\",\n        disabled: true,\n        children: \"-- \\u0412\\u044B\\u0431\\u0435\\u0440\\u0438\\u0442\\u0435 \\u0440\\u0430\\u0431\\u043E\\u0442\\u043D\\u0438\\u043A\\u0430 --\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 17\n      }, this), allWorkers.map(w => /*#__PURE__*/_jsxDEV(\"option\", {\n        value: w.ID_Worker,\n        children: [w.FName_Worker, \" (ID: \", w.ID_Worker, \")\"]\n      }, w.ID_Worker, true, {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 38\n      }, this))]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n      htmlFor: \"doc-program\",\n      children: \"\\u041F\\u0440\\u043E\\u0433\\u0440\\u0430\\u043C\\u043C\\u0430 \\u0414\\u041F\\u041E:\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 14\n    }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n      id: \"doc-program\",\n      required: true,\n      value: docData.ID_ProgDPO,\n      onChange: e => handleChange('ID_ProgDPO', e.target.value ? parseInt(e.target.value, 10) : ''),\n      children: [/*#__PURE__*/_jsxDEV(\"option\", {\n        value: \"\",\n        disabled: true,\n        children: \"-- \\u0412\\u044B\\u0431\\u0435\\u0440\\u0438\\u0442\\u0435 \\u043F\\u0440\\u043E\\u0433\\u0440\\u0430\\u043C\\u043C\\u0443 --\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 18\n      }, this), allPrograms.map(p => /*#__PURE__*/_jsxDEV(\"option\", {\n        value: p.ID_ProgDPO,\n        children: p.Name_ProgDPO\n      }, p.ID_ProgDPO, false, {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 40\n      }, this))]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 14\n    }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n      htmlFor: \"doc-regnumber\",\n      children: \"\\u0420\\u0435\\u0433\\u0438\\u0441\\u0442\\u0440\\u0430\\u0446\\u0438\\u043E\\u043D\\u043D\\u044B\\u0439 \\u043D\\u043E\\u043C\\u0435\\u0440:\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      id: \"doc-regnumber\",\n      type: \"text\",\n      placeholder: \"\\u0420\\u0435\\u0433. \\u043D\\u043E\\u043C\\u0435\\u0440\",\n      value: docData.regnumber,\n      onChange: e => handleChange('regnumber', e.target.value)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n      htmlFor: \"doc-formseries\",\n      children: \"\\u0421\\u0435\\u0440\\u0438\\u044F \\u0444\\u043E\\u0440\\u043C\\u044B:\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      id: \"doc-formseries\",\n      type: \"text\",\n      placeholder: \"\\u0421\\u0435\\u0440\\u0438\\u044F\",\n      value: docData.formseries,\n      onChange: e => handleChange('formseries', e.target.value)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n      htmlFor: \"doc-formnumber\",\n      children: \"\\u041D\\u043E\\u043C\\u0435\\u0440 \\u0444\\u043E\\u0440\\u043C\\u044B:\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      id: \"doc-formnumber\",\n      type: \"text\",\n      placeholder: \"\\u041D\\u043E\\u043C\\u0435\\u0440\",\n      value: docData.formnumber,\n      onChange: e => handleChange('formnumber', e.target.value)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n      htmlFor: \"doc-dateissue\",\n      children: \"\\u0414\\u0430\\u0442\\u0430 \\u0432\\u044B\\u0434\\u0430\\u0447\\u0438:\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 14\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      id: \"doc-dateissue\",\n      type: \"date\",\n      value: docData.DateIssue,\n      onChange: e => handleChange('DateIssue', e.target.value)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 14\n    }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n      htmlFor: \"doc-datastart\",\n      children: \"\\u0414\\u0430\\u0442\\u0430 \\u043D\\u0430\\u0447\\u0430\\u043B\\u0430:\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 14\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      id: \"doc-datastart\",\n      type: \"date\",\n      value: docData.DataStart,\n      onChange: e => handleChange('DataStart', e.target.value)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 14\n    }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n      htmlFor: \"doc-dataend\",\n      children: \"\\u0414\\u0430\\u0442\\u0430 \\u043E\\u043A\\u043E\\u043D\\u0447\\u0430\\u043D\\u0438\\u044F:\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 14\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      id: \"doc-dataend\",\n      type: \"date\",\n      value: docData.DataEnd,\n      onChange: e => handleChange('DataEnd', e.target.value)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 14\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"form-actions\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        children: \"\\u0421\\u043E\\u0445\\u0440\\u0430\\u043D\\u0438\\u0442\\u044C\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"button\",\n        onClick: handleCancelClick,\n        children: \"\\u041E\\u0442\\u043C\\u0435\\u043D\\u0430\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 125,\n    columnNumber: 9\n  }, this);\n};\n\n// --- Основной компонент AdminPanel ---\n_s3(DocumentForm, \"llyjACacB9R8W9K/NzuyDSKgQg0=\");\n_c3 = DocumentForm;\nfunction AdminPanel() {\n  _s4();\n  // Состояния\n  const [activeTab, setActiveTab] = useState('programs'); // 'programs', 'organizations', 'kks', 'workers', 'documents'\n  const [programs, setPrograms] = useState([]);\n  const [organizations, setOrganizations] = useState([]);\n  const [kks, setKks] = useState([]);\n  const [workers, setWorkers] = useState([]);\n  const [documents, setDocuments] = useState([]); // <<< НОВОЕ СОСТОЯНИЕ ДЛЯ ДОКУМЕНТОВ\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState('');\n  const [editingItem, setEditingItem] = useState(null);\n  const [addingItemType, setAddingItemType] = useState(null);\n  const [programTypes, setProgramTypes] = useState([]);\n  const [programTypesData, setProgramTypesData] = useState([]);\n  const [allOrganizations, setAllOrganizations] = useState([]);\n  const [allWorkers, setAllWorkers] = useState([]); // <<< НУЖНО ДЛЯ ФОРМЫ ДОКУМЕНТОВ\n  const [allPrograms, setAllPrograms] = useState([]); // <<< НУЖНО ДЛЯ ФОРМЫ ДОКУМЕНТОВ\n  const [sortConfig, setSortConfig] = useState({\n    key: null,\n    direction: 'ascending'\n  });\n  const navigate = useNavigate();\n  // apiUrl определен глобально выше\n\n  // Получение пользователя (без изменений)\n  const user = useMemo(() => {\n    /* ... */\n    const storedUser = localStorage.getItem('user');\n    try {\n      return storedUser ? JSON.parse(storedUser) : null;\n    } catch (e) {\n      console.error(\"Failed to parse user from localStorage\", e);\n      localStorage.removeItem('user');\n      return null;\n    }\n  }, []);\n\n  // --- Сортировка ---\n  const requestSort = key => {\n    /* ... */\n    let direction = 'ascending';\n    if (sortConfig.key === key && sortConfig.direction === 'ascending') {\n      direction = 'descending';\n    }\n    setSortConfig({\n      key,\n      direction\n    });\n  };\n  const getIdKeyForTab = tab => {\n    switch (tab) {\n      case 'programs':\n        return 'ID_ProgDPO';\n      case 'organizations':\n        return 'ID_Org';\n      case 'kks':\n        return 'ID_KKS';\n      case 'workers':\n        return 'ID_Worker';\n      case 'documents':\n        return 'ID_Document';\n      default:\n        return null;\n    }\n  };\n  useEffect(() => {\n    /* ... сброс сортировки и форм ... */\n    const idKey = getIdKeyForTab(activeTab);\n    if (idKey) {\n      setSortConfig({\n        key: idKey,\n        direction: 'ascending'\n      });\n    } else {\n      setSortConfig({\n        key: null,\n        direction: 'ascending'\n      });\n    }\n    setEditingItem(null);\n    setAddingItemType(null);\n  }, [activeTab]);\n\n  // --- Загрузка данных ---\n  const fetchData = useCallback(async (forceAux = false) => {\n    if (!user || user.role !== 1) {\n      /* ... проверка админа ... */\n      console.warn(\"fetchData called without admin user, aborting.\");\n      setLoading(false);\n      setError(\"Доступ запрещен. Требуются права администратора.\");\n      return;\n    }\n    setLoading(true);\n    setError('');\n    console.log(`Workspaceing data. Active tab: ${activeTab}`);\n\n    // Загрузка вспомогательных данных (типы, орг, работники, программы)\n    // Добавили allPrograms и allWorkers\n    if (forceAux || programTypes.length === 0 || allOrganizations.length === 0 || allWorkers.length === 0 || allPrograms.length === 0) {\n      try {\n        console.log(\"Fetching auxiliary data (types, orgs, workers, programs)...\");\n        const endpoints = [`${apiUrl}/api/program-types`, `${apiUrl}/api/programs/types`, `${apiUrl}/api/organizations`, `${apiUrl}/api/workers/admin`,\n        // Эндпоинт для ВСЕХ работников\n        `${apiUrl}/api/programs` // Эндпоинт для ВСЕХ программ\n        ];\n        // Обновляем Promise.all для 4х запросов\n        const [typesRes, orgsRes, workersRes, progsRes] = await Promise.all(endpoints.map(url => axios.get(url)));\n        const fetchedTypes = typesRes.data || [];\n        setProgramTypes(fetchedTypes); // Для dropdown в формах\n        setProgramTypesData(fetchedTypes);\n        setProgramTypes(typesRes.data || []);\n        setAllOrganizations(orgsRes.data || []);\n        setAllWorkers(workersRes.data || []); // Сохраняем всех работников\n        setAllPrograms(progsRes.data || []); // Сохраняем все программы\n        console.log(\"Auxiliary data fetched.\");\n      } catch (err) {\n        console.error('Error fetching auxiliary data:', err);\n        const auxErrorMsg = 'Ошибка загрузки вспомогательных данных (типы, организации, работники, программы).';\n        setError(prev => prev ? `<span class=\"math-inline\">\\{prev\\}\\\\n</span>{auxErrorMsg}` : auxErrorMsg);\n        // Сброс состояний при ошибке загрузки вспомогательных данных\n        setProgramTypes([]);\n        setProgramTypesData([]); // <<< ДОБАВИТЬ\n        setAllOrganizations([]);\n        setAllWorkers([]);\n        setAllPrograms([]);\n      }\n    }\n\n    // Загрузка основных данных\n    try {\n      let response;\n      let endpoint;\n      let config = {};\n      switch (activeTab) {\n        case 'programs':\n          endpoint = `${apiUrl}/api/programs`;\n          break;\n        case 'organizations':\n          endpoint = `${apiUrl}/api/organizations`;\n          break;\n        case 'kks':\n          endpoint = `${apiUrl}/api/kks`;\n          break;\n        case 'workers':\n          endpoint = `${apiUrl}/api/workers/admin`;\n          break;\n        case 'documents':\n          endpoint = `${apiUrl}/api/documents`;\n          // <<< ДОБАВЛЯЕМ ПАРАМЕТРЫ ДЛЯ ЗАПРОСА ДОКУМЕНТОВ >>>\n          if (user !== null && user !== void 0 && user.workerId && (user === null || user === void 0 ? void 0 : user.role) !== undefined) {\n            config.params = {\n              userId: user.workerId,\n              // ID текущего админа\n              role: user.role // Роль текущего админа (должна быть 1)\n            };\n          } else {\n            // Если вдруг нет данных админа, прерываем (хотя проверка есть выше)\n            console.error(\"Admin user data (workerId, role) is missing for documents fetch.\");\n            setError(\"Не удалось получить данные администратора для запроса.\");\n            setLoading(false);\n            return;\n          }\n          break;\n        default:\n          console.warn(`Unknown activeTab: ${activeTab}`);\n          setLoading(false);\n          return;\n      }\n      console.log(`Attempting to fetch ${endpoint}...`, config); // Логируем конфиг\n      // <<< ИСПОЛЬЗУЕМ config В ЗАПРОСЕ >>>\n      response = await axios.get(endpoint, config);\n      console.log(`Received response from ${endpoint}`, response.status);\n\n      // Проверка на массив перед обновлением состояния\n      const responseData = Array.isArray(response.data) ? response.data : [];\n      if (!Array.isArray(response.data)) {\n        console.warn(`API endpoint ${endpoint} did not return an array.`);\n      }\n      switch (activeTab) {\n        case 'programs':\n          setPrograms(responseData);\n          break;\n        case 'organizations':\n          setOrganizations(responseData);\n          setAllOrganizations(responseData);\n          break;\n        case 'kks':\n          setKks(responseData);\n          break;\n        case 'workers':\n          setWorkers(responseData);\n          break;\n        case 'documents':\n          setDocuments(responseData);\n          break;\n      }\n    } catch (err) {\n      console.error(`Error fetching ${activeTab}:`, err.response || err.message || err);\n      const mainErrorMsg = `Ошибка загрузки данных для вкладки \"${activeTab}\".`;\n      setError(prev => prev ? `${prev}\\n${mainErrorMsg}` : mainErrorMsg);\n      // Очищаем соответствующее состояние при ошибке\n      switch (activeTab) {\n        case 'programs':\n          setPrograms([]);\n          break;\n        case 'organizations':\n          setOrganizations([]);\n          break;\n        case 'kks':\n          setKks([]);\n          break;\n        case 'workers':\n          setWorkers([]);\n          break;\n        case 'documents':\n          setDocuments([]);\n          break;\n      }\n    } finally {\n      console.log(`Setting loading to false for ${activeTab}.`);\n      setLoading(false);\n    }\n  }, [activeTab, user, apiUrl, programTypes.length, allOrganizations.length, allWorkers.length, allPrograms.length]); // Добавили зависимости\n\n  useEffect(() => {\n    if (!user || user.role !== 1) {\n      navigate('/login');\n      return;\n    }\n    fetchData();\n  }, [user, navigate, fetchData]);\n\n  // --- Мемоизированные отсортированные списки ---\n  const sortedPrograms = useMemo(() => {\n    let sortableItems = [...programs];\n    if (sortConfig.key) {\n      sortableItems.sort((a, b) => {\n        if (a[sortConfig.key] < b[sortConfig.key]) {\n          return sortConfig.direction === 'ascending' ? -1 : 1;\n        }\n        if (a[sortConfig.key] > b[sortConfig.key]) {\n          return sortConfig.direction === 'ascending' ? 1 : -1;\n        }\n        return 0;\n      });\n    }\n    return sortableItems;\n  }, [programs, sortConfig]);\n  const sortedOrganizations = useMemo(() => {\n    let sortableItems = [...organizations];\n    if (sortConfig.key) {\n      sortableItems.sort((a, b) => {\n        const valA = a[sortConfig.key];\n        const valB = b[sortConfig.key];\n        const compareResult = typeof valA === 'number' && typeof valB === 'number' ? valA - valB : String(valA).localeCompare(String(valB));\n        return sortConfig.direction === 'ascending' ? compareResult : -compareResult;\n      });\n    }\n    return sortableItems;\n  }, [organizations, sortConfig]);\n  const sortedKks = useMemo(() => {\n    let sortableItems = [...kks];\n    if (sortConfig.key) {\n      sortableItems.sort((a, b) => {\n        const valA = a[sortConfig.key];\n        const valB = b[sortConfig.key];\n        const compareResult = typeof valA === 'number' && typeof valB === 'number' ? valA - valB : String(valA).localeCompare(String(valB));\n        return sortConfig.direction === 'ascending' ? compareResult : -compareResult;\n      });\n    }\n    return sortableItems;\n  }, [kks, sortConfig]);\n  const sortedWorkers = useMemo(() => {\n    let sortableItems = [...workers];\n    if (sortConfig.key) {\n      sortableItems.sort((a, b) => {\n        const valA = a[sortConfig.key];\n        const valB = b[sortConfig.key];\n        if (sortConfig.key === 'Role' && typeof valA === 'number' && typeof valB === 'number') {\n          return sortConfig.direction === 'ascending' ? valA - valB : valB - valA;\n        }\n        if (sortConfig.key === 'FName_Worker') {\n          const nameA = String(valA !== null && valA !== void 0 ? valA : '').toLowerCase();\n          const nameB = String(valB !== null && valB !== void 0 ? valB : '').toLowerCase();\n          if (nameA < nameB) return sortConfig.direction === 'ascending' ? -1 : 1;\n          if (nameA > nameB) return sortConfig.direction === 'ascending' ? 1 : -1;\n          return 0;\n        }\n        const compareResult = typeof valA === 'number' && typeof valB === 'number' ? valA - valB : String(valA !== null && valA !== void 0 ? valA : '').localeCompare(String(valB !== null && valB !== void 0 ? valB : ''));\n        return sortConfig.direction === 'ascending' ? compareResult : -compareResult;\n      });\n    }\n    return sortableItems;\n  }, [workers, sortConfig]);\n  const sortedDocuments = useMemo(() => {\n    let sortableItems = [...documents];\n    if (sortConfig.key) {\n      sortableItems.sort((a, b) => {\n        const valA = a[sortConfig.key];\n        const valB = b[sortConfig.key];\n\n        // Сортировка по дате\n        if (['DateIssue', 'DataStart', 'DataEnd'].includes(sortConfig.key)) {\n          const dateA = valA ? new Date(valA).getTime() : 0;\n          const dateB = valB ? new Date(valB).getTime() : 0;\n          if (isNaN(dateA) && isNaN(dateB)) return 0;\n          if (isNaN(dateA)) return sortConfig.direction === 'ascending' ? -1 : 1; // nulls/invalid first or last\n          if (isNaN(dateB)) return sortConfig.direction === 'ascending' ? 1 : -1;\n          return sortConfig.direction === 'ascending' ? dateA - dateB : dateB - dateA;\n        }\n\n        // Сортировка по имени работника или программы\n        if (['WorkerName', 'ProgramName'].includes(sortConfig.key)) {\n          const strA = String(valA !== null && valA !== void 0 ? valA : '').toLowerCase();\n          const strB = String(valB !== null && valB !== void 0 ? valB : '').toLowerCase();\n          if (strA < strB) return sortConfig.direction === 'ascending' ? -1 : 1;\n          if (strA > strB) return sortConfig.direction === 'ascending' ? 1 : -1;\n          return 0;\n        }\n\n        // Общая сортировка\n        const compareResult = typeof valA === 'number' && typeof valB === 'number' ? valA - valB : String(valA !== null && valA !== void 0 ? valA : '').localeCompare(String(valB !== null && valB !== void 0 ? valB : ''));\n        return sortConfig.direction === 'ascending' ? compareResult : -compareResult;\n      });\n    }\n    return sortableItems;\n  }, [documents, sortConfig]);\n\n  // --- Обработчики CRUD ---\n  const handleEdit = item => {\n    setEditingItem(item);\n    setAddingItemType(null);\n  };\n  const handleCancel = () => {\n    setEditingItem(null);\n  };\n  const handleChangeInline = (field, value) => {\n    setEditingItem(prev => ({\n      ...prev,\n      [field]: value\n    }));\n  };\n  const handleSave = async editedData => {\n    const itemToSave = editedData || editingItem;\n    if (!itemToSave) return;\n    const idKey = getIdKeyForTab(activeTab);\n    const id = itemToSave[idKey];\n    if (id === undefined && activeTab !== 'documents') {\n      // Для документов ID может не быть в itemToSave из формы\n      if (activeTab === 'documents' && editingItem !== null && editingItem !== void 0 && editingItem.ID_Document) {\n        // Берем ID из исходного editingItem для документов\n        id = editingItem.ID_Document;\n        itemToSave.ID_Document = id; // Добавляем ID обратно для PUT запроса, если нужно\n      } else {\n        console.error(\"Cannot save item without ID\", itemToSave);\n        setError(\"Не удалось определить ID для сохранения.\");\n        return;\n      }\n    }\n    console.log(`Saving edited item (ID: ${id}, Tab: ${activeTab}):`, itemToSave);\n    setLoading(true);\n    setError('');\n    try {\n      let endpoint;\n      switch (activeTab) {\n        case 'programs':\n          endpoint = `${apiUrl}/api/programs/${id}`;\n          break;\n        case 'organizations':\n          endpoint = `${apiUrl}/api/organizations/${id}`;\n          break;\n        case 'kks':\n          endpoint = `${apiUrl}/api/kks/${id}`;\n          break;\n        case 'workers':\n          endpoint = `${apiUrl}/api/workers/${id}`;\n          break;\n        case 'documents':\n          endpoint = `${apiUrl}/api/documents/${id}`;\n          break;\n        // <<< ДОБАВЛЕНО (нужен PUT /api/documents/:id)\n        default:\n          throw new Error(\"Неизвестная вкладка для сохранения\");\n      }\n      await axios.put(endpoint, itemToSave);\n      setEditingItem(null);\n      await fetchData();\n      console.log(`Item (ID: ${id}) saved successfully.`);\n    } catch (err) {\n      var _err$response, _err$response2, _err$response2$data;\n      console.error('Ошибка при сохранении изменений:', ((_err$response = err.response) === null || _err$response === void 0 ? void 0 : _err$response.data) || err.message || err);\n      setError(((_err$response2 = err.response) === null || _err$response2 === void 0 ? void 0 : (_err$response2$data = _err$response2.data) === null || _err$response2$data === void 0 ? void 0 : _err$response2$data.error) || 'Ошибка при сохранении данных');\n    } finally {\n      setLoading(false);\n    }\n  };\n  const handleShowAddForm = () => {\n    setAddingItemType(activeTab);\n    setEditingItem(null);\n  };\n  const handleCancelAdd = () => {\n    setAddingItemType(null);\n  };\n  const handleAddItem = async newItemData => {\n    // Добавление (POST)\n    const type = addingItemType;\n    if (!type) return;\n    console.log(`Adding new ${type}:`, newItemData);\n    setLoading(true);\n    setError('');\n    try {\n      let endpoint;\n      switch (type) {\n        case 'programs':\n          endpoint = `${apiUrl}/api/programs`;\n          break;\n        case 'organizations':\n          endpoint = `${apiUrl}/api/organizations`;\n          break;\n        case 'kks':\n          endpoint = `${apiUrl}/api/kks`;\n          break;\n        case 'workers':\n          endpoint = `${apiUrl}/api/workers`;\n          break;\n        case 'documents':\n          endpoint = `${apiUrl}/api/documents`;\n          break;\n        default:\n          throw new Error(\"Неизвестный тип для добавления\");\n      }\n      await axios.post(endpoint, newItemData);\n      setAddingItemType(null);\n      await fetchData();\n      console.log(`Item of type ${type} added successfully.`);\n    } catch (err) {\n      var _err$response3, _err$response4, _err$response4$data;\n      console.error(`Ошибка при добавлении ${type}:`, ((_err$response3 = err.response) === null || _err$response3 === void 0 ? void 0 : _err$response3.data) || err.message || err);\n      setError(((_err$response4 = err.response) === null || _err$response4 === void 0 ? void 0 : (_err$response4$data = _err$response4.data) === null || _err$response4$data === void 0 ? void 0 : _err$response4$data.error) || `Ошибка при добавлении элемента`);\n    } finally {\n      setLoading(false);\n    }\n  };\n  const handleDelete = async idToDelete => {\n    // Удаление (DELETE)\n    if (!window.confirm('Вы уверены, что хотите удалить этот элемент?')) {\n      return;\n    }\n    const idKey = getIdKeyForTab(activeTab);\n    console.log(`Deleting item with ID: ${idToDelete} (Key: ${idKey}) on tab: ${activeTab}`);\n    setLoading(true);\n    setError('');\n    try {\n      let endpoint;\n      switch (activeTab) {\n        case 'programs':\n          endpoint = `${apiUrl}/api/programs/${idToDelete}`;\n          break;\n        case 'organizations':\n          endpoint = `${apiUrl}/api/organizations/${idToDelete}`;\n          break;\n        case 'kks':\n          endpoint = `${apiUrl}/api/kks/${idToDelete}`;\n          break;\n        case 'workers':\n          endpoint = `${apiUrl}/api/workers/${idToDelete}`;\n          break;\n        case 'documents':\n          endpoint = `${apiUrl}/api/documents/${idToDelete}`;\n          break;\n        // <<< ДОБАВЛЕНО (нужен DELETE /api/documents/:id)\n        default:\n          throw new Error(\"Неизвестная вкладка для удаления\");\n      }\n      await axios.delete(endpoint);\n      if (editingItem && editingItem[idKey] === idToDelete) {\n        setEditingItem(null);\n      }\n      await fetchData();\n      console.log(`Item (ID: ${idToDelete}) deleted successfully.`);\n    } catch (err) {\n      var _err$response5, _err$response6, _err$response6$data;\n      console.error(`Ошибка при удалении элемента (ID: ${idToDelete}):`, ((_err$response5 = err.response) === null || _err$response5 === void 0 ? void 0 : _err$response5.data) || err.message || err);\n      setError(((_err$response6 = err.response) === null || _err$response6 === void 0 ? void 0 : (_err$response6$data = _err$response6.data) === null || _err$response6$data === void 0 ? void 0 : _err$response6$data.error) || 'Ошибка при удалении элемента. Возможно, на него есть ссылки.');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // --- Вспомогательные функции рендеринга ---\n  const displayRole = roleValue => {\n    /* ... */return roleValue === 1 ? 'Работник ЦДО' : roleValue === 0 ? 'Работник ОУ' : 'Неизвестно';\n  };\n  const renderSortableHeader = (label, key) =>\n  /*#__PURE__*/\n  /* ... */\n  _jsxDEV(\"th\", {\n    onClick: () => requestSort(key),\n    className: \"sortable-header\",\n    children: [\" \", label, \" \", sortConfig.key === key ? sortConfig.direction === 'ascending' ? ' ▲' : ' ▼' : ' ↕', \" \"]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 513,\n    columnNumber: 62\n  }, this);\n\n  // --- Основной рендеринг компонента ---\n  if (!user && loading) return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"loading\",\n    children: \"\\u041F\\u0440\\u043E\\u0432\\u0435\\u0440\\u043A\\u0430 \\u0430\\u0432\\u0442\\u043E\\u0440\\u0438\\u0437\\u0430\\u0446\\u0438\\u0438 \\u0438 \\u0437\\u0430\\u0433\\u0440\\u0443\\u0437\\u043A\\u0430 \\u0434\\u0430\\u043D\\u043D\\u044B\\u0445...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 516,\n    columnNumber: 34\n  }, this);\n  if (!user) return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"error\",\n    children: [\"\\u041D\\u0435 \\u0443\\u0434\\u0430\\u043B\\u043E\\u0441\\u044C \\u043F\\u043E\\u043B\\u0443\\u0447\\u0438\\u0442\\u044C \\u0434\\u0430\\u043D\\u043D\\u044B\\u0435 \\u043F\\u043E\\u043B\\u044C\\u0437\\u043E\\u0432\\u0430\\u0442\\u0435\\u043B\\u044F. \", /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: () => navigate('/login'),\n      children: \"\\u0412\\u043E\\u0439\\u0442\\u0438\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 517,\n      columnNumber: 87\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 517,\n    columnNumber: 23\n  }, this);\n  if (user.role !== 1) return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"error\",\n    children: \"\\u0414\\u043E\\u0441\\u0442\\u0443\\u043F \\u0437\\u0430\\u043F\\u0440\\u0435\\u0449\\u0435\\u043D.\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 518,\n    columnNumber: 33\n  }, this);\n  const showLoadingIndicator = loading && !error;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"admin-panel\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"admin-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"\\u041F\\u0430\\u043D\\u0435\\u043B\\u044C \\u0430\\u0434\\u043C\\u0438\\u043D\\u0438\\u0441\\u0442\\u0440\\u0430\\u0442\\u043E\\u0440\\u0430\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 525,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"header-buttons\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => navigate('/admin'),\n          className: \"back-button\",\n          children: \"\\u041D\\u0430\\u0437\\u0430\\u0434\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 527,\n          columnNumber: 20\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => {\n            localStorage.removeItem('user');\n            navigate('/login');\n          },\n          className: \"logout-button\",\n          children: \"\\u0412\\u044B\\u0439\\u0442\\u0438\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 528,\n          columnNumber: 20\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 526,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 524,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"admin-tabs\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        className: `tab-button ${activeTab === 'programs' ? 'active' : ''}`,\n        onClick: () => setActiveTab('programs'),\n        children: \"\\u041F\\u0440\\u043E\\u0433\\u0440\\u0430\\u043C\\u043C\\u044B\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 534,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: `tab-button ${activeTab === 'organizations' ? 'active' : ''}`,\n        onClick: () => setActiveTab('organizations'),\n        children: \"\\u041E\\u0440\\u0433\\u0430\\u043D\\u0438\\u0437\\u0430\\u0446\\u0438\\u0438\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 535,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: `tab-button ${activeTab === 'kks' ? 'active' : ''}`,\n        onClick: () => setActiveTab('kks'),\n        children: \"\\u041A\\u041A\\u0421\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 536,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: `tab-button ${activeTab === 'workers' ? 'active' : ''}`,\n        onClick: () => setActiveTab('workers'),\n        children: \"\\u0420\\u0430\\u0431\\u043E\\u0442\\u043D\\u0438\\u043A\\u0438\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 537,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: `tab-button ${activeTab === 'documents' ? 'active' : ''}`,\n        onClick: () => setActiveTab('documents'),\n        children: \"\\u0414\\u043E\\u043A\\u0443\\u043C\\u0435\\u043D\\u0442\\u044B\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 539,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 533,\n      columnNumber: 13\n    }, this), showLoadingIndicator && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"loading-inline\",\n      children: \"\\u041E\\u0431\\u043D\\u043E\\u0432\\u043B\\u0435\\u043D\\u0438\\u0435 \\u0434\\u0430\\u043D\\u043D\\u044B\\u0445...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 543,\n      columnNumber: 38\n    }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"error-inline\",\n      children: [error, \" \", /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setError(''),\n        title: \"\\u0417\\u0430\\u043A\\u0440\\u044B\\u0442\\u044C \\u043E\\u0448\\u0438\\u0431\\u043A\\u0443\",\n        children: \"\\xD7\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 544,\n        columnNumber: 61\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 544,\n      columnNumber: 23\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"admin-content\",\n      children: [(addingItemType === 'workers' || editingItem && activeTab === 'workers') && /*#__PURE__*/_jsxDEV(WorkerForm, {\n        initialData: editingItem || {},\n        onSave: editingItem ? handleSave : handleAddItem,\n        onCancel: editingItem ? handleCancel : handleCancelAdd,\n        isEditing: !!editingItem\n      }, editingItem ? editingItem.ID_Worker : 'add-worker', false, {\n        fileName: _jsxFileName,\n        lineNumber: 550,\n        columnNumber: 99\n      }, this), addingItemType && addingItemType !== 'workers' && addingItemType !== 'documents' && /*#__PURE__*/_jsxDEV(AddItemForm, {\n        type: addingItemType,\n        onSave: handleAddItem,\n        onCancel: handleCancelAdd,\n        programTypes: programTypes,\n        allOrganizations: allOrganizations\n      }, `add-${addingItemType}`, false, {\n        fileName: _jsxFileName,\n        lineNumber: 551,\n        columnNumber: 105\n      }, this), (addingItemType === 'documents' || editingItem && activeTab === 'documents') && /*#__PURE__*/_jsxDEV(DocumentForm, {\n        initialData: editingItem || {},\n        onSave: editingItem ? handleSave : handleAddItem,\n        onCancel: editingItem ? handleCancel : handleCancelAdd,\n        isEditing: !!editingItem,\n        allWorkers: workers // Передаем список работников (не allWorkers, а текущий загруженный)\n        ,\n        allPrograms: allPrograms // Передаем список программ\n      }, editingItem ? editingItem.ID_Document : 'add-document', false, {\n        fileName: _jsxFileName,\n        lineNumber: 554,\n        columnNumber: 22\n      }, this), !editingItem && !addingItemType && /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleShowAddForm,\n        className: \"add-button\",\n        children: [\"\\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C \", activeTab === 'programs' ? 'программу' : activeTab === 'organizations' ? 'организацию' : activeTab === 'kks' ? 'KKS' : activeTab === 'workers' ? 'работника' : activeTab === 'documents' ? 'документ' : '' // <<< ДОБАВЛЕНО\n        ]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 568,\n        columnNumber: 21\n      }, this), activeTab === 'programs' && /*#__PURE__*/_jsxDEV(\"table\", {\n        className: \"admin-table\",\n        children: [\" \", \" \", /*#__PURE__*/_jsxDEV(\"thead\", {\n          children: /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [\" \", renderSortableHeader('№', 'ID_ProgDPO'), \" \", renderSortableHeader('Название', 'Name_ProgDPO'), \" \", renderSortableHeader('Тип', 'Name_Type'), \" \", /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"\\u0414\\u0435\\u0439\\u0441\\u0442\\u0432\\u0438\\u044F\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 580,\n              columnNumber: 256\n            }, this), \" \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 580,\n            columnNumber: 115\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 580,\n          columnNumber: 108\n        }, this), \" \", /*#__PURE__*/_jsxDEV(\"tbody\", {\n          children: [\" \", sortedPrograms.map((program, index) => /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [\" \", (editingItem === null || editingItem === void 0 ? void 0 : editingItem.ID_ProgDPO) === program.ID_ProgDPO ? /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [\" \", /*#__PURE__*/_jsxDEV(\"td\", {\n                children: index + 1\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 580,\n                columnNumber: 422\n              }, this), \" \", /*#__PURE__*/_jsxDEV(\"td\", {\n                children: [\" \", /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  value: editingItem.Name_ProgDPO,\n                  onChange: e => handleChangeInline('Name_ProgDPO', e.target.value)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 580,\n                  columnNumber: 448\n                }, this), \" \"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 580,\n                columnNumber: 443\n              }, this), \" \", /*#__PURE__*/_jsxDEV(\"td\", {\n                children: [\" \", program.Name_Type || 'N/A', \" \"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 580,\n                columnNumber: 578\n              }, this), \" \", /*#__PURE__*/_jsxDEV(\"td\", {\n                children: [\" \", /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => handleSave(),\n                  children: \"\\u0421\\u043E\\u0445\\u0440\\u0430\\u043D\\u0438\\u0442\\u044C\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 580,\n                  columnNumber: 623\n                }, this), \" \", /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: handleCancel,\n                  children: \"\\u041E\\u0442\\u043C\\u0435\\u043D\\u0430\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 580,\n                  columnNumber: 679\n                }, this), \" \"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 580,\n                columnNumber: 618\n              }, this), \" \"]\n            }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [\" \", /*#__PURE__*/_jsxDEV(\"td\", {\n                children: index + 1\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 580,\n                columnNumber: 743\n              }, this), \" \", /*#__PURE__*/_jsxDEV(\"td\", {\n                children: program.Name_ProgDPO\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 580,\n                columnNumber: 764\n              }, this), \" \", /*#__PURE__*/_jsxDEV(\"td\", {\n                children: program.Name_Type || 'N/A'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 580,\n                columnNumber: 796\n              }, this), \" \", /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"actions-cell\",\n                children: [\" \", /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => handleEdit(program),\n                  disabled: !!addingItemType || !!editingItem,\n                  children: \"\\u0420\\u0435\\u0434\\u0430\\u043A\\u0442.\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 580,\n                  columnNumber: 864\n                }, this), \" \", /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => handleDelete(program.ID_ProgDPO),\n                  className: \"delete-button\",\n                  disabled: !!addingItemType || !!editingItem,\n                  children: \"\\u0423\\u0434\\u0430\\u043B\\u0438\\u0442\\u044C\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 580,\n                  columnNumber: 970\n                }, this), \" \"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 580,\n                columnNumber: 834\n              }, this), \" \"]\n            }, void 0, true), \" \"]\n          }, program.ID_ProgDPO, true, {\n            fileName: _jsxFileName,\n            lineNumber: 580,\n            columnNumber: 338\n          }, this)), \" \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 580,\n          columnNumber: 288\n        }, this), \" \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 580,\n        columnNumber: 48\n      }, this), activeTab === 'organizations' && /*#__PURE__*/_jsxDEV(\"table\", {\n        className: \"admin-table\",\n        children: [\" \", \" \", /*#__PURE__*/_jsxDEV(\"thead\", {\n          children: /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [\" \", renderSortableHeader('№', 'ID_Org'), \" \", renderSortableHeader('Полное название', 'FName'), \" \", renderSortableHeader('Краткое название', 'SName'), \" \", /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"\\u0414\\u0435\\u0439\\u0441\\u0442\\u0432\\u0438\\u044F\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 582,\n              columnNumber: 267\n            }, this), \" \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 582,\n            columnNumber: 121\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 582,\n          columnNumber: 114\n        }, this), \" \", /*#__PURE__*/_jsxDEV(\"tbody\", {\n          children: [\" \", sortedOrganizations.map((org, index) => /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [\" \", (editingItem === null || editingItem === void 0 ? void 0 : editingItem.ID_Org) === org.ID_Org ? /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [\" \", /*#__PURE__*/_jsxDEV(\"td\", {\n                children: index + 1\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 582,\n                columnNumber: 414\n              }, this), \" \", /*#__PURE__*/_jsxDEV(\"td\", {\n                children: /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  value: editingItem.FName,\n                  onChange: e => handleChangeInline('FName', e.target.value)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 582,\n                  columnNumber: 439\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 582,\n                columnNumber: 435\n              }, this), \" \", /*#__PURE__*/_jsxDEV(\"td\", {\n                children: /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  value: editingItem.SName,\n                  onChange: e => handleChangeInline('SName', e.target.value)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 582,\n                  columnNumber: 558\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 582,\n                columnNumber: 554\n              }, this), \" \", /*#__PURE__*/_jsxDEV(\"td\", {\n                children: [\" \", /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: handleSave,\n                  children: \"\\u0421\\u043E\\u0445\\u0440\\u0430\\u043D\\u0438\\u0442\\u044C\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 582,\n                  columnNumber: 678\n                }, this), \" \", /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: handleCancel,\n                  children: \"\\u041E\\u0442\\u043C\\u0435\\u043D\\u0430\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 582,\n                  columnNumber: 726\n                }, this), \" \"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 582,\n                columnNumber: 673\n              }, this), \" \"]\n            }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [\" \", /*#__PURE__*/_jsxDEV(\"td\", {\n                children: index + 1\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 582,\n                columnNumber: 790\n              }, this), \" \", /*#__PURE__*/_jsxDEV(\"td\", {\n                children: org.FName\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 582,\n                columnNumber: 811\n              }, this), \" \", /*#__PURE__*/_jsxDEV(\"td\", {\n                children: org.SName\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 582,\n                columnNumber: 832\n              }, this), \" \", /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"actions-cell\",\n                children: [\" \", /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => handleEdit(org),\n                  disabled: !!addingItemType || !!editingItem,\n                  children: \"\\u0420\\u0435\\u0434\\u0430\\u043A\\u0442.\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 582,\n                  columnNumber: 883\n                }, this), \" \", /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => handleDelete(org.ID_Org),\n                  className: \"delete-button\",\n                  disabled: !!addingItemType || !!editingItem,\n                  children: \"\\u0423\\u0434\\u0430\\u043B\\u0438\\u0442\\u044C\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 582,\n                  columnNumber: 985\n                }, this), \" \"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 582,\n                columnNumber: 853\n              }, this), \" \"]\n            }, void 0, true), \" \"]\n          }, org.ID_Org, true, {\n            fileName: _jsxFileName,\n            lineNumber: 582,\n            columnNumber: 350\n          }, this)), \" \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 582,\n          columnNumber: 299\n        }, this), \" \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 582,\n        columnNumber: 54\n      }, this), activeTab === 'kks' && /*#__PURE__*/_jsxDEV(\"table\", {\n        className: \"admin-table\",\n        children: [\" \", \" \", /*#__PURE__*/_jsxDEV(\"thead\", {\n          children: /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [\" \", renderSortableHeader('№', 'ID_KKS'), \" \", renderSortableHeader('Название', 'Name_KKS'), \" \", renderSortableHeader('Краткое обозначение', 'SName_KKS'), \" \", /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"\\u0414\\u0435\\u0439\\u0441\\u0442\\u0432\\u0438\\u044F\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 584,\n              columnNumber: 260\n            }, this), \" \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 584,\n            columnNumber: 111\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 584,\n          columnNumber: 104\n        }, this), \" \", /*#__PURE__*/_jsxDEV(\"tbody\", {\n          children: [\" \", sortedKks.map((kksItem, index) => /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [\" \", (editingItem === null || editingItem === void 0 ? void 0 : editingItem.ID_KKS) === kksItem.ID_KKS ? /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [\" \", /*#__PURE__*/_jsxDEV(\"td\", {\n                children: index + 1\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 584,\n                columnNumber: 409\n              }, this), \" \", /*#__PURE__*/_jsxDEV(\"td\", {\n                children: /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  value: editingItem.Name_KKS,\n                  onChange: e => handleChangeInline('Name_KKS', e.target.value)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 584,\n                  columnNumber: 434\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 584,\n                columnNumber: 430\n              }, this), \" \", /*#__PURE__*/_jsxDEV(\"td\", {\n                children: /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  value: editingItem.SName_KKS,\n                  onChange: e => handleChangeInline('SName_KKS', e.target.value)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 584,\n                  columnNumber: 559\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 584,\n                columnNumber: 555\n              }, this), \" \", /*#__PURE__*/_jsxDEV(\"td\", {\n                children: [\" \", /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: handleSave,\n                  children: \"\\u0421\\u043E\\u0445\\u0440\\u0430\\u043D\\u0438\\u0442\\u044C\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 584,\n                  columnNumber: 687\n                }, this), \" \", /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: handleCancel,\n                  children: \"\\u041E\\u0442\\u043C\\u0435\\u043D\\u0430\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 584,\n                  columnNumber: 735\n                }, this), \" \"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 584,\n                columnNumber: 682\n              }, this), \" \"]\n            }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [\" \", /*#__PURE__*/_jsxDEV(\"td\", {\n                children: index + 1\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 584,\n                columnNumber: 799\n              }, this), \" \", /*#__PURE__*/_jsxDEV(\"td\", {\n                children: kksItem.Name_KKS\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 584,\n                columnNumber: 820\n              }, this), \" \", /*#__PURE__*/_jsxDEV(\"td\", {\n                children: kksItem.SName_KKS\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 584,\n                columnNumber: 848\n              }, this), \" \", /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"actions-cell\",\n                children: [\" \", /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => handleEdit(kksItem),\n                  disabled: !!addingItemType || !!editingItem,\n                  children: \"\\u0420\\u0435\\u0434\\u0430\\u043A\\u0442.\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 584,\n                  columnNumber: 907\n                }, this), \" \", /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => handleDelete(kksItem.ID_KKS),\n                  className: \"delete-button\",\n                  disabled: !!addingItemType || !!editingItem,\n                  children: \"\\u0423\\u0434\\u0430\\u043B\\u0438\\u0442\\u044C\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 584,\n                  columnNumber: 1013\n                }, this), \" \"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 584,\n                columnNumber: 877\n              }, this), \" \"]\n            }, void 0, true), \" \"]\n          }, kksItem.ID_KKS, true, {\n            fileName: _jsxFileName,\n            lineNumber: 584,\n            columnNumber: 337\n          }, this)), \" \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 584,\n          columnNumber: 292\n        }, this), \" \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 584,\n        columnNumber: 44\n      }, this), activeTab === 'workers' && /*#__PURE__*/_jsxDEV(\"table\", {\n        className: \"admin-table\",\n        children: [\" \", \" \", /*#__PURE__*/_jsxDEV(\"thead\", {\n          children: /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [\" \", renderSortableHeader('№', 'ID_Worker'), \" \", renderSortableHeader('Логин', 'Login'), \" \", renderSortableHeader('ФИО Работника', 'FName_Worker'), \" \", renderSortableHeader('Роль', 'Role'), \" \", /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"\\u0414\\u0435\\u0439\\u0441\\u0442\\u0432\\u0438\\u044F\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 586,\n              columnNumber: 297\n            }, this), \" \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 586,\n            columnNumber: 115\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 586,\n          columnNumber: 108\n        }, this), \" \", /*#__PURE__*/_jsxDEV(\"tbody\", {\n          children: [\" \", sortedWorkers.map((w, index) => /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [\" \", /*#__PURE__*/_jsxDEV(\"td\", {\n              children: index + 1\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 586,\n              columnNumber: 395\n            }, this), \" \", /*#__PURE__*/_jsxDEV(\"td\", {\n              children: w.Login\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 586,\n              columnNumber: 416\n            }, this), \" \", /*#__PURE__*/_jsxDEV(\"td\", {\n              children: w.FName_Worker\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 586,\n              columnNumber: 435\n            }, this), \" \", /*#__PURE__*/_jsxDEV(\"td\", {\n              children: displayRole(w.Role)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 586,\n              columnNumber: 461\n            }, this), \" \", /*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"actions-cell\",\n              children: [\" \", /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => handleEdit(w),\n                disabled: !!addingItemType || !!editingItem,\n                children: \"\\u0420\\u0435\\u0434\\u0430\\u043A\\u0442.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 586,\n                columnNumber: 522\n              }, this), \" \", /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => handleDelete(w.ID_Worker),\n                className: \"delete-button\",\n                disabled: !!addingItemType || !!editingItem,\n                children: \"\\u0423\\u0434\\u0430\\u043B\\u0438\\u0442\\u044C\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 586,\n                columnNumber: 622\n              }, this), \" \"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 586,\n              columnNumber: 492\n            }, this), \" \"]\n          }, w.ID_Worker, true, {\n            fileName: _jsxFileName,\n            lineNumber: 586,\n            columnNumber: 372\n          }, this)), \" \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 586,\n          columnNumber: 329\n        }, this), \" \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 586,\n        columnNumber: 48\n      }, this), activeTab === 'documents' && /*#__PURE__*/_jsxDEV(\"table\", {\n        className: \"admin-table\",\n        children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n          children: /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [renderSortableHeader('№', 'ID_Document'), renderSortableHeader('Работник', 'WorkerName'), renderSortableHeader('Программа', 'ProgramName'), renderSortableHeader('Рег. номер', 'regnumber'), renderSortableHeader('Дата выдачи', 'DateIssue'), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"\\u0414\\u0435\\u0439\\u0441\\u0442\\u0432\\u0438\\u044F\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 599,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 592,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 591,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n          children: sortedDocuments.map((doc, index) => /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              children: index + 1\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 606,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: doc.WorkerName || 'N/A'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 607,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: doc.ProgramName || 'N/A'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 608,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: doc.regnumber || 'N/A'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 609,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: formatDate(doc.DateIssue, 'display')\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 610,\n              columnNumber: 37\n            }, this), \" \", /*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"actions-cell\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => handleEdit(doc),\n                disabled: !!addingItemType || !!editingItem,\n                children: \"\\u0420\\u0435\\u0434\\u0430\\u043A\\u0442.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 613,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => handleDelete(doc.ID_Document),\n                className: \"delete-button\",\n                disabled: !!addingItemType || !!editingItem,\n                children: \"\\u0423\\u0434\\u0430\\u043B\\u0438\\u0442\\u044C\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 615,\n                columnNumber: 41\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 611,\n              columnNumber: 37\n            }, this)]\n          }, doc.ID_Document, true, {\n            fileName: _jsxFileName,\n            lineNumber: 604,\n            columnNumber: 33\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 602,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 590,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 547,\n      columnNumber: 13\n    }, this), \" \"]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 522,\n    columnNumber: 9\n  }, this) // admin-panel\n  ;\n}\n_s4(AdminPanel, \"bSk/sDIVyG5uAk1KPHrEPriRSPM=\", false, function () {\n  return [useNavigate];\n});\n_c4 = AdminPanel;\nexport default AdminPanel;\nvar _c, _c2, _c3, _c4;\n$RefreshReg$(_c, \"AddItemForm\");\n$RefreshReg$(_c2, \"WorkerForm\");\n$RefreshReg$(_c3, \"DocumentForm\");\n$RefreshReg$(_c4, \"AdminPanel\");","map":{"version":3,"names":["React","useState","useEffect","useMemo","useCallback","axios","useNavigate","jsxDEV","_jsxDEV","Fragment","_Fragment","apiUrl","process","env","REACT_APP_API_URL","formatDate","dateStr","type","date","Date","isNaN","getTime","offset","getTimezoneOffset","adjustedDate","toISOString","slice","year","getFullYear","month","getMonth","toString","padStart","day","getDate","toLocaleDateString","e","console","error","AddItemForm","onSave","onCancel","programTypes","allOrganizations","_s","newItem","setNewItem","handleChange","field","value","prev","handleSubmit","preventDefault","handleCancel","onSubmit","className","children","fileName","_jsxFileName","lineNumber","columnNumber","placeholder","required","Name_ProgDPO","onChange","target","id_type","disabled","map","pt","Name_Type","ID_Org","org","FName","onClick","SName","Name_KKS","SName_KKS","_c","WorkerForm","initialData","isEditing","_s2","workerData","setWorkerData","newPassword","setNewPassword","Role","undefined","handlePasswordChange","dataToSend","Password","alert","handleCancelClick","ID_Worker","FName_Worker","Login","parseInt","_c2","DocumentForm","allWorkers","allPrograms","_s3","docData","setDocData","ID_ProgDPO","regnumber","formseries","formnumber","DateIssue","DataStart","DataEnd","ID_Document","htmlFor","id","w","p","_c3","AdminPanel","_s4","activeTab","setActiveTab","programs","setPrograms","organizations","setOrganizations","kks","setKks","workers","setWorkers","documents","setDocuments","loading","setLoading","setError","editingItem","setEditingItem","addingItemType","setAddingItemType","setProgramTypes","programTypesData","setProgramTypesData","setAllOrganizations","setAllWorkers","setAllPrograms","sortConfig","setSortConfig","key","direction","navigate","user","storedUser","localStorage","getItem","JSON","parse","removeItem","requestSort","getIdKeyForTab","tab","idKey","fetchData","forceAux","role","warn","log","length","endpoints","typesRes","orgsRes","workersRes","progsRes","Promise","all","url","get","fetchedTypes","data","err","auxErrorMsg","response","endpoint","config","workerId","params","userId","status","responseData","Array","isArray","message","mainErrorMsg","sortedPrograms","sortableItems","sort","a","b","sortedOrganizations","valA","valB","compareResult","String","localeCompare","sortedKks","sortedWorkers","nameA","toLowerCase","nameB","sortedDocuments","includes","dateA","dateB","strA","strB","handleEdit","item","handleChangeInline","handleSave","editedData","itemToSave","Error","put","_err$response","_err$response2","_err$response2$data","handleShowAddForm","handleCancelAdd","handleAddItem","newItemData","post","_err$response3","_err$response4","_err$response4$data","handleDelete","idToDelete","window","confirm","delete","_err$response5","_err$response6","_err$response6$data","displayRole","roleValue","renderSortableHeader","label","showLoadingIndicator","title","program","index","kksItem","ID_KKS","doc","WorkerName","ProgramName","_c4","$RefreshReg$"],"sources":["D:/Amina/VScode/FQW_new/src/components/AdminPanel.js"],"sourcesContent":["import React, { useState, useEffect, useMemo, useCallback } from 'react';\r\nimport axios from 'axios';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport './AdminPanel.css';\r\n\r\nconst apiUrl = process.env.REACT_APP_API_URL; // Вынесем в глобальную область видимости файла\r\n\r\n// --- Вспомогательная функция для форматирования даты ---\r\nconst formatDate = (dateStr, type = 'date') => {\r\n    if (!dateStr) return ''; // Возвращаем пустую строку для input[type=date] или для отображения\r\n    try {\r\n        const date = new Date(dateStr);\r\n        if (isNaN(date.getTime())) return ''; // Некорректная дата\r\n\r\n        if (type === 'datetime-local') {\r\n             // Формат YYYY-MM-DDTHH:mm (пример) - нужен для input type=\"datetime-local\"\r\n             // Корректируем под часовой пояс, чтобы избежать смещения на день назад/вперед\r\n             const offset = date.getTimezoneOffset();\r\n             const adjustedDate = new Date(date.getTime() - (offset*60*1000));\r\n             return adjustedDate.toISOString().slice(0, 16);\r\n        } else if (type === 'date') {\r\n             // Формат YYYY-MM-DD (нужен для input type=\"date\")\r\n             const year = date.getFullYear();\r\n             const month = (date.getMonth() + 1).toString().padStart(2, '0');\r\n             const day = date.getDate().toString().padStart(2, '0');\r\n             return `${year}-${month}-${day}`;\r\n        } else {\r\n             // Формат DD.MM.YYYY (для отображения в таблице)\r\n             return date.toLocaleDateString('ru-RU');\r\n        }\r\n    } catch (e) {\r\n        console.error(\"Ошибка форматирования даты:\", dateStr, e);\r\n        return ''; // Возвращаем пустую строку при ошибке\r\n    }\r\n};\r\n\r\n\r\n// --- Компонент AddItemForm (БЕЗ ИЗМЕНЕНИЙ) ---\r\nconst AddItemForm = ({ type, onSave, onCancel, programTypes = [], allOrganizations = [] }) => {\r\n    // ... (код AddItemForm остается прежним) ...\r\n    const [newItem, setNewItem] = useState({});\r\n    useEffect(() => { setNewItem({}); }, [type]);\r\n    const handleChange = (field, value) => { setNewItem(prev => ({ ...prev, [field]: value })); };\r\n    const handleSubmit = (e) => { e.preventDefault(); onSave(newItem); setNewItem({}); };\r\n    const handleCancel = (e) => { e.preventDefault(); setNewItem({}); onCancel(); };\r\n\r\n    if (type === 'programs') {\r\n        return ( <form onSubmit={handleSubmit} className=\"add-form\"> {/* ... поля для программы ... */}\r\n             <h4>Добавить программу</h4>\r\n                <input type=\"text\" placeholder=\"Название программы\" required value={newItem.Name_ProgDPO || ''} onChange={(e) => handleChange('Name_ProgDPO', e.target.value)} />\r\n                <select required value={newItem.id_type || ''} onChange={(e) => handleChange('id_type', e.target.value)}> <option value=\"\" disabled>Выберите тип</option> {programTypes.map(pt => <option key={pt.id_type} value={pt.id_type}>{pt.Name_Type}</option>)} </select>\r\n                <select required value={newItem.ID_Org || ''} onChange={(e) => handleChange('ID_Org', e.target.value)}> <option value=\"\" disabled>Выберите организацию</option> {allOrganizations.map(org => <option key={org.ID_Org} value={org.ID_Org}>{org.FName}</option>)} </select>\r\n                <div className=\"form-actions\"> <button type=\"submit\">Сохранить</button> <button type=\"button\" onClick={handleCancel}>Отмена</button> </div> </form> );\r\n    }\r\n    if (type === 'organizations') {\r\n       return ( <form onSubmit={handleSubmit} className=\"add-form\"> {/* ... поля для организации ... */}\r\n        <h4>Добавить организацию</h4>\r\n           <input type=\"text\" placeholder=\"Полное название\" required value={newItem.FName || ''} onChange={(e) => handleChange('FName', e.target.value)} />\r\n           <input type=\"text\" placeholder=\"Краткое название\" required value={newItem.SName || ''} onChange={(e) => handleChange('SName', e.target.value)} />\r\n           <div className=\"form-actions\"> <button type=\"submit\">Сохранить</button> <button type=\"button\" onClick={handleCancel}>Отмена</button> </div> </form> );\r\n    }\r\n     if (type === 'kks') {\r\n        return ( <form onSubmit={handleSubmit} className=\"add-form\"> {/* ... поля для KKS ... */}\r\n        <h4>Добавить KKS</h4>\r\n           <input type=\"text\" placeholder=\"Название KKS\" required value={newItem.Name_KKS || ''} onChange={(e) => handleChange('Name_KKS', e.target.value)} />\r\n           <input type=\"text\" placeholder=\"Краткое обозначение\" value={newItem.SName_KKS || ''} onChange={(e) => handleChange('SName_KKS', e.target.value)} />\r\n           <div className=\"form-actions\"> <button type=\"submit\">Сохранить</button> <button type=\"button\" onClick={handleCancel}>Отмена</button> </div> </form> );\r\n    }\r\n    return null;\r\n};\r\n\r\n// --- Компонент WorkerForm (БЕЗ ИЗМЕНЕНИЙ) ---\r\nconst WorkerForm = ({ initialData = {}, onSave, onCancel, isEditing = false }) => {\r\n    // ... (код WorkerForm остается прежним) ...\r\n    const [workerData, setWorkerData] = useState(initialData);\r\n    const [newPassword, setNewPassword] = useState('');\r\n    useEffect(() => { setWorkerData({ ...initialData, Role: initialData.Role !== undefined ? initialData.Role : '' }); setNewPassword(''); }, [initialData]);\r\n    const handleChange = (field, value) => { setWorkerData(prev => ({ ...prev, [field]: value })); };\r\n    const handlePasswordChange = (e) => { setNewPassword(e.target.value); };\r\n    const handleSubmit = (e) => { e.preventDefault(); const dataToSend = { ...workerData }; if (newPassword) { dataToSend.Password = newPassword; } else if (!isEditing) { alert('Пароль обязателен при создании пользователя.'); return; } onSave(dataToSend); };\r\n    const handleCancelClick = (e) => { e.preventDefault(); onCancel(); };\r\n    return ( <form onSubmit={handleSubmit} className=\"add-form user-form\"> <h4>{isEditing ? `Редактировать работника (ID: ${workerData.ID_Worker})` : 'Добавить работника'}</h4> <input type=\"text\" placeholder=\"ФИО Работника\" required value={workerData.FName_Worker || ''} onChange={(e) => handleChange('FName_Worker', e.target.value)} /> <input type=\"text\" placeholder=\"Логин\" required value={workerData.Login || ''} onChange={(e) => handleChange('Login', e.target.value)} /> <input type=\"password\" placeholder={isEditing ? 'Новый пароль (оставьте пустым, чтобы не менять)' : 'Пароль'} value={newPassword} onChange={handlePasswordChange} required={!isEditing}/> <select required value={workerData.Role} onChange={(e) => handleChange('Role', parseInt(e.target.value, 10))}> <option value=\"\" disabled>Выберите роль</option> <option value={0}>Работник ОУ</option> <option value={1}>Работник ЦДО (Админ)</option> </select> <div className=\"form-actions\"> <button type=\"submit\">Сохранить</button> <button type=\"button\" onClick={handleCancelClick}>Отмена</button> </div> </form> );\r\n};\r\n\r\n// --- НОВЫЙ Компонент формы для Документов ---\r\nconst DocumentForm = ({ initialData = {}, onSave, onCancel, isEditing = false, allWorkers = [], allPrograms = [] }) => {\r\n    const [docData, setDocData] = useState({});\r\n\r\n    useEffect(() => {\r\n        // Инициализация формы данными для редактирования или пустыми значениями\r\n        // Преобразуем даты в формат YYYY-MM-DD для input type=\"date\"\r\n        setDocData({\r\n            ID_Worker: initialData.ID_Worker || '',\r\n            ID_ProgDPO: initialData.ID_ProgDPO || '',\r\n            regnumber: initialData.regnumber || '',\r\n            formseries: initialData.formseries || '',\r\n            formnumber: initialData.formnumber || '',\r\n            DateIssue: formatDate(initialData.DateIssue, 'date'), // Преобразование\r\n            DataStart: formatDate(initialData.DataStart, 'date'), // Преобразование\r\n            DataEnd: formatDate(initialData.DataEnd, 'date')      // Преобразование\r\n        });\r\n    }, [initialData]);\r\n\r\n    const handleChange = (field, value) => {\r\n        setDocData(prev => ({ ...prev, [field]: value }));\r\n    };\r\n\r\n    const handleSubmit = (e) => {\r\n        e.preventDefault();\r\n        // Перед отправкой можно добавить валидацию, если нужно\r\n        const dataToSend = { ...docData };\r\n         // Если ID есть (при редактировании), добавляем его\r\n        if (isEditing && initialData.ID_Document) {\r\n            dataToSend.ID_Document = initialData.ID_Document;\r\n        }\r\n        onSave(dataToSend); // Вызываем колбэк сохранения\r\n    };\r\n\r\n    const handleCancelClick = (e) => {\r\n        e.preventDefault();\r\n        onCancel(); // Вызываем колбэк отмены\r\n    };\r\n\r\n    return (\r\n        <form onSubmit={handleSubmit} className=\"add-form document-form\">\r\n            <h4>{isEditing ? `Редактировать документ (ID: ${initialData.ID_Document})` : 'Добавить документ'}</h4>\r\n\r\n            {/* Выбор работника */}\r\n            <label htmlFor=\"doc-worker\">Работник:</label>\r\n            <select id=\"doc-worker\" required value={docData.ID_Worker} onChange={(e) => handleChange('ID_Worker', e.target.value ? parseInt(e.target.value, 10) : '')}>\r\n                <option value=\"\" disabled>-- Выберите работника --</option>\r\n                {allWorkers.map(w => <option key={w.ID_Worker} value={w.ID_Worker}>{w.FName_Worker} (ID: {w.ID_Worker})</option>)}\r\n            </select>\r\n\r\n             {/* Выбор программы */}\r\n             <label htmlFor=\"doc-program\">Программа ДПО:</label>\r\n             <select id=\"doc-program\" required value={docData.ID_ProgDPO} onChange={(e) => handleChange('ID_ProgDPO', e.target.value ? parseInt(e.target.value, 10) : '')}>\r\n                 <option value=\"\" disabled>-- Выберите программу --</option>\r\n                 {allPrograms.map(p => <option key={p.ID_ProgDPO} value={p.ID_ProgDPO}>{p.Name_ProgDPO}</option>)}\r\n             </select>\r\n\r\n            {/* Поля документа */}\r\n            <label htmlFor=\"doc-regnumber\">Регистрационный номер:</label>\r\n            <input id=\"doc-regnumber\" type=\"text\" placeholder=\"Рег. номер\" value={docData.regnumber} onChange={(e) => handleChange('regnumber', e.target.value)} />\r\n\r\n            <label htmlFor=\"doc-formseries\">Серия формы:</label>\r\n            <input id=\"doc-formseries\" type=\"text\" placeholder=\"Серия\" value={docData.formseries} onChange={(e) => handleChange('formseries', e.target.value)} />\r\n\r\n            <label htmlFor=\"doc-formnumber\">Номер формы:</label>\r\n            <input id=\"doc-formnumber\" type=\"text\" placeholder=\"Номер\" value={docData.formnumber} onChange={(e) => handleChange('formnumber', e.target.value)} />\r\n\r\n             {/* Даты */}\r\n             <label htmlFor=\"doc-dateissue\">Дата выдачи:</label>\r\n             <input id=\"doc-dateissue\" type=\"date\" value={docData.DateIssue} onChange={(e) => handleChange('DateIssue', e.target.value)} />\r\n\r\n             <label htmlFor=\"doc-datastart\">Дата начала:</label>\r\n             <input id=\"doc-datastart\" type=\"date\" value={docData.DataStart} onChange={(e) => handleChange('DataStart', e.target.value)} />\r\n\r\n             <label htmlFor=\"doc-dataend\">Дата окончания:</label>\r\n             <input id=\"doc-dataend\" type=\"date\" value={docData.DataEnd} onChange={(e) => handleChange('DataEnd', e.target.value)} />\r\n\r\n            <div className=\"form-actions\">\r\n                <button type=\"submit\">Сохранить</button>\r\n                <button type=\"button\" onClick={handleCancelClick}>Отмена</button>\r\n            </div>\r\n        </form>\r\n    );\r\n};\r\n\r\n\r\n// --- Основной компонент AdminPanel ---\r\nfunction AdminPanel() {\r\n    // Состояния\r\n    const [activeTab, setActiveTab] = useState('programs'); // 'programs', 'organizations', 'kks', 'workers', 'documents'\r\n    const [programs, setPrograms] = useState([]);\r\n    const [organizations, setOrganizations] = useState([]);\r\n    const [kks, setKks] = useState([]);\r\n    const [workers, setWorkers] = useState([]);\r\n    const [documents, setDocuments] = useState([]); // <<< НОВОЕ СОСТОЯНИЕ ДЛЯ ДОКУМЕНТОВ\r\n    const [loading, setLoading] = useState(true);\r\n    const [error, setError] = useState('');\r\n    const [editingItem, setEditingItem] = useState(null);\r\n    const [addingItemType, setAddingItemType] = useState(null);\r\n    const [programTypes, setProgramTypes] = useState([]);\r\n    const [programTypesData, setProgramTypesData] = useState([]);\r\n    const [allOrganizations, setAllOrganizations] = useState([]);\r\n    const [allWorkers, setAllWorkers] = useState([]); // <<< НУЖНО ДЛЯ ФОРМЫ ДОКУМЕНТОВ\r\n    const [allPrograms, setAllPrograms] = useState([]); // <<< НУЖНО ДЛЯ ФОРМЫ ДОКУМЕНТОВ\r\n    const [sortConfig, setSortConfig] = useState({ key: null, direction: 'ascending' });\r\n\r\n    const navigate = useNavigate();\r\n    // apiUrl определен глобально выше\r\n\r\n    // Получение пользователя (без изменений)\r\n    const user = useMemo(() => { /* ... */\r\n         const storedUser = localStorage.getItem('user');\r\n         try {\r\n             return storedUser ? JSON.parse(storedUser) : null;\r\n         } catch (e) {\r\n             console.error(\"Failed to parse user from localStorage\", e);\r\n             localStorage.removeItem('user');\r\n             return null;\r\n         }\r\n     }, []);\r\n\r\n    // --- Сортировка ---\r\n    const requestSort = (key) => { /* ... */\r\n        let direction = 'ascending';\r\n        if (sortConfig.key === key && sortConfig.direction === 'ascending') {\r\n            direction = 'descending';\r\n        }\r\n        setSortConfig({ key, direction });\r\n     };\r\n    const getIdKeyForTab = (tab) => {\r\n        switch (tab) {\r\n            case 'programs': return 'ID_ProgDPO';\r\n            case 'organizations': return 'ID_Org';\r\n            case 'kks': return 'ID_KKS';\r\n            case 'workers': return 'ID_Worker';\r\n            case 'documents': return 'ID_Document';\r\n            default: return null;\r\n        }\r\n    };\r\n    useEffect(() => { /* ... сброс сортировки и форм ... */\r\n        const idKey = getIdKeyForTab(activeTab);\r\n        if (idKey) {\r\n            setSortConfig({ key: idKey, direction: 'ascending' });\r\n        } else {\r\n            setSortConfig({ key: null, direction: 'ascending' });\r\n        }\r\n        setEditingItem(null);\r\n        setAddingItemType(null);\r\n    }, [activeTab]);\r\n\r\n    // --- Загрузка данных ---\r\n    const fetchData = useCallback(async (forceAux = false) => {\r\n        if (!user || user.role !== 1) { /* ... проверка админа ... */\r\n             console.warn(\"fetchData called without admin user, aborting.\");\r\n             setLoading(false);\r\n             setError(\"Доступ запрещен. Требуются права администратора.\");\r\n             return;\r\n         }\r\n        setLoading(true);\r\n        setError('');\r\n        console.log(`Workspaceing data. Active tab: ${activeTab}`);\r\n\r\n        // Загрузка вспомогательных данных (типы, орг, работники, программы)\r\n        // Добавили allPrograms и allWorkers\r\n        if (forceAux || programTypes.length === 0 || allOrganizations.length === 0 || allWorkers.length === 0 || allPrograms.length === 0 ) {\r\n            try {\r\n                console.log(\"Fetching auxiliary data (types, orgs, workers, programs)...\");\r\n                const endpoints = [\r\n                    `${apiUrl}/api/program-types`,\r\n                    `${apiUrl}/api/programs/types`,\r\n                    `${apiUrl}/api/organizations`,\r\n                    `${apiUrl}/api/workers/admin`, // Эндпоинт для ВСЕХ работников\r\n                    `${apiUrl}/api/programs`,       // Эндпоинт для ВСЕХ программ\r\n                ];\r\n                 // Обновляем Promise.all для 4х запросов\r\n                const [typesRes, orgsRes, workersRes, progsRes] = await Promise.all(\r\n                    endpoints.map(url => axios.get(url))\r\n                );\r\n                const fetchedTypes = typesRes.data || [];\r\n                setProgramTypes(fetchedTypes);     // Для dropdown в формах\r\n                setProgramTypesData(fetchedTypes);\r\n\r\n                setProgramTypes(typesRes.data || []);\r\n                setAllOrganizations(orgsRes.data || []);\r\n                setAllWorkers(workersRes.data || []); // Сохраняем всех работников\r\n                setAllPrograms(progsRes.data || []);   // Сохраняем все программы\r\n                console.log(\"Auxiliary data fetched.\");\r\n            } catch (err) {\r\n                console.error('Error fetching auxiliary data:', err);\r\n             const auxErrorMsg = 'Ошибка загрузки вспомогательных данных (типы, организации, работники, программы).';\r\n             setError(prev => prev ? `<span class=\"math-inline\">\\{prev\\}\\\\n</span>{auxErrorMsg}` : auxErrorMsg);\r\n              // Сброс состояний при ошибке загрузки вспомогательных данных\r\n              setProgramTypes([]);\r\n              setProgramTypesData([]); // <<< ДОБАВИТЬ\r\n              setAllOrganizations([]);\r\n              setAllWorkers([]);\r\n              setAllPrograms([]);\r\n            }\r\n        }\r\n\r\n        // Загрузка основных данных\r\n        try {\r\n            let response;\r\n            let endpoint;\r\n            let config = {};\r\n            switch (activeTab) {\r\n                case 'programs': endpoint = `${apiUrl}/api/programs`; break;\r\n                case 'organizations': endpoint = `${apiUrl}/api/organizations`; break;\r\n                case 'kks': endpoint = `${apiUrl}/api/kks`; break;\r\n                case 'workers': endpoint = `${apiUrl}/api/workers/admin`; break;\r\n                case 'documents':\r\n                    endpoint = `${apiUrl}/api/documents`;\r\n                    // <<< ДОБАВЛЯЕМ ПАРАМЕТРЫ ДЛЯ ЗАПРОСА ДОКУМЕНТОВ >>>\r\n                    if (user?.workerId && user?.role !== undefined) {\r\n                       config.params = {\r\n                           userId: user.workerId, // ID текущего админа\r\n                           role: user.role      // Роль текущего админа (должна быть 1)\r\n                       };\r\n                    } else {\r\n                        // Если вдруг нет данных админа, прерываем (хотя проверка есть выше)\r\n                        console.error(\"Admin user data (workerId, role) is missing for documents fetch.\");\r\n                        setError(\"Не удалось получить данные администратора для запроса.\");\r\n                        setLoading(false);\r\n                        return;\r\n                    }\r\n                    break; \r\n                default:\r\n                    console.warn(`Unknown activeTab: ${activeTab}`);\r\n                    setLoading(false);\r\n                    return;\r\n            }\r\n            console.log(`Attempting to fetch ${endpoint}...`, config); // Логируем конфиг\r\n            // <<< ИСПОЛЬЗУЕМ config В ЗАПРОСЕ >>>\r\n            response = await axios.get(endpoint, config); \r\n            console.log(`Received response from ${endpoint}`, response.status);\r\n\r\n            // Проверка на массив перед обновлением состояния\r\n            const responseData = Array.isArray(response.data) ? response.data : [];\r\n            if (!Array.isArray(response.data)) {\r\n                 console.warn(`API endpoint ${endpoint} did not return an array.`);\r\n            }\r\n\r\n            switch (activeTab) {\r\n                case 'programs': setPrograms(responseData); break;\r\n                case 'organizations': setOrganizations(responseData); setAllOrganizations(responseData); break;\r\n                case 'kks': setKks(responseData); break;\r\n                case 'workers': setWorkers(responseData); break;\r\n                case 'documents': setDocuments(responseData); break;\r\n            }\r\n        } catch (err) {\r\n            console.error(`Error fetching ${activeTab}:`, err.response || err.message || err);\r\n            const mainErrorMsg = `Ошибка загрузки данных для вкладки \"${activeTab}\".`;\r\n            setError(prev => prev ? `${prev}\\n${mainErrorMsg}` : mainErrorMsg);\r\n             // Очищаем соответствующее состояние при ошибке\r\n             switch (activeTab) {\r\n                 case 'programs': setPrograms([]); break;\r\n                 case 'organizations': setOrganizations([]); break;\r\n                 case 'kks': setKks([]); break;\r\n                 case 'workers': setWorkers([]); break;\r\n                 case 'documents': setDocuments([]); break;\r\n             }\r\n        } finally {\r\n            console.log(`Setting loading to false for ${activeTab}.`);\r\n            setLoading(false);\r\n        }\r\n    }, [activeTab, user, apiUrl, programTypes.length, allOrganizations.length, allWorkers.length, allPrograms.length]); // Добавили зависимости\r\n\r\n    useEffect(() => {\r\n        if (!user || user.role !== 1) {\r\n            navigate('/login');\r\n            return;\r\n        }\r\n        fetchData();\r\n    }, [user, navigate, fetchData]);\r\n\r\n    // --- Мемоизированные отсортированные списки ---\r\n    const sortedPrograms = useMemo(() => { \r\n        let sortableItems = [...programs]; if (sortConfig.key) { sortableItems.sort((a, b) => { if (a[sortConfig.key] < b[sortConfig.key]) { return sortConfig.direction === 'ascending' ? -1 : 1; } if (a[sortConfig.key] > b[sortConfig.key]) { return sortConfig.direction === 'ascending' ? 1 : -1; } return 0; }); } return sortableItems;\r\n     }, [programs, sortConfig]);\r\n    const sortedOrganizations = useMemo(() => { \r\n        let sortableItems = [...organizations]; if (sortConfig.key) { sortableItems.sort((a, b) => { const valA = a[sortConfig.key]; const valB = b[sortConfig.key]; const compareResult = typeof valA === 'number' && typeof valB === 'number' ? valA - valB : String(valA).localeCompare(String(valB)); return sortConfig.direction === 'ascending' ? compareResult : -compareResult; }); } return sortableItems;\r\n     }, [organizations, sortConfig]);\r\n    const sortedKks = useMemo(() => { \r\n        let sortableItems = [...kks]; if (sortConfig.key) { sortableItems.sort((a, b) => { const valA = a[sortConfig.key]; const valB = b[sortConfig.key]; const compareResult = typeof valA === 'number' && typeof valB === 'number' ? valA - valB : String(valA).localeCompare(String(valB)); return sortConfig.direction === 'ascending' ? compareResult : -compareResult; }); } return sortableItems;\r\n     }, [kks, sortConfig]);\r\n    const sortedWorkers = useMemo(() => { \r\n        let sortableItems = [...workers]; if (sortConfig.key) { sortableItems.sort((a, b) => { const valA = a[sortConfig.key]; const valB = b[sortConfig.key]; if (sortConfig.key === 'Role' && typeof valA === 'number' && typeof valB === 'number') { return sortConfig.direction === 'ascending' ? valA - valB : valB - valA; } if (sortConfig.key === 'FName_Worker') { const nameA = String(valA ?? '').toLowerCase(); const nameB = String(valB ?? '').toLowerCase(); if (nameA < nameB) return sortConfig.direction === 'ascending' ? -1 : 1; if (nameA > nameB) return sortConfig.direction === 'ascending' ? 1 : -1; return 0; } const compareResult = typeof valA === 'number' && typeof valB === 'number' ? valA - valB : String(valA ?? '').localeCompare(String(valB ?? '')); return sortConfig.direction === 'ascending' ? compareResult : -compareResult; }); } return sortableItems;\r\n    }, [workers, sortConfig]);\r\n    const sortedDocuments = useMemo(() => {\r\n        let sortableItems = [...documents];\r\n        if (sortConfig.key) {\r\n            sortableItems.sort((a, b) => {\r\n                const valA = a[sortConfig.key];\r\n                const valB = b[sortConfig.key];\r\n\r\n                // Сортировка по дате\r\n                 if (['DateIssue', 'DataStart', 'DataEnd'].includes(sortConfig.key)) {\r\n                    const dateA = valA ? new Date(valA).getTime() : 0;\r\n                    const dateB = valB ? new Date(valB).getTime() : 0;\r\n                     if (isNaN(dateA) && isNaN(dateB)) return 0;\r\n                     if (isNaN(dateA)) return sortConfig.direction === 'ascending' ? -1 : 1; // nulls/invalid first or last\r\n                     if (isNaN(dateB)) return sortConfig.direction === 'ascending' ? 1 : -1;\r\n                    return sortConfig.direction === 'ascending' ? dateA - dateB : dateB - dateA;\r\n                }\r\n\r\n                 // Сортировка по имени работника или программы\r\n                if (['WorkerName', 'ProgramName'].includes(sortConfig.key)) {\r\n                     const strA = String(valA ?? '').toLowerCase();\r\n                     const strB = String(valB ?? '').toLowerCase();\r\n                     if (strA < strB) return sortConfig.direction === 'ascending' ? -1 : 1;\r\n                     if (strA > strB) return sortConfig.direction === 'ascending' ? 1 : -1;\r\n                     return 0;\r\n                }\r\n\r\n                // Общая сортировка\r\n                const compareResult = typeof valA === 'number' && typeof valB === 'number'\r\n                    ? valA - valB\r\n                    : String(valA ?? '').localeCompare(String(valB ?? ''));\r\n\r\n                return sortConfig.direction === 'ascending' ? compareResult : -compareResult;\r\n            });\r\n        }\r\n        return sortableItems;\r\n    }, [documents, sortConfig]);\r\n\r\n    // --- Обработчики CRUD ---\r\n    const handleEdit = (item) => { setEditingItem(item); setAddingItemType(null); };\r\n    const handleCancel = () => { setEditingItem(null); };\r\n    const handleChangeInline = (field, value) => { setEditingItem(prev => ({ ...prev, [field]: value })); };\r\n    const handleSave = async (editedData) => {\r\n        const itemToSave = editedData || editingItem;\r\n        if (!itemToSave) return;\r\n        const idKey = getIdKeyForTab(activeTab);\r\n        const id = itemToSave[idKey];\r\n        if (id === undefined && activeTab !== 'documents') { // Для документов ID может не быть в itemToSave из формы\r\n             if (activeTab === 'documents' && editingItem?.ID_Document) {\r\n                 // Берем ID из исходного editingItem для документов\r\n                 id = editingItem.ID_Document;\r\n                 itemToSave.ID_Document = id; // Добавляем ID обратно для PUT запроса, если нужно\r\n             } else {\r\n                console.error(\"Cannot save item without ID\", itemToSave);\r\n                setError(\"Не удалось определить ID для сохранения.\");\r\n                return;\r\n             }\r\n        }\r\n        console.log(`Saving edited item (ID: ${id}, Tab: ${activeTab}):`, itemToSave);\r\n        setLoading(true);\r\n        setError('');\r\n        try {\r\n            let endpoint;\r\n            switch (activeTab) {\r\n                case 'programs': endpoint = `${apiUrl}/api/programs/${id}`; break;\r\n                case 'organizations': endpoint = `${apiUrl}/api/organizations/${id}`; break;\r\n                case 'kks': endpoint = `${apiUrl}/api/kks/${id}`; break;\r\n                case 'workers': endpoint = `${apiUrl}/api/workers/${id}`; break;\r\n                case 'documents': endpoint = `${apiUrl}/api/documents/${id}`; break; // <<< ДОБАВЛЕНО (нужен PUT /api/documents/:id)\r\n                default: throw new Error(\"Неизвестная вкладка для сохранения\");\r\n            }\r\n            await axios.put(endpoint, itemToSave);\r\n            setEditingItem(null);\r\n            await fetchData();\r\n            console.log(`Item (ID: ${id}) saved successfully.`);\r\n        } catch (err) {\r\n            console.error('Ошибка при сохранении изменений:', err.response?.data || err.message || err);\r\n            setError(err.response?.data?.error || 'Ошибка при сохранении данных');\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n    const handleShowAddForm = () => { setAddingItemType(activeTab); setEditingItem(null); };\r\n    const handleCancelAdd = () => { setAddingItemType(null); };\r\n    const handleAddItem = async (newItemData) => { // Добавление (POST)\r\n        const type = addingItemType;\r\n        if (!type) return;\r\n        console.log(`Adding new ${type}:`, newItemData);\r\n        setLoading(true);\r\n        setError('');\r\n        try {\r\n            let endpoint;\r\n            switch (type) {\r\n                case 'programs': endpoint = `${apiUrl}/api/programs`; break;\r\n                case 'organizations': endpoint = `${apiUrl}/api/organizations`; break;\r\n                case 'kks': endpoint = `${apiUrl}/api/kks`; break;\r\n                case 'workers': endpoint = `${apiUrl}/api/workers`; break;\r\n                case 'documents': endpoint = `${apiUrl}/api/documents`; break;\r\n                default: throw new Error(\"Неизвестный тип для добавления\");\r\n            }\r\n            await axios.post(endpoint, newItemData);\r\n            setAddingItemType(null);\r\n            await fetchData();\r\n            console.log(`Item of type ${type} added successfully.`);\r\n        } catch (err) {\r\n            console.error(`Ошибка при добавлении ${type}:`, err.response?.data || err.message || err);\r\n            setError(err.response?.data?.error || `Ошибка при добавлении элемента`);\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n    const handleDelete = async (idToDelete) => { // Удаление (DELETE)\r\n        if (!window.confirm('Вы уверены, что хотите удалить этот элемент?')) { return; }\r\n        const idKey = getIdKeyForTab(activeTab);\r\n        console.log(`Deleting item with ID: ${idToDelete} (Key: ${idKey}) on tab: ${activeTab}`);\r\n        setLoading(true);\r\n        setError('');\r\n        try {\r\n            let endpoint;\r\n            switch (activeTab) {\r\n                case 'programs': endpoint = `${apiUrl}/api/programs/${idToDelete}`; break;\r\n                case 'organizations': endpoint = `${apiUrl}/api/organizations/${idToDelete}`; break;\r\n                case 'kks': endpoint = `${apiUrl}/api/kks/${idToDelete}`; break;\r\n                case 'workers': endpoint = `${apiUrl}/api/workers/${idToDelete}`; break;\r\n                case 'documents': endpoint = `${apiUrl}/api/documents/${idToDelete}`; break; // <<< ДОБАВЛЕНО (нужен DELETE /api/documents/:id)\r\n                default: throw new Error(\"Неизвестная вкладка для удаления\");\r\n            }\r\n            await axios.delete(endpoint);\r\n            if (editingItem && editingItem[idKey] === idToDelete) { setEditingItem(null); }\r\n            await fetchData();\r\n            console.log(`Item (ID: ${idToDelete}) deleted successfully.`);\r\n        } catch (err) {\r\n            console.error(`Ошибка при удалении элемента (ID: ${idToDelete}):`, err.response?.data || err.message || err);\r\n            setError(err.response?.data?.error || 'Ошибка при удалении элемента. Возможно, на него есть ссылки.');\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    // --- Вспомогательные функции рендеринга ---\r\n    const displayRole = (roleValue) => { /* ... */ return roleValue === 1 ? 'Работник ЦДО' : roleValue === 0 ? 'Работник ОУ' : 'Неизвестно'; };\r\n    const renderSortableHeader = (label, key) => ( /* ... */ <th onClick={() => requestSort(key)} className=\"sortable-header\"> {label} {sortConfig.key === key ? (sortConfig.direction === 'ascending' ? ' ▲' : ' ▼') : ' ↕'} </th> );\r\n\r\n    // --- Основной рендеринг компонента ---\r\n    if (!user && loading) return <div className=\"loading\">Проверка авторизации и загрузка данных...</div>;\r\n    if (!user) return <div className=\"error\">Не удалось получить данные пользователя. <button onClick={() => navigate('/login')}>Войти</button></div>;\r\n    if (user.role !== 1) return <div className=\"error\">Доступ запрещен.</div>;\r\n    const showLoadingIndicator = loading && !error;\r\n\r\n    return (\r\n        <div className=\"admin-panel\">\r\n            {/* Шапка */}\r\n            <div className=\"admin-header\">\r\n                <h1>Панель администратора</h1>\r\n                <div className=\"header-buttons\">\r\n                   <button onClick={() => navigate('/admin')} className=\"back-button\">Назад</button>\r\n                   <button onClick={() => { localStorage.removeItem('user'); navigate('/login'); }} className=\"logout-button\">Выйти</button>\r\n                </div>\r\n            </div>\r\n\r\n            {/* Вкладки */}\r\n            <div className=\"admin-tabs\">\r\n                <button className={`tab-button ${activeTab === 'programs' ? 'active' : ''}`} onClick={() => setActiveTab('programs')}>Программы</button>\r\n                <button className={`tab-button ${activeTab === 'organizations' ? 'active' : ''}`} onClick={() => setActiveTab('organizations')}>Организации</button>\r\n                <button className={`tab-button ${activeTab === 'kks' ? 'active' : ''}`} onClick={() => setActiveTab('kks')}>ККС</button>\r\n                <button className={`tab-button ${activeTab === 'workers' ? 'active' : ''}`} onClick={() => setActiveTab('workers')}>Работники</button>\r\n                {/* <<< ДОБАВЛЕНА ВКЛАДКА >>> */}\r\n                <button className={`tab-button ${activeTab === 'documents' ? 'active' : ''}`} onClick={() => setActiveTab('documents')}>Документы</button>\r\n            </div>\r\n\r\n            {/* Индикатор загрузки и ошибки */}\r\n            {showLoadingIndicator && <div className=\"loading-inline\">Обновление данных...</div>}\r\n            {error && <div className=\"error-inline\">{error} <button onClick={() => setError('')} title=\"Закрыть ошибку\">×</button></div>}\r\n\r\n            {/* Основной контент */}\r\n            <div className=\"admin-content\">\r\n\r\n                 {/* Формы добавления/редактирования */}\r\n                 {(addingItemType === 'workers' || (editingItem && activeTab === 'workers')) && ( <WorkerForm key={editingItem ? editingItem.ID_Worker : 'add-worker'} initialData={editingItem || {}} onSave={editingItem ? handleSave : handleAddItem} onCancel={editingItem ? handleCancel : handleCancelAdd} isEditing={!!editingItem} /> )}\r\n                 {addingItemType && addingItemType !== 'workers' && addingItemType !== 'documents' && ( <AddItemForm key={`add-${addingItemType}`} type={addingItemType} onSave={handleAddItem} onCancel={handleCancelAdd} programTypes={programTypes} allOrganizations={allOrganizations} /> )}\r\n                 {/* <<< УСЛОВИЕ ДЛЯ ФОРМЫ ДОКУМЕНТОВ >>> */}\r\n                 {(addingItemType === 'documents' || (editingItem && activeTab === 'documents')) && (\r\n                     <DocumentForm\r\n                         key={editingItem ? editingItem.ID_Document : 'add-document'}\r\n                         initialData={editingItem || {}}\r\n                         onSave={editingItem ? handleSave : handleAddItem}\r\n                         onCancel={editingItem ? handleCancel : handleCancelAdd}\r\n                         isEditing={!!editingItem}\r\n                         allWorkers={workers} // Передаем список работников (не allWorkers, а текущий загруженный)\r\n                         allPrograms={allPrograms} // Передаем список программ\r\n                     />\r\n                 )}\r\n\r\n\r\n                {/* Кнопка \"Добавить\" */}\r\n                {!editingItem && !addingItemType && (\r\n                    <button onClick={handleShowAddForm} className=\"add-button\">\r\n                        Добавить {\r\n                            activeTab === 'programs' ? 'программу' :\r\n                            activeTab === 'organizations' ? 'организацию' :\r\n                            activeTab === 'kks' ? 'KKS' :\r\n                            activeTab === 'workers' ? 'работника' :\r\n                            activeTab === 'documents' ? 'документ' : '' // <<< ДОБАВЛЕНО\r\n                        }\r\n                    </button>\r\n                )}\r\n\r\n                {/* Таблица Программ */}\r\n                {activeTab === 'programs' && ( <table className=\"admin-table\"> {/* ... код таблицы ... */} <thead><tr> {renderSortableHeader('№', 'ID_ProgDPO')} {renderSortableHeader('Название', 'Name_ProgDPO')} {renderSortableHeader('Тип', 'Name_Type')} <th>Действия</th> </tr></thead> <tbody> {sortedPrograms.map((program, index) => ( <tr key={program.ID_ProgDPO}> {editingItem?.ID_ProgDPO === program.ID_ProgDPO ? (<> <td>{index + 1}</td> <td> <input type=\"text\" value={editingItem.Name_ProgDPO} onChange={(e) => handleChangeInline('Name_ProgDPO', e.target.value)} /> </td> <td> {program.Name_Type || 'N/A'} </td> <td> <button onClick={() => handleSave()}>Сохранить</button> <button onClick={handleCancel}>Отмена</button> </td> </>) : (<> <td>{index + 1}</td> <td>{program.Name_ProgDPO}</td> <td>{program.Name_Type || 'N/A'}</td> <td className=\"actions-cell\"> <button onClick={() => handleEdit(program)} disabled={!!addingItemType || !!editingItem}>Редакт.</button> <button onClick={() => handleDelete(program.ID_ProgDPO)} className=\"delete-button\" disabled={!!addingItemType || !!editingItem}>Удалить</button> </td> </> )} </tr> ))} </tbody> </table> )}\r\n                 {/* Таблица Организаций */}\r\n                 {activeTab === 'organizations' && ( <table className=\"admin-table\"> {/* ... код таблицы ... */} <thead><tr> {renderSortableHeader('№', 'ID_Org')} {renderSortableHeader('Полное название', 'FName')} {renderSortableHeader('Краткое название', 'SName')} <th>Действия</th> </tr></thead> <tbody> {sortedOrganizations.map((org, index) => ( <tr key={org.ID_Org}> {editingItem?.ID_Org === org.ID_Org ? (<> <td>{index + 1}</td> <td><input type=\"text\" value={editingItem.FName} onChange={(e) => handleChangeInline('FName', e.target.value)} /></td> <td><input type=\"text\" value={editingItem.SName} onChange={(e) => handleChangeInline('SName', e.target.value)} /></td> <td> <button onClick={handleSave}>Сохранить</button> <button onClick={handleCancel}>Отмена</button> </td> </>) : (<> <td>{index + 1}</td> <td>{org.FName}</td> <td>{org.SName}</td> <td className=\"actions-cell\"> <button onClick={() => handleEdit(org)} disabled={!!addingItemType || !!editingItem}>Редакт.</button> <button onClick={() => handleDelete(org.ID_Org)} className=\"delete-button\" disabled={!!addingItemType || !!editingItem}>Удалить</button> </td> </> )} </tr> ))} </tbody> </table> )}\r\n                 {/* Таблица KKS */}\r\n                 {activeTab === 'kks' && ( <table className=\"admin-table\"> {/* ... код таблицы ... */} <thead><tr> {renderSortableHeader('№', 'ID_KKS')} {renderSortableHeader('Название', 'Name_KKS')} {renderSortableHeader('Краткое обозначение', 'SName_KKS')} <th>Действия</th> </tr></thead> <tbody> {sortedKks.map((kksItem, index) => ( <tr key={kksItem.ID_KKS}> {editingItem?.ID_KKS === kksItem.ID_KKS ? (<> <td>{index + 1}</td> <td><input type=\"text\" value={editingItem.Name_KKS} onChange={(e) => handleChangeInline('Name_KKS', e.target.value)} /></td> <td><input type=\"text\" value={editingItem.SName_KKS} onChange={(e) => handleChangeInline('SName_KKS', e.target.value)} /></td> <td> <button onClick={handleSave}>Сохранить</button> <button onClick={handleCancel}>Отмена</button> </td> </>) : (<> <td>{index + 1}</td> <td>{kksItem.Name_KKS}</td> <td>{kksItem.SName_KKS}</td> <td className=\"actions-cell\"> <button onClick={() => handleEdit(kksItem)} disabled={!!addingItemType || !!editingItem}>Редакт.</button> <button onClick={() => handleDelete(kksItem.ID_KKS)} className=\"delete-button\" disabled={!!addingItemType || !!editingItem}>Удалить</button> </td> </> )} </tr> ))} </tbody> </table> )}\r\n                 {/* Таблица Работников */}\r\n                 {activeTab === 'workers' && ( <table className=\"admin-table\"> {/* ... код таблицы ... */} <thead><tr> {renderSortableHeader('№', 'ID_Worker')} {renderSortableHeader('Логин', 'Login')} {renderSortableHeader('ФИО Работника', 'FName_Worker')} {renderSortableHeader('Роль', 'Role')} <th>Действия</th> </tr></thead> <tbody> {sortedWorkers.map((w, index) => ( <tr key={w.ID_Worker}> <td>{index + 1}</td> <td>{w.Login}</td> <td>{w.FName_Worker}</td> <td>{displayRole(w.Role)}</td> <td className=\"actions-cell\"> <button onClick={() => handleEdit(w)} disabled={!!addingItemType || !!editingItem}>Редакт.</button> <button onClick={() => handleDelete(w.ID_Worker)} className=\"delete-button\" disabled={!!addingItemType || !!editingItem}>Удалить</button> </td> </tr> ))} </tbody> </table> )}\r\n\r\n                {/* <<< НОВАЯ ТАБЛИЦА ДЛЯ ДОКУМЕНТОВ >>> */}\r\n                {activeTab === 'documents' && (\r\n                    <table className=\"admin-table\">\r\n                        <thead>\r\n                            <tr>\r\n                                {renderSortableHeader('№', 'ID_Document')}\r\n                                {renderSortableHeader('Работник', 'WorkerName')}\r\n                                {renderSortableHeader('Программа', 'ProgramName')}\r\n                                {renderSortableHeader('Рег. номер', 'regnumber')}\r\n                                {/* Можно добавить другие колонки: Серия, Номер формы */}\r\n                                {renderSortableHeader('Дата выдачи', 'DateIssue')}\r\n                                <th>Действия</th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                            {sortedDocuments.map((doc, index) => (\r\n                                <tr key={doc.ID_Document}>\r\n                                    {/* Редактирование документов через форму, не inline */}\r\n                                    <td>{index + 1}</td>\r\n                                    <td>{doc.WorkerName || 'N/A'}</td>\r\n                                    <td>{doc.ProgramName || 'N/A'}</td>\r\n                                    <td>{doc.regnumber || 'N/A'}</td>\r\n                                    <td>{formatDate(doc.DateIssue, 'display')}</td> {/* Используем formatDate для отображения */}\r\n                                    <td className=\"actions-cell\">\r\n                                        {/* Кнопка редактирования открывает DocumentForm */}\r\n                                        <button onClick={() => handleEdit(doc)} disabled={!!addingItemType || !!editingItem}>Редакт.</button>\r\n                                        {/* Кнопка удаления */}\r\n                                        <button onClick={() => handleDelete(doc.ID_Document)} className=\"delete-button\" disabled={!!addingItemType || !!editingItem}>Удалить</button>\r\n                                    </td>\r\n                                </tr>\r\n                            ))}\r\n                        </tbody>\r\n                    </table>\r\n                 )}\r\n\r\n            </div> {/* admin-content */}\r\n        </div> // admin-panel\r\n    );\r\n}\r\n\r\nexport default AdminPanel;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
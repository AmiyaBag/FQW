{"ast":null,"code":"var _jsxFileName = \"D:\\\\Amina\\\\VScode\\\\FQW_new\\\\src\\\\components\\\\AdminPanel.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useMemo } from 'react';\nimport axios from 'axios';\nimport { useNavigate } from 'react-router-dom';\nimport './AdminPanel.css';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction AdminPanel() {\n  _s();\n  const [activeTab, setActiveTab] = useState('programs');\n  const [programs, setPrograms] = useState([]);\n  const [organizations, setOrganizations] = useState([]);\n  const [kks, setKks] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState('');\n  const [editingItem, setEditingItem] = useState(null);\n  const navigate = useNavigate();\n  const apiUrl = process.env.REACT_APP_API_URL;\n  const [users, setUsers] = useState([]); // Состояние для пользователей (добавим позже)\n  const [sortConfig, setSortConfig] = useState({\n    key: null,\n    direction: 'ascending'\n  }); // Состояние для сортировки\n\n  const user = useMemo(() => {\n    const storedUser = localStorage.getItem('user');\n    try {\n      return storedUser ? JSON.parse(storedUser) : null;\n    } catch (e) {\n      console.error(\"Failed to parse user from localStorage\", e);\n      return null;\n    }\n  }, []);\n\n  // --- Функция запроса сортировки ---\n  const requestSort = key => {\n    let direction = 'ascending';\n    if (sortConfig.key === key && sortConfig.direction === 'ascending') {\n      direction = 'descending';\n    }\n    setSortConfig({\n      key,\n      direction\n    });\n  };\n\n  // --- Функция получения ключа ID для текущей вкладки ---\n  const getIdKeyForTab = tab => {\n    switch (tab) {\n      case 'programs':\n        return 'ID_ProgDPO';\n      case 'organizations':\n        return 'ID_Org';\n      case 'kks':\n        return 'ID_KKS';\n      case 'users':\n        return 'ID_User';\n      // Для будущей вкладки\n      default:\n        return null;\n    }\n  };\n  useEffect(() => {\n    const idKey = getIdKeyForTab(activeTab);\n    if (idKey) {\n      setSortConfig({\n        key: idKey,\n        direction: 'ascending'\n      });\n    } else {\n      setSortConfig({\n        key: null,\n        direction: 'ascending'\n      }); // Сброс для неизвестных вкладок\n    }\n    // fetchData будет вызван следующим useEffect\n  }, [activeTab]);\n  useEffect(() => {\n    if ((user === null || user === void 0 ? void 0 : user.role) !== 1) {\n      navigate('/login');\n      return;\n    }\n    fetchData();\n  }, [activeTab, user, navigate]);\n  const fetchData = async () => {\n    if (!user || user.role !== 1) {\n      console.warn(\"fetchData called without admin user, aborting.\");\n      setLoading(false);\n      return;\n    }\n    setLoading(true);\n    setError('');\n    try {\n      setLoading(true);\n      let response;\n      let endpoint;\n      switch (activeTab) {\n        case 'programs':\n          endpoint = `${apiUrl}/api/programs`;\n          break;\n        case 'organizations':\n          endpoint = `${apiUrl}/api/organizations`;\n          break;\n        case 'kks':\n          endpoint = `${apiUrl}/api/kks`;\n          break;\n        case 'users':\n          endpoint = `${apiUrl}/api/users`;\n          break;\n        default:\n          console.warn(`Unknown activeTab: ${activeTab}`);\n          setLoading(false);\n          return;\n      }\n      console.log(`Attempting to fetch ${endpoint}...`);\n      response = await axios.get(endpoint);\n      console.log(`Received response from ${endpoint}`, response.status);\n      switch (activeTab) {\n        case 'programs':\n          setPrograms(response.data);\n          break;\n        case 'organizations':\n          setOrganizations(response.data);\n          break;\n        case 'kks':\n          setKks(response.data);\n          break;\n        case 'users':\n          setUsers(response.data);\n          break;\n        // Для будущей вкладки\n      }\n      setError('');\n    } catch (err) {\n      var _err$response, _err$response$data;\n      console.error(`Error fetching ${activeTab}:`, err.response || err.message || err);\n      setError(((_err$response = err.response) === null || _err$response === void 0 ? void 0 : (_err$response$data = _err$response.data) === null || _err$response$data === void 0 ? void 0 : _err$response$data.error) || `Ошибка при загрузке данных для ${activeTab}`);\n    } finally {\n      console.log(`Setting loading to false for ${activeTab}.`);\n      setLoading(false);\n    }\n  };\n\n  // --- Мемоизированные отсортированные данные ---\n  const sortedPrograms = useMemo(() => {\n    let sortableItems = [...programs];\n    if (sortConfig.key) {\n      sortableItems.sort((a, b) => {\n        if (a[sortConfig.key] < b[sortConfig.key]) {\n          return sortConfig.direction === 'ascending' ? -1 : 1;\n        }\n        if (a[sortConfig.key] > b[sortConfig.key]) {\n          return sortConfig.direction === 'ascending' ? 1 : -1;\n        }\n        return 0;\n      });\n    }\n    return sortableItems;\n  }, [programs, sortConfig]);\n  const sortedOrganizations = useMemo(() => {\n    // ... аналогично для organizations ...\n    let sortableItems = [...organizations];\n    if (sortConfig.key) {\n      sortableItems.sort((a, b) => {\n        // Проверка на число (для ID) или строку\n        const valA = a[sortConfig.key];\n        const valB = b[sortConfig.key];\n        const compareResult = typeof valA === 'number' && typeof valB === 'number' ? valA - valB : String(valA).localeCompare(String(valB));\n        return sortConfig.direction === 'ascending' ? compareResult : -compareResult;\n      });\n    }\n    return sortableItems;\n  }, [organizations, sortConfig]);\n  const sortedKks = useMemo(() => {\n    // ... аналогично для kks ...\n    let sortableItems = [...kks];\n    if (sortConfig.key) {\n      sortableItems.sort((a, b) => {\n        const valA = a[sortConfig.key];\n        const valB = b[sortConfig.key];\n        const compareResult = typeof valA === 'number' && typeof valB === 'number' ? valA - valB : String(valA).localeCompare(String(valB));\n        return sortConfig.direction === 'ascending' ? compareResult : -compareResult;\n      });\n    }\n    return sortableItems;\n  }, [kks, sortConfig]);\n  const sortedUsers = useMemo(() => {\n    // Для будущей вкладки\n    // ... аналогично для users ...\n    let sortableItems = [...users];\n    if (sortConfig.key) {\n      sortableItems.sort((a, b) => {\n        const valA = a[sortConfig.key];\n        const valB = b[sortConfig.key];\n        // Пример обработки роли как числа\n        if (sortConfig.key === 'Role' && typeof valA === 'number' && typeof valB === 'number') {\n          const compareResult = valA - valB;\n          return sortConfig.direction === 'ascending' ? compareResult : -compareResult;\n        }\n        // Стандартное сравнение для остальных полей\n        const compareResult = String(valA !== null && valA !== void 0 ? valA : '').localeCompare(String(valB !== null && valB !== void 0 ? valB : '')); // Добавим ?? '' для null/undefined\n        return sortConfig.direction === 'ascending' ? compareResult : -compareResult;\n      });\n    }\n    return sortableItems;\n  }, [users, sortConfig]);\n  const handleEdit = item => {\n    setEditingItem(item);\n  };\n  const handleSave = async () => {\n    try {\n      let endpoint;\n      switch (activeTab) {\n        case 'programs':\n          endpoint = `${apiUrl}/api/programs/${editingItem.ID_ProgDPO}`;\n          await axios.put(endpoint, editingItem);\n          break;\n        case 'organizations':\n          endpoint = `${apiUrl}/api/organizations/${editingItem.ID_Org}`;\n          await axios.put(endpoint, editingItem);\n          break;\n        case 'kks':\n          endpoint = `${apiUrl}/api/kks/${editingItem.ID_KKS}`;\n          await axios.put(endpoint, editingItem);\n          break;\n        default:\n          break;\n      }\n      setEditingItem(null);\n      fetchData();\n    } catch (err) {\n      var _err$response2, _err$response2$data;\n      setError(((_err$response2 = err.response) === null || _err$response2 === void 0 ? void 0 : (_err$response2$data = _err$response2.data) === null || _err$response2$data === void 0 ? void 0 : _err$response2$data.error) || 'Ошибка при сохранении данных');\n    }\n  };\n  const handleCancel = () => {\n    setEditingItem(null);\n  };\n  const handleChange = (field, value) => {\n    setEditingItem(prev => ({\n      ...prev,\n      [field]: value\n    }));\n  };\n  const handleLogout = () => {\n    localStorage.removeItem('user');\n    navigate('/login');\n  };\n  if (!user && loading) return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"loading\",\n    children: \"\\u041F\\u0440\\u043E\\u0432\\u0435\\u0440\\u043A\\u0430 \\u0430\\u0432\\u0442\\u043E\\u0440\\u0438\\u0437\\u0430\\u0446\\u0438\\u0438...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 225,\n    columnNumber: 32\n  }, this);\n  if (!user) return null;\n  if (loading) return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"loading\",\n    children: \"\\u0417\\u0430\\u0433\\u0440\\u0443\\u0437\\u043A\\u0430...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 227,\n    columnNumber: 23\n  }, this);\n  if (error) return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"error\",\n    children: error\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 228,\n    columnNumber: 21\n  }, this);\n  const renderSortableHeader = (label, key) => /*#__PURE__*/_jsxDEV(\"th\", {\n    onClick: () => requestSort(key),\n    className: \"sortable-header\",\n    children: [label, sortConfig.key === key ? sortConfig.direction === 'ascending' ? ' ▲' : ' ▼' : ' ↕']\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 231,\n    columnNumber: 5\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"admin-panel\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"admin-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"\\u041F\\u0430\\u043D\\u0435\\u043B\\u044C \\u0430\\u0434\\u043C\\u0438\\u043D\\u0438\\u0441\\u0442\\u0440\\u0430\\u0442\\u043E\\u0440\\u0430\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 243,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleLogout,\n        className: \"logout-button\",\n        children: \"\\u0412\\u044B\\u0439\\u0442\\u0438\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 244,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 242,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"admin-tabs\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        className: `tab-button ${activeTab === 'programs' ? 'active' : ''}`,\n        onClick: () => setActiveTab('programs'),\n        children: \"\\u041F\\u0440\\u043E\\u0433\\u0440\\u0430\\u043C\\u043C\\u044B\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 248,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: `tab-button ${activeTab === 'organizations' ? 'active' : ''}`,\n        onClick: () => setActiveTab('organizations'),\n        children: \"\\u041E\\u0440\\u0433\\u0430\\u043D\\u0438\\u0437\\u0430\\u0446\\u0438\\u0438\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 254,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: `tab-button ${activeTab === 'kks' ? 'active' : ''}`,\n        onClick: () => setActiveTab('kks'),\n        children: \"\\u041A\\u041A\\u0421\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 260,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 247,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"admin-content\",\n      children: [activeTab === 'programs' && /*#__PURE__*/_jsxDEV(\"table\", {\n        className: \"admin-table\",\n        children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n          children: /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [renderSortableHeader('ID', 'ID_ProgDPO'), renderSortableHeader('Название', 'Name_ProgDPO'), renderSortableHeader('Тип', 'Name_Type'), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"\\u0414\\u0435\\u0439\\u0441\\u0442\\u0432\\u0438\\u044F\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 276,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 272,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 271,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n          children: programs.map(program => /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: (editingItem === null || editingItem === void 0 ? void 0 : editingItem.ID_ProgDPO) === program.ID_ProgDPO ? /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                children: program.ID_ProgDPO\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 284,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  value: editingItem.Name_ProgDPO,\n                  onChange: e => handleChange('Name_ProgDPO', e.target.value)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 286,\n                  columnNumber: 25\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 285,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  value: editingItem.Name_Type,\n                  onChange: e => handleChange('Name_Type', e.target.value)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 293,\n                  columnNumber: 25\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 292,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: handleSave,\n                  children: \"\\u0421\\u043E\\u0445\\u0440\\u0430\\u043D\\u0438\\u0442\\u044C\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 300,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: handleCancel,\n                  children: \"\\u041E\\u0442\\u043C\\u0435\\u043D\\u0430\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 301,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 299,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                children: program.ID_ProgDPO\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 306,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: program.Name_ProgDPO\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 307,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: program.Name_Type\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 308,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => handleEdit(program),\n                  children: \"\\u0420\\u0435\\u0434\\u0430\\u043A\\u0442\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 310,\n                  columnNumber: 25\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 309,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true)\n          }, program.ID_ProgDPO, false, {\n            fileName: _jsxFileName,\n            lineNumber: 281,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 279,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 270,\n        columnNumber: 11\n      }, this), activeTab === 'organizations' && /*#__PURE__*/_jsxDEV(\"table\", {\n        className: \"admin-table\",\n        children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n          children: /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [renderSortableHeader('ID', 'ID_Org'), renderSortableHeader('Полное название', 'FName'), renderSortableHeader('Краткое название', 'SName'), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"\\u0414\\u0435\\u0439\\u0441\\u0442\\u0432\\u0438\\u044F\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 327,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 323,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 322,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n          children: organizations.map(org => /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: (editingItem === null || editingItem === void 0 ? void 0 : editingItem.ID_Org) === org.ID_Org ? /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                children: org.ID_Org\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 335,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  value: editingItem.FName,\n                  onChange: e => handleChange('FName', e.target.value)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 337,\n                  columnNumber: 25\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 336,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  value: editingItem.SName,\n                  onChange: e => handleChange('SName', e.target.value)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 344,\n                  columnNumber: 25\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 343,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: handleSave,\n                  children: \"\\u0421\\u043E\\u0445\\u0440\\u0430\\u043D\\u0438\\u0442\\u044C\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 351,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: handleCancel,\n                  children: \"\\u041E\\u0442\\u043C\\u0435\\u043D\\u0430\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 352,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 350,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                children: org.ID_Org\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 357,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: org.FName\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 358,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: org.SName\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 359,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => handleEdit(org),\n                  children: \"\\u0420\\u0435\\u0434\\u0430\\u043A\\u0442\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 361,\n                  columnNumber: 25\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 360,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true)\n          }, org.ID_Org, false, {\n            fileName: _jsxFileName,\n            lineNumber: 332,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 330,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 321,\n        columnNumber: 11\n      }, this), activeTab === 'kks' && /*#__PURE__*/_jsxDEV(\"table\", {\n        className: \"admin-table\",\n        children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n          children: /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [renderSortableHeader('ID', 'ID_KKS'), renderSortableHeader('Название', 'Name_KKS'), renderSortableHeader('Краткое обозначение', 'SName_KKS'), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"\\u0414\\u0435\\u0439\\u0441\\u0442\\u0432\\u0438\\u044F\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 378,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 374,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 373,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n          children: kks.map(kksItem => /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: (editingItem === null || editingItem === void 0 ? void 0 : editingItem.ID_KKS) === kksItem.ID_KKS ? /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                children: kksItem.ID_KKS\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 386,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  value: editingItem.Name_KKS,\n                  onChange: e => handleChange('Name_KKS', e.target.value)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 388,\n                  columnNumber: 25\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 387,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  value: editingItem.SName_KKS,\n                  onChange: e => handleChange('SName_KKS', e.target.value)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 395,\n                  columnNumber: 25\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 394,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: handleSave,\n                  children: \"\\u0421\\u043E\\u0445\\u0440\\u0430\\u043D\\u0438\\u0442\\u044C\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 402,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: handleCancel,\n                  children: \"\\u041E\\u0442\\u043C\\u0435\\u043D\\u0430\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 403,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 401,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                children: kksItem.ID_KKS\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 408,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: kksItem.Name_KKS\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 409,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: kksItem.SName_KKS\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 410,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => handleEdit(kksItem),\n                  children: \"\\u0420\\u0435\\u0434\\u0430\\u043A\\u0442\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 412,\n                  columnNumber: 25\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 411,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true)\n          }, kksItem.ID_KKS, false, {\n            fileName: _jsxFileName,\n            lineNumber: 383,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 381,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 372,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 268,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 241,\n    columnNumber: 5\n  }, this);\n}\n_s(AdminPanel, \"Zcc4bITeeEi0D345dZ1M+8vxVRc=\", false, function () {\n  return [useNavigate];\n});\n_c = AdminPanel;\nexport default AdminPanel;\nvar _c;\n$RefreshReg$(_c, \"AdminPanel\");","map":{"version":3,"names":["React","useState","useEffect","useMemo","axios","useNavigate","jsxDEV","_jsxDEV","Fragment","_Fragment","AdminPanel","_s","activeTab","setActiveTab","programs","setPrograms","organizations","setOrganizations","kks","setKks","loading","setLoading","error","setError","editingItem","setEditingItem","navigate","apiUrl","process","env","REACT_APP_API_URL","users","setUsers","sortConfig","setSortConfig","key","direction","user","storedUser","localStorage","getItem","JSON","parse","e","console","requestSort","getIdKeyForTab","tab","idKey","role","fetchData","warn","response","endpoint","log","get","status","data","err","_err$response","_err$response$data","message","sortedPrograms","sortableItems","sort","a","b","sortedOrganizations","valA","valB","compareResult","String","localeCompare","sortedKks","sortedUsers","handleEdit","item","handleSave","ID_ProgDPO","put","ID_Org","ID_KKS","_err$response2","_err$response2$data","handleCancel","handleChange","field","value","prev","handleLogout","removeItem","className","children","fileName","_jsxFileName","lineNumber","columnNumber","renderSortableHeader","label","onClick","map","program","type","Name_ProgDPO","onChange","target","Name_Type","org","FName","SName","kksItem","Name_KKS","SName_KKS","_c","$RefreshReg$"],"sources":["D:/Amina/VScode/FQW_new/src/components/AdminPanel.js"],"sourcesContent":["import React, { useState, useEffect, useMemo } from 'react';\r\nimport axios from 'axios';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport './AdminPanel.css';\r\n\r\nfunction AdminPanel() {\r\n  const [activeTab, setActiveTab] = useState('programs');\r\n  const [programs, setPrograms] = useState([]);\r\n  const [organizations, setOrganizations] = useState([]);\r\n  const [kks, setKks] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState('');\r\n  const [editingItem, setEditingItem] = useState(null);\r\n  const navigate = useNavigate();\r\n  const apiUrl = process.env.REACT_APP_API_URL\r\n  const [users, setUsers] = useState([]); // Состояние для пользователей (добавим позже)\r\n  const [sortConfig, setSortConfig] = useState({ key: null, direction: 'ascending' }); // Состояние для сортировки\r\n\r\nconst user = useMemo(() => {\r\n  const storedUser = localStorage.getItem('user');\r\n  try {\r\n      return storedUser ? JSON.parse(storedUser) : null;\r\n  } catch (e) {\r\n      console.error(\"Failed to parse user from localStorage\", e);\r\n      return null;\r\n  }\r\n}, []);\r\n\r\n// --- Функция запроса сортировки ---\r\nconst requestSort = (key) => {\r\n  let direction = 'ascending';\r\n  if (sortConfig.key === key && sortConfig.direction === 'ascending') {\r\n      direction = 'descending';\r\n  }\r\n  setSortConfig({ key, direction });\r\n};\r\n\r\n// --- Функция получения ключа ID для текущей вкладки ---\r\nconst getIdKeyForTab = (tab) => {\r\n  switch (tab) {\r\n      case 'programs': return 'ID_ProgDPO';\r\n      case 'organizations': return 'ID_Org';\r\n      case 'kks': return 'ID_KKS';\r\n      case 'users': return 'ID_User'; // Для будущей вкладки\r\n      default: return null;\r\n  }\r\n};\r\n\r\nuseEffect(() => {\r\n  const idKey = getIdKeyForTab(activeTab);\r\n  if (idKey) {\r\n      setSortConfig({ key: idKey, direction: 'ascending' });\r\n  } else {\r\n      setSortConfig({ key: null, direction: 'ascending' }); // Сброс для неизвестных вкладок\r\n  }\r\n  // fetchData будет вызван следующим useEffect\r\n}, [activeTab]);\r\n\r\n  useEffect(() => {\r\n    if (user?.role !== 1) {\r\n      navigate('/login');\r\n      return;\r\n    }\r\n    fetchData();\r\n  }, [activeTab, user, navigate]);\r\n\r\n  const fetchData = async () => {\r\n    if (!user || user.role !== 1) {\r\n      console.warn(\"fetchData called without admin user, aborting.\");\r\n      setLoading(false);\r\n      return;\r\n    }\r\n    setLoading(true);\r\n    setError('');\r\n    try {\r\n      setLoading(true);\r\n      let response;\r\n      let endpoint;\r\n      switch (activeTab) {\r\n        case 'programs': endpoint = `${apiUrl}/api/programs`; break;\r\n        case 'organizations': endpoint = `${apiUrl}/api/organizations`; break;\r\n        case 'kks': endpoint = `${apiUrl}/api/kks`; break;\r\n        case 'users': endpoint = `${apiUrl}/api/users`; break;\r\n        default:\r\n          console.warn(`Unknown activeTab: ${activeTab}`);\r\n          setLoading(false);\r\n          return;\r\n      }\r\n      console.log(`Attempting to fetch ${endpoint}...`);\r\n      response = await axios.get(endpoint);\r\n      console.log(`Received response from ${endpoint}`, response.status);\r\n      switch (activeTab) {\r\n        case 'programs': setPrograms(response.data); break;\r\n        case 'organizations': setOrganizations(response.data); break;\r\n        case 'kks': setKks(response.data); break;\r\n        case 'users': setUsers(response.data); break; // Для будущей вкладки\r\n      }\r\n      setError('');\r\n    } catch (err) {\r\n      console.error(`Error fetching ${activeTab}:`, err.response || err.message || err);\r\n      setError(err.response?.data?.error || `Ошибка при загрузке данных для ${activeTab}`);\r\n    } finally {\r\n        console.log(`Setting loading to false for ${activeTab}.`);\r\n        setLoading(false);\r\n    }\r\n  };\r\n\r\n// --- Мемоизированные отсортированные данные ---\r\nconst sortedPrograms = useMemo(() => {\r\n  let sortableItems = [...programs];\r\n  if (sortConfig.key) {\r\n      sortableItems.sort((a, b) => {\r\n          if (a[sortConfig.key] < b[sortConfig.key]) {\r\n              return sortConfig.direction === 'ascending' ? -1 : 1;\r\n          }\r\n          if (a[sortConfig.key] > b[sortConfig.key]) {\r\n              return sortConfig.direction === 'ascending' ? 1 : -1;\r\n          }\r\n          return 0;\r\n      });\r\n  }\r\n  return sortableItems;\r\n}, [programs, sortConfig]);\r\n\r\nconst sortedOrganizations = useMemo(() => {\r\n  // ... аналогично для organizations ...\r\n  let sortableItems = [...organizations];\r\n  if (sortConfig.key) {\r\n       sortableItems.sort((a, b) => {\r\n          // Проверка на число (для ID) или строку\r\n          const valA = a[sortConfig.key];\r\n          const valB = b[sortConfig.key];\r\n          const compareResult = typeof valA === 'number' && typeof valB === 'number'\r\n              ? valA - valB\r\n              : String(valA).localeCompare(String(valB));\r\n\r\n          return sortConfig.direction === 'ascending' ? compareResult : -compareResult;\r\n      });\r\n  }\r\n  return sortableItems;\r\n}, [organizations, sortConfig]);\r\n\r\nconst sortedKks = useMemo(() => {\r\n  // ... аналогично для kks ...\r\n   let sortableItems = [...kks];\r\n  if (sortConfig.key) {\r\n       sortableItems.sort((a, b) => {\r\n          const valA = a[sortConfig.key];\r\n          const valB = b[sortConfig.key];\r\n          const compareResult = typeof valA === 'number' && typeof valB === 'number'\r\n              ? valA - valB\r\n              : String(valA).localeCompare(String(valB));\r\n          return sortConfig.direction === 'ascending' ? compareResult : -compareResult;\r\n      });\r\n  }\r\n  return sortableItems;\r\n}, [kks, sortConfig]);\r\n\r\nconst sortedUsers = useMemo(() => { // Для будущей вкладки\r\n  // ... аналогично для users ...\r\n   let sortableItems = [...users];\r\n  if (sortConfig.key) {\r\n       sortableItems.sort((a, b) => {\r\n          const valA = a[sortConfig.key];\r\n          const valB = b[sortConfig.key];\r\n           // Пример обработки роли как числа\r\n           if (sortConfig.key === 'Role' && typeof valA === 'number' && typeof valB === 'number') {\r\n              const compareResult = valA - valB;\r\n               return sortConfig.direction === 'ascending' ? compareResult : -compareResult;\r\n           }\r\n           // Стандартное сравнение для остальных полей\r\n          const compareResult = String(valA ?? '').localeCompare(String(valB ?? '')); // Добавим ?? '' для null/undefined\r\n          return sortConfig.direction === 'ascending' ? compareResult : -compareResult;\r\n      });\r\n  }\r\n  return sortableItems;\r\n}, [users, sortConfig]);\r\n\r\n  const handleEdit = (item) => {\r\n    setEditingItem(item);\r\n  };\r\n\r\n  const handleSave = async () => {\r\n    try {\r\n      let endpoint;\r\n      switch (activeTab) {\r\n        case 'programs':\r\n          endpoint = `${apiUrl}/api/programs/${editingItem.ID_ProgDPO}`;\r\n          await axios.put(endpoint, editingItem);\r\n          break;\r\n        case 'organizations':\r\n          endpoint = `${apiUrl}/api/organizations/${editingItem.ID_Org}`;\r\n          await axios.put(endpoint, editingItem);\r\n          break;\r\n        case 'kks':\r\n          endpoint = `${apiUrl}/api/kks/${editingItem.ID_KKS}`;\r\n          await axios.put(endpoint, editingItem);\r\n          break;\r\n        default:\r\n          break;\r\n      }\r\n      setEditingItem(null);\r\n      fetchData();\r\n    } catch (err) {\r\n      setError(err.response?.data?.error || 'Ошибка при сохранении данных');\r\n    }\r\n  };\r\n\r\n  const handleCancel = () => {\r\n    setEditingItem(null);\r\n  };\r\n\r\n  const handleChange = (field, value) => {\r\n    setEditingItem(prev => ({\r\n      ...prev,\r\n      [field]: value\r\n    }));\r\n  };\r\n\r\n  const handleLogout = () => {\r\n    localStorage.removeItem('user');\r\n    navigate('/login');\r\n  };\r\n\r\n  if (!user && loading) return <div className=\"loading\">Проверка авторизации...</div>;\r\n  if (!user) return null;\r\n  if (loading) return <div className=\"loading\">Загрузка...</div>;\r\n  if (error) return <div className=\"error\">{error}</div>;\r\n\r\n  const renderSortableHeader = (label, key) => (\r\n    <th onClick={() => requestSort(key)} className=\"sortable-header\">\r\n        {label}\r\n        {/* Отображение иконки сортировки (если используете react-icons) */}\r\n        {/* {sortConfig.key === key ? <SortIcon direction={sortConfig.direction} /> : <FaSort />} */}\r\n        {/* Просто текстом: */}\r\n        {sortConfig.key === key ? (sortConfig.direction === 'ascending' ? ' ▲' : ' ▼') : ' ↕'}\r\n    </th>\r\n);\r\n  \r\n  return (\r\n    <div className=\"admin-panel\">\r\n      <div className=\"admin-header\">\r\n        <h1>Панель администратора</h1>\r\n        <button onClick={handleLogout} className=\"logout-button\">Выйти</button>\r\n      </div>\r\n\r\n      <div className=\"admin-tabs\">\r\n        <button \r\n          className={`tab-button ${activeTab === 'programs' ? 'active' : ''}`}\r\n          onClick={() => setActiveTab('programs')}\r\n        >\r\n          Программы\r\n        </button>\r\n        <button \r\n          className={`tab-button ${activeTab === 'organizations' ? 'active' : ''}`}\r\n          onClick={() => setActiveTab('organizations')}\r\n        >\r\n          Организации\r\n        </button>\r\n        <button \r\n          className={`tab-button ${activeTab === 'kks' ? 'active' : ''}`}\r\n          onClick={() => setActiveTab('kks')}\r\n        >\r\n          ККС\r\n        </button>\r\n      </div>\r\n\r\n      <div className=\"admin-content\">\r\n        {activeTab === 'programs' && (\r\n          <table className=\"admin-table\">\r\n            <thead>\r\n              <tr>\r\n              {renderSortableHeader('ID', 'ID_ProgDPO')}\r\n                {renderSortableHeader('Название', 'Name_ProgDPO')}\r\n                {renderSortableHeader('Тип', 'Name_Type')}\r\n                <th>Действия</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {programs.map(program => (\r\n                <tr key={program.ID_ProgDPO}>\r\n                  {editingItem?.ID_ProgDPO === program.ID_ProgDPO ? (\r\n                    <>\r\n                      <td>{program.ID_ProgDPO}</td>\r\n                      <td>\r\n                        <input\r\n                          type=\"text\"\r\n                          value={editingItem.Name_ProgDPO}\r\n                          onChange={(e) => handleChange('Name_ProgDPO', e.target.value)}\r\n                        />\r\n                      </td>\r\n                      <td>\r\n                        <input\r\n                          type=\"text\"\r\n                          value={editingItem.Name_Type}\r\n                          onChange={(e) => handleChange('Name_Type', e.target.value)}\r\n                        />\r\n                      </td>\r\n                      <td>\r\n                        <button onClick={handleSave}>Сохранить</button>\r\n                        <button onClick={handleCancel}>Отмена</button>\r\n                      </td>\r\n                    </>\r\n                  ) : (\r\n                    <>\r\n                      <td>{program.ID_ProgDPO}</td>\r\n                      <td>{program.Name_ProgDPO}</td>\r\n                      <td>{program.Name_Type}</td>\r\n                      <td>\r\n                        <button onClick={() => handleEdit(program)}>Редактировать</button>\r\n                      </td>\r\n                    </>\r\n                  )}\r\n                </tr>\r\n              ))}\r\n            </tbody>\r\n          </table>\r\n        )}\r\n\r\n        {activeTab === 'organizations' && (\r\n          <table className=\"admin-table\">\r\n            <thead>\r\n              <tr>\r\n                {renderSortableHeader('ID', 'ID_Org')}\r\n                {renderSortableHeader('Полное название', 'FName')}\r\n                {renderSortableHeader('Краткое название', 'SName')}\r\n                <th>Действия</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {organizations.map(org => (\r\n                <tr key={org.ID_Org}>\r\n                  {editingItem?.ID_Org === org.ID_Org ? (\r\n                    <>\r\n                      <td>{org.ID_Org}</td>\r\n                      <td>\r\n                        <input\r\n                          type=\"text\"\r\n                          value={editingItem.FName}\r\n                          onChange={(e) => handleChange('FName', e.target.value)}\r\n                        />\r\n                      </td>\r\n                      <td>\r\n                        <input\r\n                          type=\"text\"\r\n                          value={editingItem.SName}\r\n                          onChange={(e) => handleChange('SName', e.target.value)}\r\n                        />\r\n                      </td>\r\n                      <td>\r\n                        <button onClick={handleSave}>Сохранить</button>\r\n                        <button onClick={handleCancel}>Отмена</button>\r\n                      </td>\r\n                    </>\r\n                  ) : (\r\n                    <>\r\n                      <td>{org.ID_Org}</td>\r\n                      <td>{org.FName}</td>\r\n                      <td>{org.SName}</td>\r\n                      <td>\r\n                        <button onClick={() => handleEdit(org)}>Редактировать</button>\r\n                      </td>\r\n                    </>\r\n                  )}\r\n                </tr>\r\n              ))}\r\n            </tbody>\r\n          </table>\r\n        )}\r\n\r\n        {activeTab === 'kks' && (\r\n          <table className=\"admin-table\">\r\n            <thead>\r\n              <tr>\r\n              {renderSortableHeader('ID', 'ID_KKS')}\r\n                                    {renderSortableHeader('Название', 'Name_KKS')}\r\n                                    {renderSortableHeader('Краткое обозначение', 'SName_KKS')}\r\n                <th>Действия</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {kks.map(kksItem => (\r\n                <tr key={kksItem.ID_KKS}>\r\n                  {editingItem?.ID_KKS === kksItem.ID_KKS ? (\r\n                    <>\r\n                      <td>{kksItem.ID_KKS}</td>\r\n                      <td>\r\n                        <input\r\n                          type=\"text\"\r\n                          value={editingItem.Name_KKS}\r\n                          onChange={(e) => handleChange('Name_KKS', e.target.value)}\r\n                        />\r\n                      </td>\r\n                      <td>\r\n                        <input\r\n                          type=\"text\"\r\n                          value={editingItem.SName_KKS}\r\n                          onChange={(e) => handleChange('SName_KKS', e.target.value)}\r\n                        />\r\n                      </td>\r\n                      <td>\r\n                        <button onClick={handleSave}>Сохранить</button>\r\n                        <button onClick={handleCancel}>Отмена</button>\r\n                      </td>\r\n                    </>\r\n                  ) : (\r\n                    <>\r\n                      <td>{kksItem.ID_KKS}</td>\r\n                      <td>{kksItem.Name_KKS}</td>\r\n                      <td>{kksItem.SName_KKS}</td>\r\n                      <td>\r\n                        <button onClick={() => handleEdit(kksItem)}>Редактировать</button>\r\n                      </td>\r\n                    </>\r\n                  )}\r\n                </tr>\r\n              ))}\r\n            </tbody>\r\n          </table>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default AdminPanel; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
{"ast":null,"code":"import React,{useState,useEffect,useCallback,useMemo}from'react';import{useNavigate}from'react-router-dom';import axios from'axios';import'./User.css';// Убедитесь, что стили подключены и обновлены\nimport{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const apiUrl=process.env.REACT_APP_API_URL;// --- Helper Functions (без изменений) ---\nconst isTrainingNeeded=lastTrainingDateStr=>{// ... (ваш существующий код)\nif(!lastTrainingDateStr){return true;// No training date found, assume training is needed\n}try{const lastTrainingDate=new Date(lastTrainingDateStr);const threeYearsAgo=new Date();threeYearsAgo.setFullYear(threeYearsAgo.getFullYear()-3);if(isNaN(lastTrainingDate.getTime())){console.warn(\"Invalid date encountered:\",lastTrainingDateStr);return true;// Treat invalid date as needing training\n}return lastTrainingDate<threeYearsAgo;}catch(e){console.error(\"Error parsing date:\",lastTrainingDateStr,e);return true;// Error parsing date, assume training needed\n}};const formatDate=dateStr=>{// ... (ваш существующий код)\nif(!dateStr)return'Нет данных';try{const date=new Date(dateStr);if(isNaN(date.getTime()))return'Некорректная дата';return date.toLocaleDateString('ru-RU');// Format to DD.MM.YYYY\n}catch(e){return'Ошибка формата';}};// --- ---\nfunction User(){const navigate=useNavigate();const[user,setUser]=useState(null);const[kksStatus,setKksStatus]=useState([]);const[isLoading,setIsLoading]=useState(true);const[error,setError]=useState(null);// --- Новые состояния для рекомендаций по конкретному ККС ---\nconst[visibleRecommendationsKksId,setVisibleRecommendationsKksId]=useState(null);// ID ККС, чьи рекомендации показываем\nconst[currentRecommendations,setCurrentRecommendations]=useState([]);// Список программ для выбранного ККС\nconst[isCurrentRecLoading,setIsCurrentRecLoading]=useState(false);// Загрузка для выбранного ККС\nconst[currentRecError,setCurrentRecError]=useState(null);// Ошибка для выбранного ККС\n// --- ---\n// Эффект для загрузки данных пользователя (без изменений)\nuseEffect(()=>{const storedUser=localStorage.getItem('user');if(storedUser){try{const parsedUser=JSON.parse(storedUser);if(!parsedUser.FName_Worker){console.warn(\"FName_Worker отсутствует в данных пользователя из localStorage.\");}setUser(parsedUser);}catch(e){console.error(\"Ошибка парсинга пользователя из localStorage:\",e);localStorage.removeItem('user');setError(\"Ошибка данных пользователя. Пожалуйста, войдите снова.\");setIsLoading(false);}}else{setError(\"Пользователь не аутентифицирован.\");setIsLoading(false);// navigate('/login');\n}},[]);// Эффект для загрузки ТОЛЬКО статуса ККС\nuseEffect(()=>{if(!user||!user.workerId){if(user===null&&!isLoading){setError(\"Данные пользователя отсутствуют.\");}return;}if(user.role!==0){console.log(\"Пользователь не является работником (role != 0), данные ККС не запрашиваются.\");setKksStatus([]);setIsLoading(false);return;}const fetchKksStatus=async()=>{setIsLoading(true);setError(null);setKksStatus([]);// Сбрасываем состояния рекомендаций при перезагрузке статуса\nsetVisibleRecommendationsKksId(null);setCurrentRecommendations([]);setIsCurrentRecLoading(false);setCurrentRecError(null);try{console.log(`Workspaceing KKS status for workerId: ${user.workerId}`);const kksResponse=await axios.get(`${apiUrl}/api/user-kks-status?userId=${user.workerId}`);const fetchedKksStatus=kksResponse.data||[];setKksStatus(fetchedKksStatus);console.log(\"KKS Status Response:\",fetchedKksStatus);}catch(kksErr){var _kksErr$response,_kksErr$response$data;console.error('Ошибка при загрузке статуса ККС:',kksErr);setError(((_kksErr$response=kksErr.response)===null||_kksErr$response===void 0?void 0:(_kksErr$response$data=_kksErr$response.data)===null||_kksErr$response$data===void 0?void 0:_kksErr$response$data.error)||'Не удалось загрузить статус обучения по ККС.');setKksStatus([]);}finally{setIsLoading(false);}};fetchKksStatus();},[user]);// Зависимость только от user\n// --- Обработчик для показа/скрытия и загрузки рекомендаций ---\nconst handleToggleRecommendations=useCallback(async kksId=>{// Если кликнули по той же кнопке, просто скрываем\nif(visibleRecommendationsKksId===kksId){setVisibleRecommendationsKksId(null);setCurrentRecommendations([]);// Очищаем список\nreturn;}// Показываем лоадер и сбрасываем предыдущие данные/ошибки\nsetVisibleRecommendationsKksId(kksId);setIsCurrentRecLoading(true);setCurrentRecommendations([]);setCurrentRecError(null);try{console.log(`Workspaceing recommended programs for KKS ID: ${kksId}`);// Запрос ТОЛЬКО для ОДНОГО kksId\nconst recResponse=await axios.get(`${apiUrl}/api/programs/recommended?kksIds=${kksId}`);console.log(\"Recommended Programs Response for KKS\",kksId,\":\",recResponse.data);setCurrentRecommendations(recResponse.data||[]);}catch(recErr){var _recErr$response,_recErr$response$data;console.error(`Ошибка при загрузке рекомендуемых программ для KKS ${kksId}:`,recErr);setCurrentRecError(((_recErr$response=recErr.response)===null||_recErr$response===void 0?void 0:(_recErr$response$data=_recErr$response.data)===null||_recErr$response$data===void 0?void 0:_recErr$response$data.error)||'Не удалось загрузить рекомендуемые программы.');setCurrentRecommendations([]);// Убедимся, что пусто при ошибке\n}finally{setIsCurrentRecLoading(false);// Загрузка завершена (успех/ошибка)\n}},[visibleRecommendationsKksId,apiUrl]);// Зависим от visibleRecommendationsKksId для логики скрытия\n// --- ---\n// Обработчики навигации и выхода (без изменений)\nconst handleLogout=()=>{localStorage.removeItem('user');setUser(null);navigate('/login');};const handleViewDocuments=()=>{navigate('/documents');};const handleViewAnalysis=()=>{navigate('/analysis');};// --- Рендеринг ---\nif(isLoading&&!user){return/*#__PURE__*/_jsx(\"div\",{className:\"loading\",children:\"\\u0417\\u0430\\u0433\\u0440\\u0443\\u0437\\u043A\\u0430 \\u0434\\u0430\\u043D\\u043D\\u044B\\u0445 \\u043F\\u043E\\u043B\\u044C\\u0437\\u043E\\u0432\\u0430\\u0442\\u0435\\u043B\\u044F...\"});}if(error&&!isLoading&&!user){// Показываем общую ошибку, если нет пользователя\nreturn/*#__PURE__*/_jsxs(\"div\",{className:\"error-container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"error\",children:error}),\" \",/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate('/login'),children:\"\\u0412\\u043E\\u0439\\u0442\\u0438\"})]});}if(!user){return/*#__PURE__*/_jsxs(\"div\",{className:\"error-container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"error\",children:\"\\u041D\\u0435 \\u0443\\u0434\\u0430\\u043B\\u043E\\u0441\\u044C \\u0437\\u0430\\u0433\\u0440\\u0443\\u0437\\u0438\\u0442\\u044C \\u0434\\u0430\\u043D\\u043D\\u044B\\u0435 \\u043F\\u043E\\u043B\\u044C\\u0437\\u043E\\u0432\\u0430\\u0442\\u0435\\u043B\\u044F.\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate('/login'),children:\"\\u0412\\u043E\\u0439\\u0442\\u0438\"})]});}return/*#__PURE__*/_jsxs(\"div\",{className:\"user-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"user-header\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"\\u041B\\u0438\\u0447\\u043D\\u044B\\u0439 \\u043A\\u0430\\u0431\\u0438\\u043D\\u0435\\u0442\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleLogout,className:\"logout-button\",children:\"\\u0412\\u044B\\u0439\\u0442\\u0438\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"user-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"user-info\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"\\u0418\\u043D\\u0444\\u043E\\u0440\\u043C\\u0430\\u0446\\u0438\\u044F \\u043E \\u043F\\u043E\\u043B\\u044C\\u0437\\u043E\\u0432\\u0430\\u0442\\u0435\\u043B\\u0435\"}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\u0424\\u0418\\u041E: \"}),\" \",(user===null||user===void 0?void 0:user.FName_Worker)||'Имя не найдено']}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\u041B\\u043E\\u0433\\u0438\\u043D:\"}),\" \",(user===null||user===void 0?void 0:user.login)||'Логин не найден']}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\u0420\\u043E\\u043B\\u044C:\"}),\" \",(user===null||user===void 0?void 0:user.role)===0?'Работник ОУ':(user===null||user===void 0?void 0:user.role)===1?'Работник ЦДО (Админ)':'Неизвестная роль']})]}),(user===null||user===void 0?void 0:user.role)===0&&/*#__PURE__*/_jsxs(\"div\",{className:\"user-kks-status-table\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"\\u0421\\u0442\\u0430\\u0442\\u0443\\u0441 \\u043E\\u0431\\u0443\\u0447\\u0435\\u043D\\u0438\\u044F \\u043F\\u043E \\u041A\\u041A\\u0421\"}),isLoading&&/*#__PURE__*/_jsx(\"p\",{children:\"\\u0417\\u0430\\u0433\\u0440\\u0443\\u0437\\u043A\\u0430 \\u0441\\u0442\\u0430\\u0442\\u0443\\u0441\\u0430 \\u041A\\u041A\\u0421...\"}),error&&!isLoading&&/*#__PURE__*/_jsxs(\"p\",{className:\"error-message\",children:[\"\\u041E\\u0448\\u0438\\u0431\\u043A\\u0430 \\u0437\\u0430\\u0433\\u0440\\u0443\\u0437\\u043A\\u0438 \\u0441\\u0442\\u0430\\u0442\\u0443\\u0441\\u0430 \\u041A\\u041A\\u0421: \",error]}),!isLoading&&!error&&kksStatus.length>0&&/*#__PURE__*/_jsxs(\"table\",{className:\"kks-table\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"\\u041A\\u0440\\u0438\\u0442\\u0435\\u0440\\u0438\\u0439 \\u041A\\u041A\\u0421\"}),/*#__PURE__*/_jsx(\"th\",{children:\"\\u0421\\u0442\\u0430\\u0442\\u0443\\u0441\"}),/*#__PURE__*/_jsx(\"th\",{children:\"\\u0414\\u0435\\u0439\\u0441\\u0442\\u0432\\u0438\\u0435 / \\u0414\\u0430\\u0442\\u0430\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:kksStatus.map(kks=>{const needsTraining=isTrainingNeeded(kks.LastTrainingDate);const isVisible=visibleRecommendationsKksId===kks.ID_KKS;return/*#__PURE__*/_jsxs(React.Fragment,{children:[/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsxs(\"td\",{children:[kks.KKS_FullName,\" (\",kks.KKS_ShortName,\")\"]}),/*#__PURE__*/_jsx(\"td\",{className:`status ${needsTraining?'status-needed':'status-ok'}`,children:needsTraining?'✕':'✓'}),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsxs(\"span\",{children:[\"\\u041F\\u043E\\u0441\\u043B\\u0435\\u0434\\u043D\\u0435\\u0435 \\u043E\\u0431\\u0443\\u0447\\u0435\\u043D\\u0438\\u0435: \",formatDate(kks.LastTrainingDate)]}),needsTraining&&/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:'5px'},children:[\" \",/*#__PURE__*/_jsxs(\"button\",{onClick:()=>handleToggleRecommendations(kks.ID_KKS),className:\"recommendation-toggle-button\",disabled:isCurrentRecLoading&&isVisible// Блокируем кнопку во время загрузки для этого ККС\n,children:[isVisible?'Скрыть программы':'Показать программы',isCurrentRecLoading&&isVisible&&'...']})]})]})]}),isVisible&&/*#__PURE__*/_jsx(\"tr\",{className:\"recommendations-row\",children:/*#__PURE__*/_jsx(\"td\",{colSpan:\"3\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"recommendations-details\",children:[isCurrentRecLoading&&/*#__PURE__*/_jsx(\"p\",{children:\"\\u0417\\u0430\\u0433\\u0440\\u0443\\u0437\\u043A\\u0430 \\u0440\\u0435\\u043A\\u043E\\u043C\\u0435\\u043D\\u0434\\u0443\\u0435\\u043C\\u044B\\u0445 \\u043F\\u0440\\u043E\\u0433\\u0440\\u0430\\u043C\\u043C...\"}),currentRecError&&/*#__PURE__*/_jsxs(\"p\",{className:\"error-message\",children:[\"\\u041E\\u0448\\u0438\\u0431\\u043A\\u0430: \",currentRecError]}),!isCurrentRecLoading&&!currentRecError&&/*#__PURE__*/_jsx(_Fragment,{children:currentRecommendations.length>0?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"h4\",{children:\"\\u0420\\u0435\\u043A\\u043E\\u043C\\u0435\\u043D\\u0434\\u0443\\u0435\\u043C\\u044B\\u0435 \\u043F\\u0440\\u043E\\u0433\\u0440\\u0430\\u043C\\u043C\\u044B \\u0414\\u041F\\u041E:\"}),/*#__PURE__*/_jsx(\"ul\",{children:currentRecommendations.map(program=>/*#__PURE__*/_jsxs(\"li\",{className:\"program-item\",children:[/*#__PURE__*/_jsx(\"strong\",{children:program.Name_ProgDPO}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"small\",{children:[\"\\u041E\\u0440\\u0433\\u0430\\u043D\\u0438\\u0437\\u0430\\u0446\\u0438\\u044F: \",program.OrgSName||program.OrgFName||'Не указана',' | ',\"\\u0422\\u0438\\u043F: \",program.Name_Type||'Не указан']})]},program.ID_ProgDPO))})]}):/*#__PURE__*/_jsx(\"p\",{children:\"\\u041F\\u043E\\u0434\\u0445\\u043E\\u0434\\u044F\\u0449\\u0438\\u0445 \\u043F\\u0440\\u043E\\u0433\\u0440\\u0430\\u043C\\u043C \\u0414\\u041F\\u041E \\u0434\\u043B\\u044F \\u0434\\u0430\\u043D\\u043D\\u043E\\u0433\\u043E \\u041A\\u041A\\u0421 \\u043D\\u0435 \\u043D\\u0430\\u0439\\u0434\\u0435\\u043D\\u043E.\"})})]})})})]},kks.ID_KKS);})})]}),!isLoading&&!error&&kksStatus.length===0&&/*#__PURE__*/_jsx(\"p\",{children:\"\\u041D\\u0435\\u0442 \\u0434\\u0430\\u043D\\u043D\\u044B\\u0445 \\u043E \\u043F\\u0440\\u043E\\u0445\\u043E\\u0436\\u0434\\u0435\\u043D\\u0438\\u0438 \\u043E\\u0431\\u0443\\u0447\\u0435\\u043D\\u0438\\u044F \\u043F\\u043E \\u041A\\u041A\\u0421.\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"user-actions\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:handleViewDocuments,className:\"action-button\",children:\"\\u041F\\u0440\\u043E\\u0441\\u043C\\u043E\\u0442\\u0440 \\u041C\\u043E\\u0438\\u0445 \\u0414\\u043E\\u043A\\u0443\\u043C\\u0435\\u043D\\u0442\\u043E\\u0432\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleViewAnalysis,className:\"action-button\",children:\"\\u041F\\u0440\\u043E\\u0441\\u043C\\u043E\\u0442\\u0440 \\u0410\\u043D\\u0430\\u043B\\u0438\\u0437\\u0430\"})]})]})]});}export default User;","map":{"version":3,"names":["React","useState","useEffect","useCallback","useMemo","useNavigate","axios","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","apiUrl","process","env","REACT_APP_API_URL","isTrainingNeeded","lastTrainingDateStr","lastTrainingDate","Date","threeYearsAgo","setFullYear","getFullYear","isNaN","getTime","console","warn","e","error","formatDate","dateStr","date","toLocaleDateString","User","navigate","user","setUser","kksStatus","setKksStatus","isLoading","setIsLoading","setError","visibleRecommendationsKksId","setVisibleRecommendationsKksId","currentRecommendations","setCurrentRecommendations","isCurrentRecLoading","setIsCurrentRecLoading","currentRecError","setCurrentRecError","storedUser","localStorage","getItem","parsedUser","JSON","parse","FName_Worker","removeItem","workerId","role","log","fetchKksStatus","kksResponse","get","fetchedKksStatus","data","kksErr","_kksErr$response","_kksErr$response$data","response","handleToggleRecommendations","kksId","recResponse","recErr","_recErr$response","_recErr$response$data","handleLogout","handleViewDocuments","handleViewAnalysis","className","children","onClick","login","length","map","kks","needsTraining","LastTrainingDate","isVisible","ID_KKS","KKS_FullName","KKS_ShortName","style","marginTop","disabled","colSpan","program","Name_ProgDPO","OrgSName","OrgFName","Name_Type","ID_ProgDPO"],"sources":["D:/Amina/VScode/FQW_new/src/components/User.js"],"sourcesContent":["import React, { useState, useEffect, useCallback, useMemo } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport axios from 'axios';\nimport './User.css'; // Убедитесь, что стили подключены и обновлены\n\nconst apiUrl = process.env.REACT_APP_API_URL;\n\n// --- Helper Functions (без изменений) ---\nconst isTrainingNeeded = (lastTrainingDateStr) => {\n    // ... (ваш существующий код)\n     if (!lastTrainingDateStr) {\n         return true; // No training date found, assume training is needed\n     }\n     try {\n         const lastTrainingDate = new Date(lastTrainingDateStr);\n         const threeYearsAgo = new Date();\n         threeYearsAgo.setFullYear(threeYearsAgo.getFullYear() - 3);\n\n         if (isNaN(lastTrainingDate.getTime())) {\n             console.warn(\"Invalid date encountered:\", lastTrainingDateStr);\n             return true; // Treat invalid date as needing training\n         }\n\n         return lastTrainingDate < threeYearsAgo;\n     } catch (e) {\n         console.error(\"Error parsing date:\", lastTrainingDateStr, e);\n         return true; // Error parsing date, assume training needed\n     }\n};\n\nconst formatDate = (dateStr) => {\n    // ... (ваш существующий код)\n    if (!dateStr) return 'Нет данных';\n    try {\n        const date = new Date(dateStr);\n        if (isNaN(date.getTime())) return 'Некорректная дата';\n        return date.toLocaleDateString('ru-RU'); // Format to DD.MM.YYYY\n    } catch (e) {\n        return 'Ошибка формата';\n    }\n};\n// --- ---\n\nfunction User() {\n    const navigate = useNavigate();\n    const [user, setUser] = useState(null);\n    const [kksStatus, setKksStatus] = useState([]);\n    const [isLoading, setIsLoading] = useState(true);\n    const [error, setError] = useState(null);\n\n    // --- Новые состояния для рекомендаций по конкретному ККС ---\n    const [visibleRecommendationsKksId, setVisibleRecommendationsKksId] = useState(null); // ID ККС, чьи рекомендации показываем\n    const [currentRecommendations, setCurrentRecommendations] = useState([]); // Список программ для выбранного ККС\n    const [isCurrentRecLoading, setIsCurrentRecLoading] = useState(false); // Загрузка для выбранного ККС\n    const [currentRecError, setCurrentRecError] = useState(null); // Ошибка для выбранного ККС\n    // --- ---\n\n    // Эффект для загрузки данных пользователя (без изменений)\n    useEffect(() => {\n        const storedUser = localStorage.getItem('user');\n        if (storedUser) {\n            try {\n                const parsedUser = JSON.parse(storedUser);\n                if (!parsedUser.FName_Worker) {\n                   console.warn(\"FName_Worker отсутствует в данных пользователя из localStorage.\");\n                }\n                setUser(parsedUser);\n            } catch (e) {\n                console.error(\"Ошибка парсинга пользователя из localStorage:\", e);\n                localStorage.removeItem('user');\n                setError(\"Ошибка данных пользователя. Пожалуйста, войдите снова.\");\n                setIsLoading(false);\n            }\n        } else {\n            setError(\"Пользователь не аутентифицирован.\");\n            setIsLoading(false);\n            // navigate('/login');\n        }\n    }, []);\n\n    // Эффект для загрузки ТОЛЬКО статуса ККС\n    useEffect(() => {\n        if (!user || !user.workerId) {\n            if (user === null && !isLoading) {\n                setError(\"Данные пользователя отсутствуют.\");\n            }\n            return;\n        }\n\n        if (user.role !== 0) {\n            console.log(\"Пользователь не является работником (role != 0), данные ККС не запрашиваются.\");\n            setKksStatus([]);\n            setIsLoading(false);\n            return;\n        }\n\n        const fetchKksStatus = async () => {\n            setIsLoading(true);\n            setError(null);\n            setKksStatus([]);\n            // Сбрасываем состояния рекомендаций при перезагрузке статуса\n            setVisibleRecommendationsKksId(null);\n            setCurrentRecommendations([]);\n            setIsCurrentRecLoading(false);\n            setCurrentRecError(null);\n\n            try {\n                console.log(`Workspaceing KKS status for workerId: ${user.workerId}`);\n                const kksResponse = await axios.get(`${apiUrl}/api/user-kks-status?userId=${user.workerId}`);\n                const fetchedKksStatus = kksResponse.data || [];\n                setKksStatus(fetchedKksStatus);\n                console.log(\"KKS Status Response:\", fetchedKksStatus);\n            } catch (kksErr) {\n                console.error('Ошибка при загрузке статуса ККС:', kksErr);\n                setError(kksErr.response?.data?.error || 'Не удалось загрузить статус обучения по ККС.');\n                setKksStatus([]);\n            } finally {\n                setIsLoading(false);\n            }\n        };\n\n        fetchKksStatus();\n\n    }, [user]); // Зависимость только от user\n\n    // --- Обработчик для показа/скрытия и загрузки рекомендаций ---\n    const handleToggleRecommendations = useCallback(async (kksId) => {\n        // Если кликнули по той же кнопке, просто скрываем\n        if (visibleRecommendationsKksId === kksId) {\n            setVisibleRecommendationsKksId(null);\n            setCurrentRecommendations([]); // Очищаем список\n            return;\n        }\n\n        // Показываем лоадер и сбрасываем предыдущие данные/ошибки\n        setVisibleRecommendationsKksId(kksId);\n        setIsCurrentRecLoading(true);\n        setCurrentRecommendations([]);\n        setCurrentRecError(null);\n\n        try {\n            console.log(`Workspaceing recommended programs for KKS ID: ${kksId}`);\n            // Запрос ТОЛЬКО для ОДНОГО kksId\n            const recResponse = await axios.get(`${apiUrl}/api/programs/recommended?kksIds=${kksId}`);\n            console.log(\"Recommended Programs Response for KKS\", kksId, \":\", recResponse.data);\n            setCurrentRecommendations(recResponse.data || []);\n        } catch (recErr) {\n            console.error(`Ошибка при загрузке рекомендуемых программ для KKS ${kksId}:`, recErr);\n            setCurrentRecError(recErr.response?.data?.error || 'Не удалось загрузить рекомендуемые программы.');\n            setCurrentRecommendations([]); // Убедимся, что пусто при ошибке\n        } finally {\n            setIsCurrentRecLoading(false); // Загрузка завершена (успех/ошибка)\n        }\n    }, [visibleRecommendationsKksId, apiUrl]); // Зависим от visibleRecommendationsKksId для логики скрытия\n    // --- ---\n\n    // Обработчики навигации и выхода (без изменений)\n    const handleLogout = () => {\n        localStorage.removeItem('user');\n        setUser(null);\n        navigate('/login');\n    };\n\n    const handleViewDocuments = () => {\n        navigate('/documents');\n    };\n\n    const handleViewAnalysis = () => {\n        navigate('/analysis');\n    };\n\n    // --- Рендеринг ---\n\n    if (isLoading && !user) {\n        return <div className=\"loading\">Загрузка данных пользователя...</div>;\n    }\n    if (error && !isLoading && !user) { // Показываем общую ошибку, если нет пользователя\n        return <div className=\"error-container\"><div className=\"error\">{error}</div> <button onClick={() => navigate('/login')}>Войти</button></div>;\n    }\n    if (!user) {\n        return <div className=\"error-container\"><div className=\"error\">Не удалось загрузить данные пользователя.</div><button onClick={() => navigate('/login')}>Войти</button></div>;\n    }\n\n    return (\n        <div className=\"user-container\">\n            <div className=\"user-header\">\n                <h1>Личный кабинет</h1>\n                <button onClick={handleLogout} className=\"logout-button\">Выйти</button>\n            </div>\n\n            <div className=\"user-content\">\n                {/* Информация о пользователе (без изменений) */}\n                <div className=\"user-info\">\n                    <h2>Информация о пользователе</h2>\n                    <p><strong>ФИО: </strong> {user?.FName_Worker || 'Имя не найдено'}</p>\n                    <p><strong>Логин:</strong> {user?.login || 'Логин не найден'}</p>\n                    <p><strong>Роль:</strong> {user?.role === 0 ? 'Работник ОУ' : user?.role === 1 ? 'Работник ЦДО (Админ)' : 'Неизвестная роль'}</p>\n                </div>\n\n                {/* Статус обучения по ККС (только для работников) - ТАБЛИЦА */}\n                {user?.role === 0 && (\n                    <div className=\"user-kks-status-table\">\n                        <h2>Статус обучения по ККС</h2>\n                        {isLoading && <p>Загрузка статуса ККС...</p>}\n                        {/* Показываем ошибку загрузки ККС, если она не связана с отсутствием пользователя */}\n                        {error && !isLoading && <p className=\"error-message\">Ошибка загрузки статуса ККС: {error}</p>}\n\n                        {!isLoading && !error && kksStatus.length > 0 && (\n                            <table className=\"kks-table\">\n                                <thead>\n                                    <tr>\n                                        <th>Критерий ККС</th>\n                                        <th>Статус</th>\n                                        <th>Действие / Дата</th>\n                                    </tr>\n                                </thead>\n                                <tbody>\n                                    {kksStatus.map((kks) => {\n                                        const needsTraining = isTrainingNeeded(kks.LastTrainingDate);\n                                        const isVisible = visibleRecommendationsKksId === kks.ID_KKS;\n\n                                        return (\n                                            <React.Fragment key={kks.ID_KKS}>\n                                                <tr>\n                                                    <td>{kks.KKS_FullName} ({kks.KKS_ShortName})</td>\n                                                    <td className={`status ${needsTraining ? 'status-needed' : 'status-ok'}`}>\n                                                        {needsTraining ? '✕' : '✓'}\n                                                    </td>\n                                                    <td>\n                                                        {/* Всегда отображаем дату */}\n                                                        <span>\n                                                            Последнее обучение: {formatDate(kks.LastTrainingDate)}\n                                                        </span>\n\n                                                        {/* Если обучение требуется (needsTraining === true), ДОПОЛНИТЕЛЬНО показываем кнопку ниже */}\n                                                        {needsTraining && (\n                                                            <div style={{ marginTop: '5px' }}> {/* Добавляем небольшой отступ сверху для кнопки */}\n                                                                <button\n                                                                    onClick={() => handleToggleRecommendations(kks.ID_KKS)}\n                                                                    className=\"recommendation-toggle-button\"\n                                                                    disabled={isCurrentRecLoading && isVisible} // Блокируем кнопку во время загрузки для этого ККС\n                                                                >\n                                                                    {/* Меняем текст кнопки в зависимости от состояния */}\n                                                                    {isVisible ? 'Скрыть программы' : 'Показать программы'}\n                                                                    {/* Можно добавить спиннер */}\n                                                                    {isCurrentRecLoading && isVisible && '...'}\n                                                                </button>\n                                                            </div>\n                                                        )}\n                                                    </td>\n                                                </tr>\n                                                {/* --- Условный рендеринг рекомендаций ПОД строкой --- */}\n                                                {isVisible && (\n                                                    <tr className=\"recommendations-row\">\n                                                        {/* Объединяем ячейки для отображения рекомендаций */}\n                                                        <td colSpan=\"3\">\n                                                            <div className=\"recommendations-details\">\n                                                                {isCurrentRecLoading && <p>Загрузка рекомендуемых программ...</p>}\n                                                                {currentRecError && <p className=\"error-message\">Ошибка: {currentRecError}</p>}\n                                                                {!isCurrentRecLoading && !currentRecError && (\n                                                                    <>\n                                                                        {currentRecommendations.length > 0 ? (\n                                                                            <>\n                                                                                <h4>Рекомендуемые программы ДПО:</h4>\n                                                                                <ul>\n                                                                                    {currentRecommendations.map(program => (\n                                                                                        <li key={program.ID_ProgDPO} className=\"program-item\">\n                                                                                            <strong>{program.Name_ProgDPO}</strong>\n                                                                                            <br />\n                                                                                            <small>\n                                                                                                Организация: {program.OrgSName || program.OrgFName || 'Не указана'}\n                                                                                                {' | '}\n                                                                                                Тип: {program.Name_Type || 'Не указан'}\n                                                                                            </small>\n                                                                                        </li>\n                                                                                    ))}\n                                                                                </ul>\n                                                                            </>\n                                                                        ) : (\n                                                                            <p>Подходящих программ ДПО для данного ККС не найдено.</p>\n                                                                        )}\n                                                                    </>\n                                                                )}\n                                                            </div>\n                                                        </td>\n                                                    </tr>\n                                                )}\n                                                {/* --- --- */}\n                                            </React.Fragment>\n                                        );\n                                    })}\n                                </tbody>\n                            </table>\n                        )}\n                        {/* Сообщение, если ККС вообще нет */}\n                        {!isLoading && !error && kksStatus.length === 0 && (\n                            <p>Нет данных о прохождении обучения по ККС.</p>\n                        )}\n                    </div>\n                )}\n\n                {/* Убираем старые блоки уведомлений и рекомендаций */}\n                {/* {user?.role === 0 && kksNeedingTraining.length > 0 && (...) } */}\n                {/* {user?.role === 0 && (...) } */}\n\n                {/* Кнопки действий (без изменений) */}\n                <div className=\"user-actions\">\n                    <button onClick={handleViewDocuments} className=\"action-button\">\n                        Просмотр Моих Документов\n                    </button>\n                    <button onClick={handleViewAnalysis} className=\"action-button\">\n                        Просмотр Анализа\n                    </button>\n                </div>\n            </div>\n        </div>\n    );\n}\n\nexport default User;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
{"ast":null,"code":"var _jsxFileName = \"D:\\\\Amina\\\\VScode\\\\FQW_new\\\\src\\\\components\\\\AdminPanel.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { useState, useEffect, useMemo, useCallback } from 'react';\nimport axios from 'axios';\nimport { useNavigate } from 'react-router-dom';\nimport './AdminPanel.css';\n\n// --- Компонент для формы добавления ---\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst AddItemForm = ({\n  type,\n  onSave,\n  onCancel,\n  programTypes = [],\n  allOrganizations = []\n}) => {\n  _s();\n  const [newItem, setNewItem] = useState({});\n  useEffect(() => {\n    setNewItem({});\n  }, [type]);\n  const handleChange = (field, value) => {\n    setNewItem(prev => ({\n      ...prev,\n      [field]: value\n    }));\n  };\n  const handleSubmit = e => {\n    e.preventDefault();\n    onSave(newItem);\n    setNewItem({});\n  };\n  const handleCancel = e => {\n    e.preventDefault();\n    setNewItem({});\n    onCancel();\n  };\n  if (type === 'program') {\n    return /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      className: \"add-form\",\n      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n        children: \"\\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C \\u043F\\u0440\\u043E\\u0433\\u0440\\u0430\\u043C\\u043C\\u0443\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        placeholder: \"\\u041D\\u0430\\u0437\\u0432\\u0430\\u043D\\u0438\\u0435 \\u043F\\u0440\\u043E\\u0433\\u0440\\u0430\\u043C\\u043C\\u044B\",\n        required: true,\n        value: newItem.Name_ProgDPO || '',\n        onChange: e => handleChange('Name_ProgDPO', e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n        required: true,\n        value: newItem.id_type || '',\n        onChange: e => handleChange('id_type', e.target.value),\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"\",\n          disabled: true,\n          children: \"\\u0412\\u044B\\u0431\\u0435\\u0440\\u0438\\u0442\\u0435 \\u0442\\u0438\\u043F\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 39,\n          columnNumber: 21\n        }, this), programTypes.map(pt => /*#__PURE__*/_jsxDEV(\"option\", {\n          value: pt.id_type,\n          children: pt.Name_Type\n        }, pt.id_type, false, {\n          fileName: _jsxFileName,\n          lineNumber: 40,\n          columnNumber: 45\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n        required: true,\n        value: newItem.ID_Org || '',\n        onChange: e => handleChange('ID_Org', e.target.value),\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"\",\n          disabled: true,\n          children: \"\\u0412\\u044B\\u0431\\u0435\\u0440\\u0438\\u0442\\u0435 \\u043E\\u0440\\u0433\\u0430\\u043D\\u0438\\u0437\\u0430\\u0446\\u0438\\u044E\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 21\n        }, this), allOrganizations.map(org => /*#__PURE__*/_jsxDEV(\"option\", {\n          value: org.ID_Org,\n          children: org.FName\n        }, org.ID_Org, false, {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 50\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-actions\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          children: \"\\u0421\\u043E\\u0445\\u0440\\u0430\\u043D\\u0438\\u0442\\u044C\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 20\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          onClick: handleCancel,\n          children: \"\\u041E\\u0442\\u043C\\u0435\\u043D\\u0430\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 20\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 13\n    }, this);\n  }\n  if (type === 'organization') {\n    return /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      className: \"add-form\",\n      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n        children: \"\\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C \\u043E\\u0440\\u0433\\u0430\\u043D\\u0438\\u0437\\u0430\\u0446\\u0438\\u044E\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        placeholder: \"\\u041F\\u043E\\u043B\\u043D\\u043E\\u0435 \\u043D\\u0430\\u0437\\u0432\\u0430\\u043D\\u0438\\u0435\",\n        required: true,\n        value: newItem.FName || '',\n        onChange: e => handleChange('FName', e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        placeholder: \"\\u041A\\u0440\\u0430\\u0442\\u043A\\u043E\\u0435 \\u043D\\u0430\\u0437\\u0432\\u0430\\u043D\\u0438\\u0435\",\n        required: true,\n        value: newItem.SName || '',\n        onChange: e => handleChange('SName', e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 18\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-actions\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          children: \"\\u0421\\u043E\\u0445\\u0440\\u0430\\u043D\\u0438\\u0442\\u044C\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 20\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          onClick: handleCancel,\n          children: \"\\u041E\\u0442\\u043C\\u0435\\u043D\\u0430\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 20\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 18\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 13\n    }, this);\n  }\n  if (type === 'kks') {\n    return /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      className: \"add-form\",\n      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n        children: \"\\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C KKS\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        placeholder: \"\\u041D\\u0430\\u0437\\u0432\\u0430\\u043D\\u0438\\u0435 KKS\",\n        required: true,\n        value: newItem.Name_KKS || '',\n        onChange: e => handleChange('Name_KKS', e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        placeholder: \"\\u041A\\u0440\\u0430\\u0442\\u043A\\u043E\\u0435 \\u043E\\u0431\\u043E\\u0437\\u043D\\u0430\\u0447\\u0435\\u043D\\u0438\\u0435\",\n        value: newItem.SName_KKS || '',\n        onChange: e => handleChange('SName_KKS', e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 18\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-actions\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          children: \"\\u0421\\u043E\\u0445\\u0440\\u0430\\u043D\\u0438\\u0442\\u044C\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 20\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          onClick: handleCancel,\n          children: \"\\u041E\\u0442\\u043C\\u0435\\u043D\\u0430\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 20\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 18\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 13\n    }, this);\n  }\n  return null;\n};\n_s(AddItemForm, \"Ma3KGYVnITn2jfncCAugbkt84zE=\");\n_c = AddItemForm;\nfunction AdminPanel() {\n  _s2();\n  const [activeTab, setActiveTab] = useState('programs');\n  const [programs, setPrograms] = useState([]);\n  const [organizations, setOrganizations] = useState([]);\n  const [kks, setKks] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState('');\n  const [editingItem, setEditingItem] = useState(null);\n  const [addingItemType, setAddingItemType] = useState(null);\n  const [programTypes, setProgramTypes] = useState([]);\n  const [allOrganizations, setAllOrganizations] = useState([]);\n  const [users, setUsers] = useState([]);\n  const [sortConfig, setSortConfig] = useState({\n    key: null,\n    direction: 'ascending'\n  });\n  const navigate = useNavigate();\n  const apiUrl = process.env.REACT_APP_API_URL;\n  const user = useMemo(() => {\n    const storedUser = localStorage.getItem('user');\n    try {\n      return storedUser ? JSON.parse(storedUser) : null;\n    } catch (e) {\n      console.error(\"Failed to parse user from localStorage\", e);\n      return null;\n    }\n  }, []);\n  const requestSort = key => {\n    let direction = 'ascending';\n    if (sortConfig.key === key && sortConfig.direction === 'ascending') {\n      direction = 'descending';\n    }\n    setSortConfig({\n      key,\n      direction\n    });\n  };\n  const getIdKeyForTab = tab => {\n    switch (tab) {\n      case 'programs':\n        return 'ID_ProgDPO';\n      case 'organizations':\n        return 'ID_Org';\n      case 'kks':\n        return 'ID_KKS';\n      case 'users':\n        return 'ID_User';\n      default:\n        return null;\n    }\n  };\n  useEffect(() => {\n    const idKey = getIdKeyForTab(activeTab);\n    if (idKey) {\n      setSortConfig({\n        key: idKey,\n        direction: 'ascending'\n      });\n    } else {\n      setSortConfig({\n        key: null,\n        direction: 'ascending'\n      });\n    }\n  }, [activeTab]);\n  const fetchData = useCallback(async (forceAux = false) => {\n    if (!user || user.role !== 1) {\n      console.warn(\"fetchData called without admin user, aborting.\");\n      setLoading(false);\n      return;\n    }\n    setLoading(true);\n    setError('');\n    console.log(`WorkspaceData triggered. Active tab: ${activeTab}`);\n    if (forceAux || programTypes.length === 0) {\n      try {\n        console.log(\"Fetching auxiliary data (types, orgs)...\");\n        const [typesRes, orgsRes] = await Promise.all([axios.get(`${apiUrl}/api/program-types`), axios.get(`${apiUrl}/api/organizations`)]);\n        setProgramTypes(typesRes.data);\n        setAllOrganizations(orgsRes.data);\n        console.log(\"Auxiliary data fetched.\");\n      } catch (err) {\n        console.error('Error fetching auxiliary data:', err);\n        setError(prev => prev ? `${prev}\\nОшибка загрузки вспомогательных данных.` : 'Ошибка загрузки вспомогательных данных.');\n      }\n    }\n    try {\n      let response;\n      let endpoint;\n      switch (activeTab) {\n        case 'programs':\n          endpoint = `${apiUrl}/api/programs`;\n          break;\n        case 'organizations':\n          endpoint = `${apiUrl}/api/organizations`;\n          break;\n        case 'kks':\n          endpoint = `${apiUrl}/api/kks`;\n          break;\n        case 'users':\n          endpoint = `${apiUrl}/api/users`;\n          break;\n        default:\n          console.warn(`Unknown activeTab: ${activeTab}`);\n          setLoading(false);\n          return;\n      }\n      console.log(`Attempting to fetch ${endpoint}...`);\n      response = await axios.get(endpoint);\n      console.log(`Received response from ${endpoint}`, response.status);\n      switch (activeTab) {\n        case 'programs':\n          setPrograms(response.data);\n          break;\n        case 'organizations':\n          setOrganizations(response.data);\n          break;\n        case 'kks':\n          setKks(response.data);\n          break;\n        case 'users':\n          setUsers(response.data);\n          break;\n      }\n    } catch (err) {\n      console.error(`Error fetching ${activeTab}:`, err.response || err.message || err);\n      setError(prev => prev ? `${prev}\\nОшибка загрузки данных для ${activeTab}.` : `Ошибка загрузки данных для ${activeTab}.`);\n    } finally {\n      console.log(`Setting loading to false for ${activeTab}.`);\n      setLoading(false);\n    }\n  }, [activeTab, user, navigate, apiUrl, programTypes.length]);\n  useEffect(() => {\n    if (!user || user.role !== 1) {\n      navigate('/login');\n      return;\n    }\n    fetchData(true);\n  }, [user, navigate, fetchData]);\n  const sortedPrograms = useMemo(() => {\n    let sortableItems = [...programs];\n    if (sortConfig.key) {\n      sortableItems.sort((a, b) => {\n        if (a[sortConfig.key] < b[sortConfig.key]) {\n          return sortConfig.direction === 'ascending' ? -1 : 1;\n        }\n        if (a[sortConfig.key] > b[sortConfig.key]) {\n          return sortConfig.direction === 'ascending' ? 1 : -1;\n        }\n        return 0;\n      });\n    }\n    return sortableItems;\n  }, [programs, sortConfig]);\n  const sortedOrganizations = useMemo(() => {\n    let sortableItems = [...organizations];\n    if (sortConfig.key) {\n      sortableItems.sort((a, b) => {\n        const valA = a[sortConfig.key];\n        const valB = b[sortConfig.key];\n        const compareResult = typeof valA === 'number' && typeof valB === 'number' ? valA - valB : String(valA).localeCompare(String(valB));\n        return sortConfig.direction === 'ascending' ? compareResult : -compareResult;\n      });\n    }\n    return sortableItems;\n  }, [organizations, sortConfig]);\n  const sortedKks = useMemo(() => {\n    let sortableItems = [...kks];\n    if (sortConfig.key) {\n      sortableItems.sort((a, b) => {\n        const valA = a[sortConfig.key];\n        const valB = b[sortConfig.key];\n        const compareResult = typeof valA === 'number' && typeof valB === 'number' ? valA - valB : String(valA).localeCompare(String(valB));\n        return sortConfig.direction === 'ascending' ? compareResult : -compareResult;\n      });\n    }\n    return sortableItems;\n  }, [kks, sortConfig]);\n  const sortedUsers = useMemo(() => {\n    let sortableItems = [...users];\n    if (sortConfig.key) {\n      sortableItems.sort((a, b) => {\n        const valA = a[sortConfig.key];\n        const valB = b[sortConfig.key];\n        if (sortConfig.key === 'Role' && typeof valA === 'number' && typeof valB === 'number') {\n          const compareResult = valA - valB;\n          return sortConfig.direction === 'ascending' ? compareResult : -compareResult;\n        }\n        const compareResult = String(valA !== null && valA !== void 0 ? valA : '').localeCompare(String(valB !== null && valB !== void 0 ? valB : ''));\n        return sortConfig.direction === 'ascending' ? compareResult : -compareResult;\n      });\n    }\n    return sortableItems;\n  }, [users, sortConfig]);\n  const handleEdit = item => {\n    setEditingItem(item);\n    setAddingItemType(null);\n  };\n  const handleCancel = () => {\n    setEditingItem(null);\n  };\n  const handleChange = (field, value) => {\n    setEditingItem(prev => ({\n      ...prev,\n      [field]: value\n    }));\n  };\n  const handleSave = async () => {\n    if (!editingItem) return;\n    console.log(\"Saving edited item:\", editingItem);\n    setLoading(true);\n    try {\n      let endpoint;\n      let id;\n      switch (activeTab) {\n        case 'programs':\n          id = editingItem.ID_ProgDPO;\n          endpoint = `${apiUrl}/api/programs/${id}`;\n          break;\n        case 'organizations':\n          id = editingItem.ID_Org;\n          endpoint = `${apiUrl}/api/organizations/${id}`;\n          break;\n        case 'kks':\n          id = editingItem.ID_KKS;\n          endpoint = `${apiUrl}/api/kks/${id}`;\n          break;\n        case 'users':\n          id = editingItem.ID_User;\n          endpoint = `${apiUrl}/api/users/${id}`;\n          break;\n        default:\n          throw new Error(\"Неизвестная вкладка для сохранения\");\n      }\n      await axios.put(endpoint, editingItem);\n      setEditingItem(null);\n      await fetchData();\n    } catch (err) {\n      var _err$response, _err$response$data;\n      console.error('Ошибка при сохранении изменений:', err);\n      setError(((_err$response = err.response) === null || _err$response === void 0 ? void 0 : (_err$response$data = _err$response.data) === null || _err$response$data === void 0 ? void 0 : _err$response$data.error) || 'Ошибка при сохранении данных');\n    } finally {\n      setLoading(false);\n    }\n  };\n  const handleShowAddForm = () => {\n    setAddingItemType(activeTab);\n    setEditingItem(null);\n  };\n  const handleCancelAdd = () => {\n    setAddingItemType(null);\n  };\n  const handleAddItem = async newItemData => {\n    console.log(`Adding new ${addingItemType}:`, newItemData);\n    setLoading(true);\n    try {\n      let endpoint;\n      switch (addingItemType) {\n        case 'programs':\n          endpoint = `${apiUrl}/api/programs`;\n          break;\n        case 'organizations':\n          endpoint = `${apiUrl}/api/organizations`;\n          break;\n        case 'kks':\n          endpoint = `${apiUrl}/api/kks`;\n          break;\n        case 'users':\n          endpoint = `${apiUrl}/api/users`;\n          break;\n        default:\n          throw new Error(\"Неизвестный тип для добавления\");\n      }\n      await axios.post(endpoint, newItemData);\n      setAddingItemType(null);\n      await fetchData();\n    } catch (err) {\n      var _err$response2, _err$response2$data;\n      console.error(`Ошибка при добавлении ${addingItemType}:`, err);\n      setError(((_err$response2 = err.response) === null || _err$response2 === void 0 ? void 0 : (_err$response2$data = _err$response2.data) === null || _err$response2$data === void 0 ? void 0 : _err$response2$data.error) || `Ошибка при добавлении элемента`);\n    } finally {\n      setLoading(false);\n    }\n  };\n  const handleDelete = async idToDelete => {\n    if (!window.confirm('Вы уверены, что хотите удалить этот элемент?')) {\n      return;\n    }\n    console.log(`Deleting item with ID: ${idToDelete} on tab: ${activeTab}`);\n    setLoading(true);\n    try {\n      let endpoint;\n      switch (activeTab) {\n        case 'programs':\n          endpoint = `${apiUrl}/api/programs/${idToDelete}`;\n          break;\n        case 'organizations':\n          endpoint = `${apiUrl}/api/organizations/${idToDelete}`;\n          break;\n        case 'kks':\n          endpoint = `${apiUrl}/api/kks/${idToDelete}`;\n          break;\n        case 'users':\n          endpoint = `${apiUrl}/api/users/${idToDelete}`;\n          break;\n        default:\n          throw new Error(\"Неизвестная вкладка для удаления\");\n      }\n      await axios.delete(endpoint);\n      if (editingItem && editingItem[getIdKeyForTab(activeTab)] === idToDelete) {\n        setEditingItem(null);\n      }\n      await fetchData();\n    } catch (err) {\n      var _err$response3, _err$response3$data;\n      console.error(`Ошибка при удалении элемента (ID: ${idToDelete}):`, err);\n      setError(((_err$response3 = err.response) === null || _err$response3 === void 0 ? void 0 : (_err$response3$data = _err$response3.data) === null || _err$response3$data === void 0 ? void 0 : _err$response3$data.error) || 'Ошибка при удалении элемента');\n    } finally {\n      setLoading(false);\n    }\n  };\n  if (!user && loading && !programTypes.length) return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"loading\",\n    children: \"\\u041F\\u0440\\u043E\\u0432\\u0435\\u0440\\u043A\\u0430 \\u0430\\u0432\\u0442\\u043E\\u0440\\u0438\\u0437\\u0430\\u0446\\u0438\\u0438 \\u0438 \\u0437\\u0430\\u0433\\u0440\\u0443\\u0437\\u043A\\u0430 \\u0434\\u0430\\u043D\\u043D\\u044B\\u0445...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 376,\n    columnNumber: 58\n  }, this);\n  if (!user) return null;\n  const showLoadingIndicator = loading && !error;\n  const renderSortableHeader = (label, key) => /*#__PURE__*/_jsxDEV(\"th\", {\n    onClick: () => requestSort(key),\n    className: \"sortable-header\",\n    children: [label, sortConfig.key === key ? sortConfig.direction === 'ascending' ? ' ▲' : ' ▼' : ' ↕']\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 381,\n    columnNumber: 9\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"admin-panel\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"admin-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"\\u041F\\u0430\\u043D\\u0435\\u043B\\u044C \\u0430\\u0434\\u043C\\u0438\\u043D\\u0438\\u0441\\u0442\\u0440\\u0430\\u0442\\u043E\\u0440\\u0430\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 390,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"header-buttons\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => navigate((user === null || user === void 0 ? void 0 : user.role) === 1 ? '/admin' : '/user'),\n          className: \"back-button\",\n          children: \"\\u041D\\u0430\\u0437\\u0430\\u0434\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 392,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => {\n            localStorage.removeItem('user');\n            navigate('/login');\n          },\n          className: \"logout-button\",\n          children: \"\\u0412\\u044B\\u0439\\u0442\\u0438\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 393,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 391,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 389,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"admin-tabs\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        className: `tab-button ${activeTab === 'programs' ? 'active' : ''}`,\n        onClick: () => setActiveTab('programs'),\n        children: \"\\u041F\\u0440\\u043E\\u0433\\u0440\\u0430\\u043C\\u043C\\u044B\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 398,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: `tab-button ${activeTab === 'organizations' ? 'active' : ''}`,\n        onClick: () => setActiveTab('organizations'),\n        children: \"\\u041E\\u0440\\u0433\\u0430\\u043D\\u0438\\u0437\\u0430\\u0446\\u0438\\u0438\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 404,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: `tab-button ${activeTab === 'kks' ? 'active' : ''}`,\n        onClick: () => setActiveTab('kks'),\n        children: \"\\u041A\\u041A\\u0421\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 410,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 397,\n      columnNumber: 13\n    }, this), showLoadingIndicator && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"loading-inline\",\n      children: \"\\u041E\\u0431\\u043D\\u043E\\u0432\\u043B\\u0435\\u043D\\u0438\\u0435 \\u0434\\u0430\\u043D\\u043D\\u044B\\u0445...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 418,\n      columnNumber: 38\n    }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"error-inline\",\n      children: [error, \" \", /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setError(''),\n        children: \"\\xD7\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 419,\n        columnNumber: 61\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 419,\n      columnNumber: 23\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"admin-content\",\n      children: [addingItemType === activeTab && /*#__PURE__*/_jsxDEV(AddItemForm, {\n        type: addingItemType,\n        onSave: handleAddItem,\n        onCancel: handleCancelAdd,\n        programTypes: programTypes,\n        allOrganizations: allOrganizations\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 423,\n        columnNumber: 21\n      }, this), !editingItem && !addingItemType && /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleShowAddForm,\n        className: \"add-button\",\n        children: [\"\\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C \", activeTab === 'programs' ? 'программу' : activeTab === 'organizations' ? 'организацию' : activeTab === 'kks' ? 'KKS' : activeTab === 'users' ? 'пользователя' : '']\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 433,\n        columnNumber: 21\n      }, this), activeTab === 'programs' && /*#__PURE__*/_jsxDEV(\"table\", {\n        className: \"admin-table\",\n        children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n          children: /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [renderSortableHeader('ID', 'ID_ProgDPO'), renderSortableHeader('Название', 'Name_ProgDPO'), renderSortableHeader('Тип', 'Name_Type'), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"\\u0414\\u0435\\u0439\\u0441\\u0442\\u0432\\u0438\\u044F\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 450,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 446,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 445,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n          children: sortedPrograms.map(program => /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: (editingItem === null || editingItem === void 0 ? void 0 : editingItem.ID_ProgDPO) === program.ID_ProgDPO ? /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                children: program.ID_ProgDPO\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 458,\n                columnNumber: 45\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  value: editingItem.Name_ProgDPO,\n                  onChange: e => handleChange('Name_ProgDPO', e.target.value)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 460,\n                  columnNumber: 49\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 459,\n                columnNumber: 45\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  value: editingItem.Name_Type,\n                  onChange: e => handleChange('Name_Type', e.target.value)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 467,\n                  columnNumber: 49\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 466,\n                columnNumber: 45\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: handleSave,\n                  children: \"\\u0421\\u043E\\u0445\\u0440\\u0430\\u043D\\u0438\\u0442\\u044C\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 474,\n                  columnNumber: 49\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: handleCancel,\n                  children: \"\\u041E\\u0442\\u043C\\u0435\\u043D\\u0430\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 475,\n                  columnNumber: 49\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 473,\n                columnNumber: 45\n              }, this)]\n            }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                children: program.ID_ProgDPO\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 480,\n                columnNumber: 45\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: program.Name_ProgDPO\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 481,\n                columnNumber: 45\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: program.Name_Type\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 482,\n                columnNumber: 45\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"actions-cell\",\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => handleEdit(program),\n                  disabled: !!addingItemType,\n                  children: \"\\u0420\\u0435\\u0434\\u0430\\u043A\\u0442.\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 484,\n                  columnNumber: 49\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => handleDelete(program.ID_ProgDPO),\n                  className: \"delete-button\",\n                  disabled: !!addingItemType || !!editingItem,\n                  children: \"\\u0423\\u0434\\u0430\\u043B\\u0438\\u0442\\u044C\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 485,\n                  columnNumber: 49\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 483,\n                columnNumber: 45\n              }, this)]\n            }, void 0, true)\n          }, program.ID_ProgDPO, false, {\n            fileName: _jsxFileName,\n            lineNumber: 455,\n            columnNumber: 33\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 453,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 444,\n        columnNumber: 21\n      }, this), activeTab === 'organizations' && /*#__PURE__*/_jsxDEV(\"table\", {\n        className: \"admin-table\",\n        children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n          children: /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [renderSortableHeader('ID', 'ID_Org'), renderSortableHeader('Полное название', 'FName'), renderSortableHeader('Краткое название', 'SName'), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"\\u0414\\u0435\\u0439\\u0441\\u0442\\u0432\\u0438\\u044F\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 502,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 498,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 497,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n          children: sortedOrganizations.map(org => /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: (editingItem === null || editingItem === void 0 ? void 0 : editingItem.ID_Org) === org.ID_Org ? /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                children: org.ID_Org\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 510,\n                columnNumber: 45\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  value: editingItem.FName,\n                  onChange: e => handleChange('FName', e.target.value)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 512,\n                  columnNumber: 49\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 511,\n                columnNumber: 45\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  value: editingItem.SName,\n                  onChange: e => handleChange('SName', e.target.value)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 519,\n                  columnNumber: 49\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 518,\n                columnNumber: 45\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: handleSave,\n                  children: \"\\u0421\\u043E\\u0445\\u0440\\u0430\\u043D\\u0438\\u0442\\u044C\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 526,\n                  columnNumber: 49\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: handleCancel,\n                  children: \"\\u041E\\u0442\\u043C\\u0435\\u043D\\u0430\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 527,\n                  columnNumber: 49\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 525,\n                columnNumber: 45\n              }, this)]\n            }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                children: org.ID_Org\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 532,\n                columnNumber: 45\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: org.FName\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 533,\n                columnNumber: 45\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: org.SName\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 534,\n                columnNumber: 45\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"actions-cell\",\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => handleEdit(org),\n                  disabled: !!addingItemType,\n                  children: \"\\u0420\\u0435\\u0434\\u0430\\u043A\\u0442.\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 536,\n                  columnNumber: 49\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => handleDelete(org.ID_Org),\n                  className: \"delete-button\",\n                  disabled: !!addingItemType || !!editingItem,\n                  children: \"\\u0423\\u0434\\u0430\\u043B\\u0438\\u0442\\u044C\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 537,\n                  columnNumber: 49\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 535,\n                columnNumber: 45\n              }, this)]\n            }, void 0, true)\n          }, org.ID_Org, false, {\n            fileName: _jsxFileName,\n            lineNumber: 507,\n            columnNumber: 33\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 505,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 496,\n        columnNumber: 21\n      }, this), activeTab === 'kks' && /*#__PURE__*/_jsxDEV(\"table\", {\n        className: \"admin-table\",\n        children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n          children: /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [renderSortableHeader('ID', 'ID_KKS'), renderSortableHeader('Название', 'Name_KKS'), renderSortableHeader('Краткое обозначение', 'SName_KKS'), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"\\u0414\\u0435\\u0439\\u0441\\u0442\\u0432\\u0438\\u044F\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 554,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 550,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 549,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n          children: sortedKks.map(kksItem => /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: (editingItem === null || editingItem === void 0 ? void 0 : editingItem.ID_KKS) === kksItem.ID_KKS ? /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                children: kksItem.ID_KKS\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 562,\n                columnNumber: 45\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  value: editingItem.Name_KKS,\n                  onChange: e => handleChange('Name_KKS', e.target.value)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 564,\n                  columnNumber: 49\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 563,\n                columnNumber: 45\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  value: editingItem.SName_KKS,\n                  onChange: e => handleChange('SName_KKS', e.target.value)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 571,\n                  columnNumber: 49\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 570,\n                columnNumber: 45\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: handleSave,\n                  children: \"\\u0421\\u043E\\u0445\\u0440\\u0430\\u043D\\u0438\\u0442\\u044C\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 578,\n                  columnNumber: 49\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: handleCancel,\n                  children: \"\\u041E\\u0442\\u043C\\u0435\\u043D\\u0430\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 579,\n                  columnNumber: 49\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 577,\n                columnNumber: 45\n              }, this)]\n            }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                children: kksItem.ID_KKS\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 584,\n                columnNumber: 45\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: kksItem.Name_KKS\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 585,\n                columnNumber: 45\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: kksItem.SName_KKS\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 586,\n                columnNumber: 45\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"actions-cell\",\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => handleEdit(kksItem),\n                  disabled: !!addingItemType,\n                  children: \"\\u0420\\u0435\\u0434\\u0430\\u043A\\u0442.\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 588,\n                  columnNumber: 49\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => handleDelete(kksItem.ID_KKS),\n                  className: \"delete-button\",\n                  disabled: !!addingItemType || !!editingItem,\n                  children: \"\\u0423\\u0434\\u0430\\u043B\\u0438\\u0442\\u044C\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 589,\n                  columnNumber: 49\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 587,\n                columnNumber: 45\n              }, this)]\n            }, void 0, true)\n          }, kksItem.ID_KKS, false, {\n            fileName: _jsxFileName,\n            lineNumber: 559,\n            columnNumber: 33\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 557,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 548,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 421,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 388,\n    columnNumber: 9\n  }, this);\n}\n_s2(AdminPanel, \"t5N9PPf48mRPMcQA1nhr+p2Vo8c=\", false, function () {\n  return [useNavigate];\n});\n_c2 = AdminPanel;\nexport default AdminPanel;\nvar _c, _c2;\n$RefreshReg$(_c, \"AddItemForm\");\n$RefreshReg$(_c2, \"AdminPanel\");","map":{"version":3,"names":["React","useState","useEffect","useMemo","useCallback","axios","useNavigate","jsxDEV","_jsxDEV","Fragment","_Fragment","AddItemForm","type","onSave","onCancel","programTypes","allOrganizations","_s","newItem","setNewItem","handleChange","field","value","prev","handleSubmit","e","preventDefault","handleCancel","onSubmit","className","children","fileName","_jsxFileName","lineNumber","columnNumber","placeholder","required","Name_ProgDPO","onChange","target","id_type","disabled","map","pt","Name_Type","ID_Org","org","FName","onClick","SName","Name_KKS","SName_KKS","_c","AdminPanel","_s2","activeTab","setActiveTab","programs","setPrograms","organizations","setOrganizations","kks","setKks","loading","setLoading","error","setError","editingItem","setEditingItem","addingItemType","setAddingItemType","setProgramTypes","setAllOrganizations","users","setUsers","sortConfig","setSortConfig","key","direction","navigate","apiUrl","process","env","REACT_APP_API_URL","user","storedUser","localStorage","getItem","JSON","parse","console","requestSort","getIdKeyForTab","tab","idKey","fetchData","forceAux","role","warn","log","length","typesRes","orgsRes","Promise","all","get","data","err","response","endpoint","status","message","sortedPrograms","sortableItems","sort","a","b","sortedOrganizations","valA","valB","compareResult","String","localeCompare","sortedKks","sortedUsers","handleEdit","item","handleSave","id","ID_ProgDPO","ID_KKS","ID_User","Error","put","_err$response","_err$response$data","handleShowAddForm","handleCancelAdd","handleAddItem","newItemData","post","_err$response2","_err$response2$data","handleDelete","idToDelete","window","confirm","delete","_err$response3","_err$response3$data","showLoadingIndicator","renderSortableHeader","label","removeItem","program","kksItem","_c2","$RefreshReg$"],"sources":["D:/Amina/VScode/FQW_new/src/components/AdminPanel.js"],"sourcesContent":["import React, { useState, useEffect, useMemo, useCallback } from 'react';\r\nimport axios from 'axios';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport './AdminPanel.css';\r\n\r\n// --- Компонент для формы добавления ---\r\nconst AddItemForm = ({ type, onSave, onCancel, programTypes = [], allOrganizations = [] }) => {\r\n    const [newItem, setNewItem] = useState({});\r\n\r\n    useEffect(() => {\r\n        setNewItem({});\r\n    }, [type]);\r\n\r\n    const handleChange = (field, value) => {\r\n        setNewItem(prev => ({ ...prev, [field]: value }));\r\n    };\r\n\r\n    const handleSubmit = (e) => {\r\n        e.preventDefault();\r\n        onSave(newItem);\r\n        setNewItem({});\r\n    };\r\n\r\n    const handleCancel = (e) => {\r\n        e.preventDefault();\r\n        setNewItem({});\r\n        onCancel();\r\n    };\r\n\r\n    if (type === 'program') {\r\n        return (\r\n            <form onSubmit={handleSubmit} className=\"add-form\">\r\n                <h4>Добавить программу</h4>\r\n                <input\r\n                    type=\"text\" placeholder=\"Название программы\" required\r\n                    value={newItem.Name_ProgDPO || ''}\r\n                    onChange={(e) => handleChange('Name_ProgDPO', e.target.value)} />\r\n                <select required value={newItem.id_type || ''} onChange={(e) => handleChange('id_type', e.target.value)}>\r\n                    <option value=\"\" disabled>Выберите тип</option>\r\n                    {programTypes.map(pt => <option key={pt.id_type} value={pt.id_type}>{pt.Name_Type}</option>)}\r\n                </select>\r\n                <select required value={newItem.ID_Org || ''} onChange={(e) => handleChange('ID_Org', e.target.value)}>\r\n                    <option value=\"\" disabled>Выберите организацию</option>\r\n                    {allOrganizations.map(org => <option key={org.ID_Org} value={org.ID_Org}>{org.FName}</option>)}\r\n                </select>\r\n                <div className=\"form-actions\">\r\n                   <button type=\"submit\">Сохранить</button>\r\n                   <button type=\"button\" onClick={handleCancel}>Отмена</button>\r\n                </div>\r\n            </form>\r\n        );\r\n    }\r\n\r\n    if (type === 'organization') {\r\n         return (\r\n            <form onSubmit={handleSubmit} className=\"add-form\">\r\n                <h4>Добавить организацию</h4>\r\n                <input\r\n                    type=\"text\" placeholder=\"Полное название\" required\r\n                    value={newItem.FName || ''}\r\n                    onChange={(e) => handleChange('FName', e.target.value)} />\r\n                 <input\r\n                    type=\"text\" placeholder=\"Краткое название\" required\r\n                    value={newItem.SName || ''}\r\n                    onChange={(e) => handleChange('SName', e.target.value)} />\r\n                 <div className=\"form-actions\">\r\n                   <button type=\"submit\">Сохранить</button>\r\n                   <button type=\"button\" onClick={handleCancel}>Отмена</button>\r\n                </div>\r\n            </form>\r\n        );\r\n    }\r\n\r\n     if (type === 'kks') {\r\n        return (\r\n            <form onSubmit={handleSubmit} className=\"add-form\">\r\n                <h4>Добавить KKS</h4>\r\n                <input\r\n                    type=\"text\" placeholder=\"Название KKS\" required\r\n                    value={newItem.Name_KKS || ''}\r\n                    onChange={(e) => handleChange('Name_KKS', e.target.value)} />\r\n                 <input\r\n                    type=\"text\" placeholder=\"Краткое обозначение\"\r\n                    value={newItem.SName_KKS || ''}\r\n                    onChange={(e) => handleChange('SName_KKS', e.target.value)} />\r\n                 <div className=\"form-actions\">\r\n                   <button type=\"submit\">Сохранить</button>\r\n                   <button type=\"button\" onClick={handleCancel}>Отмена</button>\r\n                </div>\r\n            </form>\r\n        );\r\n    }\r\n\r\n    return null;\r\n};\r\n\r\nfunction AdminPanel() {\r\n    const [activeTab, setActiveTab] = useState('programs');\r\n    const [programs, setPrograms] = useState([]);\r\n    const [organizations, setOrganizations] = useState([]);\r\n    const [kks, setKks] = useState([]);\r\n    const [loading, setLoading] = useState(true);\r\n    const [error, setError] = useState('');\r\n    const [editingItem, setEditingItem] = useState(null);\r\n    const [addingItemType, setAddingItemType] = useState(null);\r\n    const [programTypes, setProgramTypes] = useState([]);\r\n    const [allOrganizations, setAllOrganizations] = useState([]);\r\n    const [users, setUsers] = useState([]);\r\n    const [sortConfig, setSortConfig] = useState({ key: null, direction: 'ascending' });\r\n    const navigate = useNavigate();\r\n    const apiUrl = process.env.REACT_APP_API_URL;\r\n\r\n    const user = useMemo(() => {\r\n        const storedUser = localStorage.getItem('user');\r\n        try {\r\n            return storedUser ? JSON.parse(storedUser) : null;\r\n        } catch (e) {\r\n            console.error(\"Failed to parse user from localStorage\", e);\r\n            return null;\r\n        }\r\n    }, []);\r\n\r\n    const requestSort = (key) => {\r\n        let direction = 'ascending';\r\n        if (sortConfig.key === key && sortConfig.direction === 'ascending') {\r\n            direction = 'descending';\r\n        }\r\n        setSortConfig({ key, direction });\r\n    };\r\n\r\n    const getIdKeyForTab = (tab) => {\r\n        switch (tab) {\r\n            case 'programs': return 'ID_ProgDPO';\r\n            case 'organizations': return 'ID_Org';\r\n            case 'kks': return 'ID_KKS';\r\n            case 'users': return 'ID_User';\r\n            default: return null;\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        const idKey = getIdKeyForTab(activeTab);\r\n        if (idKey) {\r\n            setSortConfig({ key: idKey, direction: 'ascending' });\r\n        } else {\r\n            setSortConfig({ key: null, direction: 'ascending' });\r\n        }\r\n    }, [activeTab]);\r\n\r\n    const fetchData = useCallback(async (forceAux = false) => {\r\n        if (!user || user.role !== 1) {\r\n            console.warn(\"fetchData called without admin user, aborting.\");\r\n            setLoading(false);\r\n            return;\r\n        }\r\n        setLoading(true);\r\n        setError('');\r\n        console.log(`WorkspaceData triggered. Active tab: ${activeTab}`);\r\n\r\n        if (forceAux || programTypes.length === 0) {\r\n            try {\r\n                console.log(\"Fetching auxiliary data (types, orgs)...\");\r\n                const [typesRes, orgsRes] = await Promise.all([\r\n                    axios.get(`${apiUrl}/api/program-types`),\r\n                    axios.get(`${apiUrl}/api/organizations`)\r\n                ]);\r\n                setProgramTypes(typesRes.data);\r\n                setAllOrganizations(orgsRes.data);\r\n                console.log(\"Auxiliary data fetched.\");\r\n            } catch (err) {\r\n                console.error('Error fetching auxiliary data:', err);\r\n                setError(prev => prev ? `${prev}\\nОшибка загрузки вспомогательных данных.` : 'Ошибка загрузки вспомогательных данных.');\r\n            }\r\n        }\r\n\r\n        try {\r\n            let response;\r\n            let endpoint;\r\n            switch (activeTab) {\r\n                case 'programs': endpoint = `${apiUrl}/api/programs`; break;\r\n                case 'organizations': endpoint = `${apiUrl}/api/organizations`; break;\r\n                case 'kks': endpoint = `${apiUrl}/api/kks`; break;\r\n                case 'users': endpoint = `${apiUrl}/api/users`; break;\r\n                default:\r\n                    console.warn(`Unknown activeTab: ${activeTab}`);\r\n                    setLoading(false);\r\n                    return;\r\n            }\r\n            console.log(`Attempting to fetch ${endpoint}...`);\r\n            response = await axios.get(endpoint);\r\n            console.log(`Received response from ${endpoint}`, response.status);\r\n            switch (activeTab) {\r\n                case 'programs': setPrograms(response.data); break;\r\n                case 'organizations': setOrganizations(response.data); break;\r\n                case 'kks': setKks(response.data); break;\r\n                case 'users': setUsers(response.data); break;\r\n            }\r\n        } catch (err) {\r\n            console.error(`Error fetching ${activeTab}:`, err.response || err.message || err);\r\n            setError(prev => prev ? `${prev}\\nОшибка загрузки данных для ${activeTab}.` : `Ошибка загрузки данных для ${activeTab}.`);\r\n        } finally {\r\n            console.log(`Setting loading to false for ${activeTab}.`);\r\n            setLoading(false);\r\n        }\r\n    }, [activeTab, user, navigate, apiUrl, programTypes.length]);\r\n\r\n    useEffect(() => {\r\n        if (!user || user.role !== 1) {\r\n            navigate('/login');\r\n            return;\r\n        }\r\n        fetchData(true);\r\n    }, [user, navigate, fetchData]);\r\n\r\n    const sortedPrograms = useMemo(() => {\r\n        let sortableItems = [...programs];\r\n        if (sortConfig.key) {\r\n            sortableItems.sort((a, b) => {\r\n                if (a[sortConfig.key] < b[sortConfig.key]) {\r\n                    return sortConfig.direction === 'ascending' ? -1 : 1;\r\n                }\r\n                if (a[sortConfig.key] > b[sortConfig.key]) {\r\n                    return sortConfig.direction === 'ascending' ? 1 : -1;\r\n                }\r\n                return 0;\r\n            });\r\n        }\r\n        return sortableItems;\r\n    }, [programs, sortConfig]);\r\n\r\n    const sortedOrganizations = useMemo(() => {\r\n        let sortableItems = [...organizations];\r\n        if (sortConfig.key) {\r\n            sortableItems.sort((a, b) => {\r\n                const valA = a[sortConfig.key];\r\n                const valB = b[sortConfig.key];\r\n                const compareResult = typeof valA === 'number' && typeof valB === 'number'\r\n                    ? valA - valB\r\n                    : String(valA).localeCompare(String(valB));\r\n                return sortConfig.direction === 'ascending' ? compareResult : -compareResult;\r\n            });\r\n        }\r\n        return sortableItems;\r\n    }, [organizations, sortConfig]);\r\n\r\n    const sortedKks = useMemo(() => {\r\n        let sortableItems = [...kks];\r\n        if (sortConfig.key) {\r\n            sortableItems.sort((a, b) => {\r\n                const valA = a[sortConfig.key];\r\n                const valB = b[sortConfig.key];\r\n                const compareResult = typeof valA === 'number' && typeof valB === 'number'\r\n                    ? valA - valB\r\n                    : String(valA).localeCompare(String(valB));\r\n                return sortConfig.direction === 'ascending' ? compareResult : -compareResult;\r\n            });\r\n        }\r\n        return sortableItems;\r\n    }, [kks, sortConfig]);\r\n\r\n    const sortedUsers = useMemo(() => {\r\n        let sortableItems = [...users];\r\n        if (sortConfig.key) {\r\n            sortableItems.sort((a, b) => {\r\n                const valA = a[sortConfig.key];\r\n                const valB = b[sortConfig.key];\r\n                if (sortConfig.key === 'Role' && typeof valA === 'number' && typeof valB === 'number') {\r\n                    const compareResult = valA - valB;\r\n                    return sortConfig.direction === 'ascending' ? compareResult : -compareResult;\r\n                }\r\n                const compareResult = String(valA ?? '').localeCompare(String(valB ?? ''));\r\n                return sortConfig.direction === 'ascending' ? compareResult : -compareResult;\r\n            });\r\n        }\r\n        return sortableItems;\r\n    }, [users, sortConfig]);\r\n\r\n    const handleEdit = (item) => {\r\n        setEditingItem(item);\r\n        setAddingItemType(null);\r\n    };\r\n\r\n    const handleCancel = () => {\r\n        setEditingItem(null);\r\n    };\r\n\r\n    const handleChange = (field, value) => {\r\n        setEditingItem(prev => ({ ...prev, [field]: value }));\r\n    };\r\n\r\n    const handleSave = async () => {\r\n        if (!editingItem) return;\r\n        console.log(\"Saving edited item:\", editingItem);\r\n        setLoading(true);\r\n        try {\r\n            let endpoint;\r\n            let id;\r\n            switch (activeTab) {\r\n                case 'programs': id = editingItem.ID_ProgDPO; endpoint = `${apiUrl}/api/programs/${id}`; break;\r\n                case 'organizations': id = editingItem.ID_Org; endpoint = `${apiUrl}/api/organizations/${id}`; break;\r\n                case 'kks': id = editingItem.ID_KKS; endpoint = `${apiUrl}/api/kks/${id}`; break;\r\n                case 'users': id = editingItem.ID_User; endpoint = `${apiUrl}/api/users/${id}`; break;\r\n                default: throw new Error(\"Неизвестная вкладка для сохранения\");\r\n            }\r\n            await axios.put(endpoint, editingItem);\r\n            setEditingItem(null);\r\n            await fetchData();\r\n        } catch (err) {\r\n            console.error('Ошибка при сохранении изменений:', err);\r\n            setError(err.response?.data?.error || 'Ошибка при сохранении данных');\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    const handleShowAddForm = () => {\r\n        setAddingItemType(activeTab);\r\n        setEditingItem(null);\r\n    };\r\n\r\n    const handleCancelAdd = () => {\r\n        setAddingItemType(null);\r\n    };\r\n\r\n    const handleAddItem = async (newItemData) => {\r\n        console.log(`Adding new ${addingItemType}:`, newItemData);\r\n        setLoading(true);\r\n        try {\r\n            let endpoint;\r\n            switch (addingItemType) {\r\n                case 'programs': endpoint = `${apiUrl}/api/programs`; break;\r\n                case 'organizations': endpoint = `${apiUrl}/api/organizations`; break;\r\n                case 'kks': endpoint = `${apiUrl}/api/kks`; break;\r\n                case 'users': endpoint = `${apiUrl}/api/users`; break;\r\n                default: throw new Error(\"Неизвестный тип для добавления\");\r\n            }\r\n            await axios.post(endpoint, newItemData);\r\n            setAddingItemType(null);\r\n            await fetchData();\r\n        } catch (err) {\r\n            console.error(`Ошибка при добавлении ${addingItemType}:`, err);\r\n            setError(err.response?.data?.error || `Ошибка при добавлении элемента`);\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    const handleDelete = async (idToDelete) => {\r\n        if (!window.confirm('Вы уверены, что хотите удалить этот элемент?')) {\r\n            return;\r\n        }\r\n        console.log(`Deleting item with ID: ${idToDelete} on tab: ${activeTab}`);\r\n        setLoading(true);\r\n        try {\r\n            let endpoint;\r\n            switch (activeTab) {\r\n                case 'programs': endpoint = `${apiUrl}/api/programs/${idToDelete}`; break;\r\n                case 'organizations': endpoint = `${apiUrl}/api/organizations/${idToDelete}`; break;\r\n                case 'kks': endpoint = `${apiUrl}/api/kks/${idToDelete}`; break;\r\n                case 'users': endpoint = `${apiUrl}/api/users/${idToDelete}`; break;\r\n                default: throw new Error(\"Неизвестная вкладка для удаления\");\r\n            }\r\n            await axios.delete(endpoint);\r\n            if (editingItem && editingItem[getIdKeyForTab(activeTab)] === idToDelete) {\r\n                setEditingItem(null);\r\n            }\r\n            await fetchData();\r\n        } catch (err) {\r\n            console.error(`Ошибка при удалении элемента (ID: ${idToDelete}):`, err);\r\n            setError(err.response?.data?.error || 'Ошибка при удалении элемента');\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    if (!user && loading && !programTypes.length) return <div className=\"loading\">Проверка авторизации и загрузка данных...</div>;\r\n    if (!user) return null;\r\n    const showLoadingIndicator = loading && !error;\r\n\r\n    const renderSortableHeader = (label, key) => (\r\n        <th onClick={() => requestSort(key)} className=\"sortable-header\">\r\n            {label}\r\n            {sortConfig.key === key ? (sortConfig.direction === 'ascending' ? ' ▲' : ' ▼') : ' ↕'}\r\n        </th>\r\n    );\r\n\r\n    return (\r\n        <div className=\"admin-panel\">\r\n            <div className=\"admin-header\">\r\n                <h1>Панель администратора</h1>\r\n                <div className=\"header-buttons\">\r\n                    <button onClick={() => navigate(user?.role === 1 ? '/admin' : '/user')} className=\"back-button\">Назад</button>\r\n                    <button onClick={() => { localStorage.removeItem('user'); navigate('/login'); }} className=\"logout-button\">Выйти</button>\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"admin-tabs\">\r\n                <button \r\n                    className={`tab-button ${activeTab === 'programs' ? 'active' : ''}`}\r\n                    onClick={() => setActiveTab('programs')}\r\n                >\r\n                    Программы\r\n                </button>\r\n                <button \r\n                    className={`tab-button ${activeTab === 'organizations' ? 'active' : ''}`}\r\n                    onClick={() => setActiveTab('organizations')}\r\n                >\r\n                    Организации\r\n                </button>\r\n                <button \r\n                    className={`tab-button ${activeTab === 'kks' ? 'active' : ''}`}\r\n                    onClick={() => setActiveTab('kks')}\r\n                >\r\n                    ККС\r\n                </button>\r\n            </div>\r\n\r\n            {showLoadingIndicator && <div className=\"loading-inline\">Обновление данных...</div>}\r\n            {error && <div className=\"error-inline\">{error} <button onClick={() => setError('')}>×</button></div>}\r\n\r\n            <div className=\"admin-content\">\r\n                {addingItemType === activeTab && (\r\n                    <AddItemForm\r\n                        type={addingItemType}\r\n                        onSave={handleAddItem}\r\n                        onCancel={handleCancelAdd}\r\n                        programTypes={programTypes}\r\n                        allOrganizations={allOrganizations}\r\n                    />\r\n                )}\r\n\r\n                {!editingItem && !addingItemType && (\r\n                    <button onClick={handleShowAddForm} className=\"add-button\">\r\n                        Добавить {\r\n                            activeTab === 'programs' ? 'программу' :\r\n                            activeTab === 'organizations' ? 'организацию' :\r\n                            activeTab === 'kks' ? 'KKS' :\r\n                            activeTab === 'users' ? 'пользователя' : ''\r\n                        }\r\n                    </button>\r\n                )}\r\n\r\n                {activeTab === 'programs' && (\r\n                    <table className=\"admin-table\">\r\n                        <thead>\r\n                            <tr>\r\n                                {renderSortableHeader('ID', 'ID_ProgDPO')}\r\n                                {renderSortableHeader('Название', 'Name_ProgDPO')}\r\n                                {renderSortableHeader('Тип', 'Name_Type')}\r\n                                <th>Действия</th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                            {sortedPrograms.map(program => (\r\n                                <tr key={program.ID_ProgDPO}>\r\n                                    {editingItem?.ID_ProgDPO === program.ID_ProgDPO ? (\r\n                                        <>\r\n                                            <td>{program.ID_ProgDPO}</td>\r\n                                            <td>\r\n                                                <input\r\n                                                    type=\"text\"\r\n                                                    value={editingItem.Name_ProgDPO}\r\n                                                    onChange={(e) => handleChange('Name_ProgDPO', e.target.value)}\r\n                                                />\r\n                                            </td>\r\n                                            <td>\r\n                                                <input\r\n                                                    type=\"text\"\r\n                                                    value={editingItem.Name_Type}\r\n                                                    onChange={(e) => handleChange('Name_Type', e.target.value)}\r\n                                                />\r\n                                            </td>\r\n                                            <td>\r\n                                                <button onClick={handleSave}>Сохранить</button>\r\n                                                <button onClick={handleCancel}>Отмена</button>\r\n                                            </td>\r\n                                        </>\r\n                                    ) : (\r\n                                        <>\r\n                                            <td>{program.ID_ProgDPO}</td>\r\n                                            <td>{program.Name_ProgDPO}</td>\r\n                                            <td>{program.Name_Type}</td>\r\n                                            <td className=\"actions-cell\">\r\n                                                <button onClick={() => handleEdit(program)} disabled={!!addingItemType}>Редакт.</button>\r\n                                                <button onClick={() => handleDelete(program.ID_ProgDPO)} className=\"delete-button\" disabled={!!addingItemType || !!editingItem}>Удалить</button>\r\n                                            </td>\r\n                                        </>\r\n                                    )}\r\n                                </tr>\r\n                            ))}\r\n                        </tbody>\r\n                    </table>\r\n                )}\r\n\r\n                {activeTab === 'organizations' && (\r\n                    <table className=\"admin-table\">\r\n                        <thead>\r\n                            <tr>\r\n                                {renderSortableHeader('ID', 'ID_Org')}\r\n                                {renderSortableHeader('Полное название', 'FName')}\r\n                                {renderSortableHeader('Краткое название', 'SName')}\r\n                                <th>Действия</th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                            {sortedOrganizations.map(org => (\r\n                                <tr key={org.ID_Org}>\r\n                                    {editingItem?.ID_Org === org.ID_Org ? (\r\n                                        <>\r\n                                            <td>{org.ID_Org}</td>\r\n                                            <td>\r\n                                                <input\r\n                                                    type=\"text\"\r\n                                                    value={editingItem.FName}\r\n                                                    onChange={(e) => handleChange('FName', e.target.value)}\r\n                                                />\r\n                                            </td>\r\n                                            <td>\r\n                                                <input\r\n                                                    type=\"text\"\r\n                                                    value={editingItem.SName}\r\n                                                    onChange={(e) => handleChange('SName', e.target.value)}\r\n                                                />\r\n                                            </td>\r\n                                            <td>\r\n                                                <button onClick={handleSave}>Сохранить</button>\r\n                                                <button onClick={handleCancel}>Отмена</button>\r\n                                            </td>\r\n                                        </>\r\n                                    ) : (\r\n                                        <>\r\n                                            <td>{org.ID_Org}</td>\r\n                                            <td>{org.FName}</td>\r\n                                            <td>{org.SName}</td>\r\n                                            <td className=\"actions-cell\">\r\n                                                <button onClick={() => handleEdit(org)} disabled={!!addingItemType}>Редакт.</button>\r\n                                                <button onClick={() => handleDelete(org.ID_Org)} className=\"delete-button\" disabled={!!addingItemType || !!editingItem}>Удалить</button>\r\n                                            </td>\r\n                                        </>\r\n                                    )}\r\n                                </tr>\r\n                            ))}\r\n                        </tbody>\r\n                    </table>\r\n                )}\r\n\r\n                {activeTab === 'kks' && (\r\n                    <table className=\"admin-table\">\r\n                        <thead>\r\n                            <tr>\r\n                                {renderSortableHeader('ID', 'ID_KKS')}\r\n                                {renderSortableHeader('Название', 'Name_KKS')}\r\n                                {renderSortableHeader('Краткое обозначение', 'SName_KKS')}\r\n                                <th>Действия</th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                            {sortedKks.map(kksItem => (\r\n                                <tr key={kksItem.ID_KKS}>\r\n                                    {editingItem?.ID_KKS === kksItem.ID_KKS ? (\r\n                                        <>\r\n                                            <td>{kksItem.ID_KKS}</td>\r\n                                            <td>\r\n                                                <input\r\n                                                    type=\"text\"\r\n                                                    value={editingItem.Name_KKS}\r\n                                                    onChange={(e) => handleChange('Name_KKS', e.target.value)}\r\n                                                />\r\n                                            </td>\r\n                                            <td>\r\n                                                <input\r\n                                                    type=\"text\"\r\n                                                    value={editingItem.SName_KKS}\r\n                                                    onChange={(e) => handleChange('SName_KKS', e.target.value)}\r\n                                                />\r\n                                            </td>\r\n                                            <td>\r\n                                                <button onClick={handleSave}>Сохранить</button>\r\n                                                <button onClick={handleCancel}>Отмена</button>\r\n                                            </td>\r\n                                        </>\r\n                                    ) : (\r\n                                        <>\r\n                                            <td>{kksItem.ID_KKS}</td>\r\n                                            <td>{kksItem.Name_KKS}</td>\r\n                                            <td>{kksItem.SName_KKS}</td>\r\n                                            <td className=\"actions-cell\">\r\n                                                <button onClick={() => handleEdit(kksItem)} disabled={!!addingItemType}>Редакт.</button>\r\n                                                <button onClick={() => handleDelete(kksItem.ID_KKS)} className=\"delete-button\" disabled={!!addingItemType || !!editingItem}>Удалить</button>\r\n                                            </td>\r\n                                        </>\r\n                                    )}\r\n                                </tr>\r\n                            ))}\r\n                        </tbody>\r\n                    </table>\r\n                )}\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default AdminPanel; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
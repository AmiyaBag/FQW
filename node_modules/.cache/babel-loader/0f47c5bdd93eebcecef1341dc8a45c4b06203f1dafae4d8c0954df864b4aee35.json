{"ast":null,"code":"var _jsxFileName = \"D:\\\\Amina\\\\VScode\\\\FQW_new\\\\src\\\\components\\\\AdminPanel.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$(),\n  _s3 = $RefreshSig$();\nimport React, { useState, useEffect, useMemo, useCallback } from 'react';\nimport axios from 'axios';\nimport { useNavigate } from 'react-router-dom';\nimport './AdminPanel.css';\n\n// --- Компонент AddItemForm (БЕЗ ИЗМЕНЕНИЙ) ---\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst AddItemForm = ({\n  type,\n  onSave,\n  onCancel,\n  programTypes = [],\n  allOrganizations = []\n}) => {\n  _s();\n  const [newItem, setNewItem] = useState({});\n  useEffect(() => {\n    setNewItem({}); // Сброс формы при изменении типа\n  }, [type]);\n  const handleChange = (field, value) => {\n    setNewItem(prev => ({\n      ...prev,\n      [field]: value\n    }));\n  };\n  const handleSubmit = e => {\n    e.preventDefault();\n    onSave(newItem);\n    setNewItem({});\n  };\n  const handleCancel = e => {\n    e.preventDefault();\n    setNewItem({});\n    onCancel();\n  };\n\n  // Форма для Программ\n  if (type === 'programs') {\n    return /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      className: \"add-form\",\n      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n        children: \"\\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C \\u043F\\u0440\\u043E\\u0433\\u0440\\u0430\\u043C\\u043C\\u0443\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        placeholder: \"\\u041D\\u0430\\u0437\\u0432\\u0430\\u043D\\u0438\\u0435 \\u043F\\u0440\\u043E\\u0433\\u0440\\u0430\\u043C\\u043C\\u044B\",\n        required: true,\n        value: newItem.Name_ProgDPO || '',\n        onChange: e => handleChange('Name_ProgDPO', e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n        required: true,\n        value: newItem.id_type || '',\n        onChange: e => handleChange('id_type', e.target.value),\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"\",\n          disabled: true,\n          children: \"\\u0412\\u044B\\u0431\\u0435\\u0440\\u0438\\u0442\\u0435 \\u0442\\u0438\\u043F\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 40,\n          columnNumber: 21\n        }, this), programTypes.map(pt => /*#__PURE__*/_jsxDEV(\"option\", {\n          value: pt.id_type,\n          children: pt.Name_Type\n        }, pt.id_type, false, {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 45\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n        required: true,\n        value: newItem.ID_Org || '',\n        onChange: e => handleChange('ID_Org', e.target.value),\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"\",\n          disabled: true,\n          children: \"\\u0412\\u044B\\u0431\\u0435\\u0440\\u0438\\u0442\\u0435 \\u043E\\u0440\\u0433\\u0430\\u043D\\u0438\\u0437\\u0430\\u0446\\u0438\\u044E\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 21\n        }, this), allOrganizations.map(org => /*#__PURE__*/_jsxDEV(\"option\", {\n          value: org.ID_Org,\n          children: org.FName\n        }, org.ID_Org, false, {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 50\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-actions\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          children: \"\\u0421\\u043E\\u0445\\u0440\\u0430\\u043D\\u0438\\u0442\\u044C\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          onClick: handleCancel,\n          children: \"\\u041E\\u0442\\u043C\\u0435\\u043D\\u0430\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 13\n    }, this);\n  }\n\n  // Форма для Организаций\n  if (type === 'organizations') {\n    return /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      className: \"add-form\",\n      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n        children: \"\\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C \\u043E\\u0440\\u0433\\u0430\\u043D\\u0438\\u0437\\u0430\\u0446\\u0438\\u044E\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        placeholder: \"\\u041F\\u043E\\u043B\\u043D\\u043E\\u0435 \\u043D\\u0430\\u0437\\u0432\\u0430\\u043D\\u0438\\u0435\",\n        required: true,\n        value: newItem.FName || '',\n        onChange: e => handleChange('FName', e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        placeholder: \"\\u041A\\u0440\\u0430\\u0442\\u043A\\u043E\\u0435 \\u043D\\u0430\\u0437\\u0432\\u0430\\u043D\\u0438\\u0435\",\n        required: true,\n        value: newItem.SName || '',\n        onChange: e => handleChange('SName', e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 18\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-actions\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          children: \"\\u0421\\u043E\\u0445\\u0440\\u0430\\u043D\\u0438\\u0442\\u044C\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          onClick: handleCancel,\n          children: \"\\u041E\\u0442\\u043C\\u0435\\u043D\\u0430\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 18\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 13\n    }, this);\n  }\n\n  // Форма для KKS\n  if (type === 'kks') {\n    return /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      className: \"add-form\",\n      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n        children: \"\\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C KKS\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        placeholder: \"\\u041D\\u0430\\u0437\\u0432\\u0430\\u043D\\u0438\\u0435 KKS\",\n        required: true,\n        value: newItem.Name_KKS || '',\n        onChange: e => handleChange('Name_KKS', e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        placeholder: \"\\u041A\\u0440\\u0430\\u0442\\u043A\\u043E\\u0435 \\u043E\\u0431\\u043E\\u0437\\u043D\\u0430\\u0447\\u0435\\u043D\\u0438\\u0435\",\n        value: newItem.SName_KKS || '',\n        onChange: e => handleChange('SName_KKS', e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 18\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-actions\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          children: \"\\u0421\\u043E\\u0445\\u0440\\u0430\\u043D\\u0438\\u0442\\u044C\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          onClick: handleCancel,\n          children: \"\\u041E\\u0442\\u043C\\u0435\\u043D\\u0430\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 18\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 13\n    }, this);\n  }\n  return null;\n};\n\n// --- Компонент WorkerForm (БЕЗ ИЗМЕНЕНИЙ) ---\n_s(AddItemForm, \"Ma3KGYVnITn2jfncCAugbkt84zE=\");\n_c = AddItemForm;\nconst WorkerForm = ({\n  initialData = {},\n  onSave,\n  onCancel,\n  isEditing = false\n}) => {\n  _s2();\n  const [workerData, setWorkerData] = useState(initialData);\n  const [newPassword, setNewPassword] = useState('');\n  useEffect(() => {\n    setWorkerData({\n      ...initialData,\n      Role: initialData.Role !== undefined ? initialData.Role : ''\n    });\n    setNewPassword('');\n  }, [initialData]);\n  const handleChange = (field, value) => {\n    setWorkerData(prev => ({\n      ...prev,\n      [field]: value\n    }));\n  };\n  const handlePasswordChange = e => {\n    setNewPassword(e.target.value);\n  };\n  const handleSubmit = e => {\n    e.preventDefault();\n    const dataToSend = {\n      ...workerData\n    };\n    if (newPassword) {\n      dataToSend.Password = newPassword;\n    } else if (!isEditing) {\n      alert('Пароль обязателен при создании пользователя.');\n      return;\n    }\n    onSave(dataToSend);\n  };\n  const handleCancelClick = e => {\n    e.preventDefault();\n    onCancel();\n  };\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    onSubmit: handleSubmit,\n    className: \"add-form user-form\",\n    children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n      children: isEditing ? `Редактировать работника (ID: ${workerData.ID_Worker})` : 'Добавить работника'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      placeholder: \"\\u0424\\u0418\\u041E \\u0420\\u0430\\u0431\\u043E\\u0442\\u043D\\u0438\\u043A\\u0430\",\n      required: true,\n      value: workerData.FName_Worker || '',\n      onChange: e => handleChange('FName_Worker', e.target.value)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 14\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      placeholder: \"\\u041B\\u043E\\u0433\\u0438\\u043D\",\n      required: true,\n      value: workerData.Login || '',\n      onChange: e => handleChange('Login', e.target.value)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"password\",\n      placeholder: isEditing ? 'Новый пароль (оставьте пустым, чтобы не менять)' : 'Пароль',\n      value: newPassword,\n      onChange: handlePasswordChange,\n      required: !isEditing\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n      required: true,\n      value: workerData.Role,\n      onChange: e => handleChange('Role', parseInt(e.target.value, 10)),\n      children: [/*#__PURE__*/_jsxDEV(\"option\", {\n        value: \"\",\n        disabled: true,\n        children: \"\\u0412\\u044B\\u0431\\u0435\\u0440\\u0438\\u0442\\u0435 \\u0440\\u043E\\u043B\\u044C\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n        value: 0,\n        children: \"\\u0420\\u0430\\u0431\\u043E\\u0442\\u043D\\u0438\\u043A \\u041E\\u0423\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n        value: 1,\n        children: \"\\u0420\\u0430\\u0431\\u043E\\u0442\\u043D\\u0438\\u043A \\u0426\\u0414\\u041E (\\u0410\\u0434\\u043C\\u0438\\u043D)\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"form-actions\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        children: \"\\u0421\\u043E\\u0445\\u0440\\u0430\\u043D\\u0438\\u0442\\u044C\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 16\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"button\",\n        onClick: handleCancelClick,\n        children: \"\\u041E\\u0442\\u043C\\u0435\\u043D\\u0430\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 16\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 139,\n    columnNumber: 9\n  }, this);\n};\n\n// --- Основной компонент AdminPanel ---\n_s2(WorkerForm, \"1JY0PzQ6PzVXUUXZSXa4uoe2zeo=\");\n_c2 = WorkerForm;\nfunction AdminPanel() {\n  _s3();\n  // Состояния (без изменений)\n  const [activeTab, setActiveTab] = useState('programs');\n  const [programs, setPrograms] = useState([]);\n  const [organizations, setOrganizations] = useState([]);\n  const [kks, setKks] = useState([]);\n  const [workers, setWorkers] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState('');\n  const [editingItem, setEditingItem] = useState(null);\n  const [addingItemType, setAddingItemType] = useState(null);\n  const [programTypes, setProgramTypes] = useState([]);\n  const [allOrganizations, setAllOrganizations] = useState([]);\n  const [sortConfig, setSortConfig] = useState({\n    key: null,\n    direction: 'ascending'\n  });\n\n  // Хуки (без изменений)\n  const navigate = useNavigate();\n  const apiUrl = process.env.REACT_APP_API_URL;\n\n  // Получение пользователя (без изменений)\n  const user = useMemo(() => {\n    const storedUser = localStorage.getItem('user');\n    try {\n      return storedUser ? JSON.parse(storedUser) : null;\n    } catch (e) {\n      console.error(\"Failed to parse user from localStorage\", e);\n      localStorage.removeItem('user');\n      return null;\n    }\n  }, []);\n\n  // --- Сортировка (без изменений) ---\n  const requestSort = key => {\n    let direction = 'ascending';\n    if (sortConfig.key === key && sortConfig.direction === 'ascending') {\n      direction = 'descending';\n    }\n    setSortConfig({\n      key,\n      direction\n    });\n  };\n  const getIdKeyForTab = tab => {\n    switch (tab) {\n      case 'programs':\n        return 'ID_ProgDPO';\n      case 'organizations':\n        return 'ID_Org';\n      case 'kks':\n        return 'ID_KKS';\n      case 'workers':\n        return 'ID_Worker';\n      default:\n        return null;\n    }\n  };\n  useEffect(() => {\n    const idKey = getIdKeyForTab(activeTab);\n    if (idKey) {\n      setSortConfig({\n        key: idKey,\n        direction: 'ascending'\n      }); // Сортируем по ID по умолчанию\n    } else {\n      setSortConfig({\n        key: null,\n        direction: 'ascending'\n      });\n    }\n    setEditingItem(null);\n    setAddingItemType(null);\n  }, [activeTab]);\n\n  // --- Загрузка данных (без изменений) ---\n  const fetchData = useCallback(async (forceAux = false) => {\n    if (!user || user.role !== 1) {\n      console.warn(\"fetchData called without admin user, aborting.\");\n      setLoading(false);\n      setError(\"Доступ запрещен. Требуются права администратора.\");\n      return;\n    }\n    setLoading(true);\n    setError('');\n    console.log(`Workspaceing data. Active tab: ${activeTab}`);\n    if (forceAux || programTypes.length === 0 || allOrganizations.length === 0) {\n      try {\n        console.log(\"Fetching auxiliary data (types, all orgs)...\");\n        const endpoints = [`${apiUrl}/api/program-types`, `${apiUrl}/api/organizations`];\n        const [typesRes, orgsRes] = await Promise.all(endpoints.map(url => axios.get(url)));\n        setProgramTypes(typesRes.data || []);\n        setAllOrganizations(orgsRes.data || []);\n        console.log(\"Auxiliary data fetched.\");\n      } catch (err) {\n        console.error('Error fetching auxiliary data:', err);\n        const auxErrorMsg = 'Ошибка загрузки вспомогательных данных (типы, организации).';\n        setError(prev => prev ? `${prev}\\n${auxErrorMsg}` : auxErrorMsg);\n      }\n    }\n    try {\n      let response;\n      let endpoint;\n      switch (activeTab) {\n        case 'programs':\n          endpoint = `${apiUrl}/api/programs`;\n          break;\n        case 'organizations':\n          endpoint = `${apiUrl}/api/organizations`;\n          break;\n        case 'kks':\n          endpoint = `${apiUrl}/api/kks`;\n          break;\n        case 'workers':\n          endpoint = `${apiUrl}/api/workers-admin`;\n          break;\n        default:\n          console.warn(`Unknown activeTab: ${activeTab}`);\n          setLoading(false);\n          return;\n      }\n      console.log(`Attempting to fetch ${endpoint}...`);\n      response = await axios.get(endpoint);\n      console.log(`Received response from ${endpoint}`, response.status);\n      switch (activeTab) {\n        case 'programs':\n          setPrograms(response.data || []);\n          break;\n        case 'organizations':\n          setOrganizations(response.data || []);\n          setAllOrganizations(response.data || []);\n          break;\n        case 'kks':\n          setKks(response.data || []);\n          break;\n        case 'workers':\n          setWorkers(response.data || []);\n          break;\n      }\n    } catch (err) {\n      console.error(`Error fetching ${activeTab}:`, err.response || err.message || err);\n      const mainErrorMsg = `Ошибка загрузки данных для вкладки \"${activeTab}\".`;\n      setError(prev => prev ? `${prev}\\n${mainErrorMsg}` : mainErrorMsg);\n    } finally {\n      console.log(`Setting loading to false for ${activeTab}.`);\n      setLoading(false);\n    }\n  }, [activeTab, user, apiUrl, programTypes.length, allOrganizations.length]);\n\n  // Первичная загрузка (без изменений)\n  useEffect(() => {\n    if (!user || user.role !== 1) {\n      navigate('/login');\n      return;\n    }\n    fetchData(true);\n  }, [user, navigate, fetchData]);\n\n  // --- Мемоизированные отсортированные списки (без изменений в логике сортировки) ---\n  const sortedPrograms = useMemo(() => {\n    let sortableItems = [...programs];\n    if (sortConfig.key) {\n      sortableItems.sort((a, b) => {\n        if (a[sortConfig.key] < b[sortConfig.key]) {\n          return sortConfig.direction === 'ascending' ? -1 : 1;\n        }\n        if (a[sortConfig.key] > b[sortConfig.key]) {\n          return sortConfig.direction === 'ascending' ? 1 : -1;\n        }\n        return 0;\n      });\n    }\n    return sortableItems;\n  }, [programs, sortConfig]);\n  const sortedOrganizations = useMemo(() => {\n    let sortableItems = [...organizations];\n    if (sortConfig.key) {\n      sortableItems.sort((a, b) => {\n        const valA = a[sortConfig.key];\n        const valB = b[sortConfig.key];\n        const compareResult = typeof valA === 'number' && typeof valB === 'number' ? valA - valB : String(valA).localeCompare(String(valB));\n        return sortConfig.direction === 'ascending' ? compareResult : -compareResult;\n      });\n    }\n    return sortableItems;\n  }, [organizations, sortConfig]);\n  const sortedKks = useMemo(() => {\n    let sortableItems = [...kks];\n    if (sortConfig.key) {\n      sortableItems.sort((a, b) => {\n        const valA = a[sortConfig.key];\n        const valB = b[sortConfig.key];\n        const compareResult = typeof valA === 'number' && typeof valB === 'number' ? valA - valB : String(valA).localeCompare(String(valB));\n        return sortConfig.direction === 'ascending' ? compareResult : -compareResult;\n      });\n    }\n    return sortableItems;\n  }, [kks, sortConfig]);\n  const sortedWorkers = useMemo(() => {\n    let sortableItems = [...workers];\n    if (sortConfig.key) {\n      sortableItems.sort((a, b) => {\n        const valA = a[sortConfig.key];\n        const valB = b[sortConfig.key];\n        if (sortConfig.key === 'Role' && typeof valA === 'number' && typeof valB === 'number') {\n          return sortConfig.direction === 'ascending' ? valA - valB : valB - valA;\n        }\n        if (sortConfig.key === 'FName_Worker') {\n          const nameA = String(valA !== null && valA !== void 0 ? valA : '').toLowerCase();\n          const nameB = String(valB !== null && valB !== void 0 ? valB : '').toLowerCase();\n          if (nameA < nameB) return sortConfig.direction === 'ascending' ? -1 : 1;\n          if (nameA > nameB) return sortConfig.direction === 'ascending' ? 1 : -1;\n          return 0;\n        }\n        const compareResult = typeof valA === 'number' && typeof valB === 'number' ? valA - valB : String(valA !== null && valA !== void 0 ? valA : '').localeCompare(String(valB !== null && valB !== void 0 ? valB : ''));\n        return sortConfig.direction === 'ascending' ? compareResult : -compareResult;\n      });\n    }\n    return sortableItems;\n  }, [workers, sortConfig]);\n\n  // --- Обработчики CRUD (без изменений в логике) ---\n  const handleEdit = item => {\n    console.log(\"Editing item:\", item);\n    setEditingItem(item);\n    setAddingItemType(null);\n  };\n  const handleCancel = () => {\n    setEditingItem(null);\n  };\n  const handleChangeInline = (field, value) => {\n    setEditingItem(prev => ({\n      ...prev,\n      [field]: value\n    }));\n  };\n  const handleSave = async editedData => {\n    const itemToSave = editedData || editingItem;\n    if (!itemToSave) return;\n    const idKey = getIdKeyForTab(activeTab);\n    const id = itemToSave[idKey];\n    if (id === undefined) {\n      console.error(\"Cannot save item without ID\", itemToSave);\n      setError(\"Не удалось определить ID для сохранения.\");\n      return;\n    }\n    console.log(`Saving edited item (ID: ${id}, Tab: ${activeTab}):`, itemToSave);\n    setLoading(true);\n    setError('');\n    try {\n      let endpoint;\n      switch (activeTab) {\n        case 'programs':\n          endpoint = `${apiUrl}/api/programs/${id}`;\n          break;\n        case 'organizations':\n          endpoint = `${apiUrl}/api/organizations/${id}`;\n          break;\n        case 'kks':\n          endpoint = `${apiUrl}/api/kks/${id}`;\n          break;\n        case 'workers':\n          endpoint = `${apiUrl}/api/workers/${id}`;\n          break;\n        // PUT /api/workers/:id (требуется на бэкенде)\n        default:\n          throw new Error(\"Неизвестная вкладка для сохранения\");\n      }\n      await axios.put(endpoint, itemToSave);\n      setEditingItem(null);\n      await fetchData();\n      console.log(`Item (ID: ${id}) saved successfully.`);\n    } catch (err) {\n      var _err$response, _err$response2, _err$response2$data;\n      console.error('Ошибка при сохранении изменений:', ((_err$response = err.response) === null || _err$response === void 0 ? void 0 : _err$response.data) || err.message || err);\n      setError(((_err$response2 = err.response) === null || _err$response2 === void 0 ? void 0 : (_err$response2$data = _err$response2.data) === null || _err$response2$data === void 0 ? void 0 : _err$response2$data.error) || 'Ошибка при сохранении данных');\n    } finally {\n      setLoading(false);\n    }\n  };\n  const handleShowAddForm = () => {\n    setAddingItemType(activeTab);\n    setEditingItem(null);\n  };\n  const handleCancelAdd = () => {\n    setAddingItemType(null);\n  };\n  const handleAddItem = async newItemData => {\n    const type = addingItemType;\n    if (!type) return;\n    console.log(`Adding new ${type}:`, newItemData);\n    setLoading(true);\n    setError('');\n    try {\n      let endpoint;\n      switch (type) {\n        case 'programs':\n          endpoint = `${apiUrl}/api/programs`;\n          break;\n        case 'organizations':\n          endpoint = `${apiUrl}/api/organizations`;\n          break;\n        case 'kks':\n          endpoint = `${apiUrl}/api/kks`;\n          break;\n        case 'workers':\n          endpoint = `${apiUrl}/api/workers`;\n          break;\n        // POST /api/workers (требуется на бэкенде)\n        default:\n          throw new Error(\"Неизвестный тип для добавления\");\n      }\n      await axios.post(endpoint, newItemData);\n      setAddingItemType(null);\n      await fetchData();\n      console.log(`Item of type ${type} added successfully.`);\n    } catch (err) {\n      var _err$response3, _err$response4, _err$response4$data;\n      console.error(`Ошибка при добавлении ${type}:`, ((_err$response3 = err.response) === null || _err$response3 === void 0 ? void 0 : _err$response3.data) || err.message || err);\n      setError(((_err$response4 = err.response) === null || _err$response4 === void 0 ? void 0 : (_err$response4$data = _err$response4.data) === null || _err$response4$data === void 0 ? void 0 : _err$response4$data.error) || `Ошибка при добавлении элемента`);\n    } finally {\n      setLoading(false);\n    }\n  };\n  const handleDelete = async idToDelete => {\n    if (!window.confirm('Вы уверены, что хотите удалить этот элемент?')) {\n      return;\n    }\n    const idKey = getIdKeyForTab(activeTab);\n    console.log(`Deleting item with ID: ${idToDelete} (Key: ${idKey}) on tab: ${activeTab}`);\n    setLoading(true);\n    setError('');\n    try {\n      let endpoint;\n      switch (activeTab) {\n        case 'programs':\n          endpoint = `${apiUrl}/api/programs/${idToDelete}`;\n          break;\n        case 'organizations':\n          endpoint = `${apiUrl}/api/organizations/${idToDelete}`;\n          break;\n        case 'kks':\n          endpoint = `${apiUrl}/api/kks/${idToDelete}`;\n          break;\n        case 'workers':\n          endpoint = `${apiUrl}/api/workers/${idToDelete}`;\n          break;\n        // DELETE /api/workers/:id (требуется на бэкенде)\n        default:\n          throw new Error(\"Неизвестная вкладка для удаления\");\n      }\n      await axios.delete(endpoint);\n      if (editingItem && editingItem[idKey] === idToDelete) {\n        setEditingItem(null);\n      }\n      await fetchData();\n      console.log(`Item (ID: ${idToDelete}) deleted successfully.`);\n    } catch (err) {\n      var _err$response5, _err$response6, _err$response6$data;\n      console.error(`Ошибка при удалении элемента (ID: ${idToDelete}):`, ((_err$response5 = err.response) === null || _err$response5 === void 0 ? void 0 : _err$response5.data) || err.message || err);\n      setError(((_err$response6 = err.response) === null || _err$response6 === void 0 ? void 0 : (_err$response6$data = _err$response6.data) === null || _err$response6$data === void 0 ? void 0 : _err$response6$data.error) || 'Ошибка при удалении элемента. Возможно, на него есть ссылки.');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // --- Вспомогательные функции рендеринга ---\n  const displayRole = roleValue => {\n    return roleValue === 1 ? 'Работник ЦДО (Админ)' : roleValue === 0 ? 'Работник ОУ' : 'Неизвестно';\n  };\n  // ИЗМЕНЕНО: Текст заголовка для ID колонки теперь '№'\n  const renderSortableHeader = (label, key) => /*#__PURE__*/_jsxDEV(\"th\", {\n    onClick: () => requestSort(key),\n    className: \"sortable-header\",\n    children: [label, sortConfig.key === key ? sortConfig.direction === 'ascending' ? ' ▲' : ' ▼' : ' ↕']\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 485,\n    columnNumber: 9\n  }, this);\n\n  // --- Основной рендеринг компонента ---\n  if (!user && loading) return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"loading\",\n    children: \"\\u041F\\u0440\\u043E\\u0432\\u0435\\u0440\\u043A\\u0430 \\u0430\\u0432\\u0442\\u043E\\u0440\\u0438\\u0437\\u0430\\u0446\\u0438\\u0438 \\u0438 \\u0437\\u0430\\u0433\\u0440\\u0443\\u0437\\u043A\\u0430 \\u0434\\u0430\\u043D\\u043D\\u044B\\u0445...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 492,\n    columnNumber: 34\n  }, this);\n  if (!user) return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"error\",\n    children: [\"\\u041D\\u0435 \\u0443\\u0434\\u0430\\u043B\\u043E\\u0441\\u044C \\u043F\\u043E\\u043B\\u0443\\u0447\\u0438\\u0442\\u044C \\u0434\\u0430\\u043D\\u043D\\u044B\\u0435 \\u043F\\u043E\\u043B\\u044C\\u0437\\u043E\\u0432\\u0430\\u0442\\u0435\\u043B\\u044F. \", /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: () => navigate('/login'),\n      children: \"\\u0412\\u043E\\u0439\\u0442\\u0438\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 493,\n      columnNumber: 87\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 493,\n    columnNumber: 23\n  }, this);\n  if (user.role !== 1) return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"error\",\n    children: \"\\u0414\\u043E\\u0441\\u0442\\u0443\\u043F \\u0437\\u0430\\u043F\\u0440\\u0435\\u0449\\u0435\\u043D.\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 494,\n    columnNumber: 33\n  }, this);\n  const showLoadingIndicator = loading && !error;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"admin-panel\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"admin-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"\\u041F\\u0430\\u043D\\u0435\\u043B\\u044C \\u0430\\u0434\\u043C\\u0438\\u043D\\u0438\\u0441\\u0442\\u0440\\u0430\\u0442\\u043E\\u0440\\u0430\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 501,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"header-buttons\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => navigate('/admin'),\n          className: \"back-button\",\n          children: \"\\u041D\\u0430\\u0437\\u0430\\u0434\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 503,\n          columnNumber: 20\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => {\n            localStorage.removeItem('user');\n            navigate('/login');\n          },\n          className: \"logout-button\",\n          children: \"\\u0412\\u044B\\u0439\\u0442\\u0438\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 504,\n          columnNumber: 20\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 502,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 500,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"admin-tabs\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        className: `tab-button ${activeTab === 'programs' ? 'active' : ''}`,\n        onClick: () => setActiveTab('programs'),\n        children: \"\\u041F\\u0440\\u043E\\u0433\\u0440\\u0430\\u043C\\u043C\\u044B\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 510,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: `tab-button ${activeTab === 'organizations' ? 'active' : ''}`,\n        onClick: () => setActiveTab('organizations'),\n        children: \"\\u041E\\u0440\\u0433\\u0430\\u043D\\u0438\\u0437\\u0430\\u0446\\u0438\\u0438\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 511,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: `tab-button ${activeTab === 'kks' ? 'active' : ''}`,\n        onClick: () => setActiveTab('kks'),\n        children: \"\\u041A\\u041A\\u0421\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 512,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: `tab-button ${activeTab === 'workers' ? 'active' : ''}`,\n        onClick: () => setActiveTab('workers'),\n        children: \"\\u0420\\u0430\\u0431\\u043E\\u0442\\u043D\\u0438\\u043A\\u0438\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 513,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 509,\n      columnNumber: 13\n    }, this), showLoadingIndicator && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"loading-inline\",\n      children: \"\\u041E\\u0431\\u043D\\u043E\\u0432\\u043B\\u0435\\u043D\\u0438\\u0435 \\u0434\\u0430\\u043D\\u043D\\u044B\\u0445...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 517,\n      columnNumber: 38\n    }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"error-inline\",\n      children: [error, \" \", /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setError(''),\n        title: \"\\u0417\\u0430\\u043A\\u0440\\u044B\\u0442\\u044C \\u043E\\u0448\\u0438\\u0431\\u043A\\u0443\",\n        children: \"\\xD7\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 518,\n        columnNumber: 61\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 518,\n      columnNumber: 23\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"admin-content\",\n      children: [(addingItemType === 'workers' || editingItem && activeTab === 'workers') && /*#__PURE__*/_jsxDEV(WorkerForm, {\n        initialData: editingItem || {},\n        onSave: editingItem ? handleSave : handleAddItem,\n        onCancel: editingItem ? handleCancel : handleCancelAdd,\n        isEditing: !!editingItem\n      }, editingItem ? editingItem.ID_Worker : 'add-worker', false, {\n        fileName: _jsxFileName,\n        lineNumber: 525,\n        columnNumber: 22\n      }, this), addingItemType && addingItemType !== 'workers' && /*#__PURE__*/_jsxDEV(AddItemForm, {\n        type: addingItemType,\n        onSave: handleAddItem,\n        onCancel: handleCancelAdd,\n        programTypes: programTypes,\n        allOrganizations: allOrganizations\n      }, `add-${addingItemType}`, false, {\n        fileName: _jsxFileName,\n        lineNumber: 534,\n        columnNumber: 21\n      }, this), !editingItem && !addingItemType && /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleShowAddForm,\n        className: \"add-button\",\n        children: \"\\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 544,\n        columnNumber: 21\n      }, this), activeTab === 'programs' && /*#__PURE__*/_jsxDEV(\"table\", {\n        className: \"admin-table\",\n        children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n          children: /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [renderSortableHeader('№', 'ID_ProgDPO'), renderSortableHeader('Название', 'Name_ProgDPO'), renderSortableHeader('Тип', 'Name_Type'), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"\\u0414\\u0435\\u0439\\u0441\\u0442\\u0432\\u0438\\u044F\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 562,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 557,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 556,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n          children: sortedPrograms.map((program, index) => /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: (editingItem === null || editingItem === void 0 ? void 0 : editingItem.ID_ProgDPO) === program.ID_ProgDPO ? /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                children: index + 1\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 572,\n                columnNumber: 45\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  value: editingItem.Name_ProgDPO,\n                  onChange: e => handleChangeInline('Name_ProgDPO', e.target.value)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 574,\n                  columnNumber: 49\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 573,\n                columnNumber: 45\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: program.Name_Type || 'N/A'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 580,\n                columnNumber: 45\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => handleSave(),\n                  children: \"\\u0421\\u043E\\u0445\\u0440\\u0430\\u043D\\u0438\\u0442\\u044C\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 582,\n                  columnNumber: 49\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: handleCancel,\n                  children: \"\\u041E\\u0442\\u043C\\u0435\\u043D\\u0430\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 583,\n                  columnNumber: 49\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 581,\n                columnNumber: 45\n              }, this)]\n            }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                children: index + 1\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 589,\n                columnNumber: 45\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: program.Name_ProgDPO\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 590,\n                columnNumber: 45\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: program.Name_Type || 'N/A'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 591,\n                columnNumber: 45\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"actions-cell\",\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => handleEdit(program),\n                  disabled: !!addingItemType || !!editingItem,\n                  children: \"\\u0420\\u0435\\u0434\\u0430\\u043A\\u0442.\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 593,\n                  columnNumber: 49\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => handleDelete(program.ID_ProgDPO),\n                  className: \"delete-button\",\n                  disabled: !!addingItemType || !!editingItem,\n                  children: \"\\u0423\\u0434\\u0430\\u043B\\u0438\\u0442\\u044C\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 594,\n                  columnNumber: 49\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 592,\n                columnNumber: 45\n              }, this)]\n            }, void 0, true)\n          }, program.ID_ProgDPO, false, {\n            fileName: _jsxFileName,\n            lineNumber: 568,\n            columnNumber: 33\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 565,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 555,\n        columnNumber: 21\n      }, this), activeTab === 'organizations' && /*#__PURE__*/_jsxDEV(\"table\", {\n        className: \"admin-table\",\n        children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n          children: /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [renderSortableHeader('№', 'ID_Org'), renderSortableHeader('Полное название', 'FName'), renderSortableHeader('Краткое название', 'SName'), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"\\u0414\\u0435\\u0439\\u0441\\u0442\\u0432\\u0438\\u044F\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 613,\n              columnNumber: 34\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 608,\n            columnNumber: 30\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 607,\n          columnNumber: 26\n        }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n          children: sortedOrganizations.map((org, index) => /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: (editingItem === null || editingItem === void 0 ? void 0 : editingItem.ID_Org) === org.ID_Org ? /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                children: index + 1\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 623,\n                columnNumber: 46\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  value: editingItem.FName,\n                  onChange: e => handleChangeInline('FName', e.target.value)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 624,\n                  columnNumber: 50\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 624,\n                columnNumber: 46\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  value: editingItem.SName,\n                  onChange: e => handleChangeInline('SName', e.target.value)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 625,\n                  columnNumber: 50\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 625,\n                columnNumber: 46\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: handleSave,\n                  children: \"\\u0421\\u043E\\u0445\\u0440\\u0430\\u043D\\u0438\\u0442\\u044C\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 627,\n                  columnNumber: 50\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: handleCancel,\n                  children: \"\\u041E\\u0442\\u043C\\u0435\\u043D\\u0430\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 628,\n                  columnNumber: 50\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 626,\n                columnNumber: 46\n              }, this)]\n            }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                children: index + 1\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 634,\n                columnNumber: 46\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: org.FName\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 635,\n                columnNumber: 46\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: org.SName\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 636,\n                columnNumber: 46\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"actions-cell\",\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => handleEdit(org),\n                  disabled: !!addingItemType || !!editingItem,\n                  children: \"\\u0420\\u0435\\u0434\\u0430\\u043A\\u0442.\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 638,\n                  columnNumber: 50\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => handleDelete(org.ID_Org),\n                  className: \"delete-button\",\n                  disabled: !!addingItemType || !!editingItem,\n                  children: \"\\u0423\\u0434\\u0430\\u043B\\u0438\\u0442\\u044C\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 639,\n                  columnNumber: 50\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 637,\n                columnNumber: 46\n              }, this)]\n            }, void 0, true)\n          }, org.ID_Org, false, {\n            fileName: _jsxFileName,\n            lineNumber: 619,\n            columnNumber: 34\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 616,\n          columnNumber: 26\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 606,\n        columnNumber: 22\n      }, this), activeTab === 'kks' && /*#__PURE__*/_jsxDEV(\"table\", {\n        className: \"admin-table\",\n        children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n          children: /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [renderSortableHeader('№', 'ID_KKS'), renderSortableHeader('Название', 'Name_KKS'), renderSortableHeader('Краткое обозначение', 'SName_KKS'), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"\\u0414\\u0435\\u0439\\u0441\\u0442\\u0432\\u0438\\u044F\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 658,\n              columnNumber: 34\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 653,\n            columnNumber: 30\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 652,\n          columnNumber: 26\n        }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n          children: sortedKks.map((kksItem, index) => /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: (editingItem === null || editingItem === void 0 ? void 0 : editingItem.ID_KKS) === kksItem.ID_KKS ? /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                children: index + 1\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 668,\n                columnNumber: 46\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  value: editingItem.Name_KKS,\n                  onChange: e => handleChangeInline('Name_KKS', e.target.value)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 669,\n                  columnNumber: 50\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 669,\n                columnNumber: 46\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  value: editingItem.SName_KKS,\n                  onChange: e => handleChangeInline('SName_KKS', e.target.value)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 670,\n                  columnNumber: 50\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 670,\n                columnNumber: 46\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: handleSave,\n                  children: \"\\u0421\\u043E\\u0445\\u0440\\u0430\\u043D\\u0438\\u0442\\u044C\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 672,\n                  columnNumber: 50\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: handleCancel,\n                  children: \"\\u041E\\u0442\\u043C\\u0435\\u043D\\u0430\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 673,\n                  columnNumber: 50\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 671,\n                columnNumber: 46\n              }, this)]\n            }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                children: index + 1\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 679,\n                columnNumber: 46\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: kksItem.Name_KKS\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 680,\n                columnNumber: 46\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: kksItem.SName_KKS\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 681,\n                columnNumber: 46\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"actions-cell\",\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => handleEdit(kksItem),\n                  disabled: !!addingItemType || !!editingItem,\n                  children: \"\\u0420\\u0435\\u0434\\u0430\\u043A\\u0442.\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 683,\n                  columnNumber: 50\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => handleDelete(kksItem.ID_KKS),\n                  className: \"delete-button\",\n                  disabled: !!addingItemType || !!editingItem,\n                  children: \"\\u0423\\u0434\\u0430\\u043B\\u0438\\u0442\\u044C\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 684,\n                  columnNumber: 50\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 682,\n                columnNumber: 46\n              }, this)]\n            }, void 0, true)\n          }, kksItem.ID_KKS, false, {\n            fileName: _jsxFileName,\n            lineNumber: 664,\n            columnNumber: 34\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 661,\n          columnNumber: 26\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 651,\n        columnNumber: 22\n      }, this), activeTab === 'workers' && /*#__PURE__*/_jsxDEV(\"table\", {\n        className: \"admin-table\",\n        children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n          children: /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [renderSortableHeader('№', 'ID_Worker'), renderSortableHeader('Логин', 'Login'), renderSortableHeader('ФИО Работника', 'FName_Worker'), renderSortableHeader('Роль', 'Role'), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"\\u0414\\u0435\\u0439\\u0441\\u0442\\u0432\\u0438\\u044F\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 704,\n              columnNumber: 34\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 698,\n            columnNumber: 30\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 697,\n          columnNumber: 26\n        }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n          children: sortedWorkers.map((w, index) => /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              children: index + 1\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 712,\n              columnNumber: 38\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: w.Login\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 713,\n              columnNumber: 38\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: w.FName_Worker\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 714,\n              columnNumber: 38\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: displayRole(w.Role)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 715,\n              columnNumber: 38\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"actions-cell\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => handleEdit(w),\n                disabled: !!addingItemType || !!editingItem,\n                children: \"\\u0420\\u0435\\u0434\\u0430\\u043A\\u0442.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 717,\n                columnNumber: 42\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => handleDelete(w.ID_Worker),\n                className: \"delete-button\",\n                disabled: !!addingItemType || !!editingItem,\n                children: \"\\u0423\\u0434\\u0430\\u043B\\u0438\\u0442\\u044C\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 718,\n                columnNumber: 42\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 716,\n              columnNumber: 38\n            }, this)]\n          }, w.ID_Worker, true, {\n            fileName: _jsxFileName,\n            lineNumber: 710,\n            columnNumber: 34\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 707,\n          columnNumber: 26\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 696,\n        columnNumber: 22\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 521,\n      columnNumber: 13\n    }, this), \" \"]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 498,\n    columnNumber: 9\n  }, this) // admin-panel\n  ;\n}\n_s3(AdminPanel, \"o9xtxImxGD2n1n0cqCL+JV0Ze/U=\", false, function () {\n  return [useNavigate];\n});\n_c3 = AdminPanel;\nexport default AdminPanel;\nvar _c, _c2, _c3;\n$RefreshReg$(_c, \"AddItemForm\");\n$RefreshReg$(_c2, \"WorkerForm\");\n$RefreshReg$(_c3, \"AdminPanel\");","map":{"version":3,"names":["React","useState","useEffect","useMemo","useCallback","axios","useNavigate","jsxDEV","_jsxDEV","Fragment","_Fragment","AddItemForm","type","onSave","onCancel","programTypes","allOrganizations","_s","newItem","setNewItem","handleChange","field","value","prev","handleSubmit","e","preventDefault","handleCancel","onSubmit","className","children","fileName","_jsxFileName","lineNumber","columnNumber","placeholder","required","Name_ProgDPO","onChange","target","id_type","disabled","map","pt","Name_Type","ID_Org","org","FName","onClick","SName","Name_KKS","SName_KKS","_c","WorkerForm","initialData","isEditing","_s2","workerData","setWorkerData","newPassword","setNewPassword","Role","undefined","handlePasswordChange","dataToSend","Password","alert","handleCancelClick","ID_Worker","FName_Worker","Login","parseInt","_c2","AdminPanel","_s3","activeTab","setActiveTab","programs","setPrograms","organizations","setOrganizations","kks","setKks","workers","setWorkers","loading","setLoading","error","setError","editingItem","setEditingItem","addingItemType","setAddingItemType","setProgramTypes","setAllOrganizations","sortConfig","setSortConfig","key","direction","navigate","apiUrl","process","env","REACT_APP_API_URL","user","storedUser","localStorage","getItem","JSON","parse","console","removeItem","requestSort","getIdKeyForTab","tab","idKey","fetchData","forceAux","role","warn","log","length","endpoints","typesRes","orgsRes","Promise","all","url","get","data","err","auxErrorMsg","response","endpoint","status","message","mainErrorMsg","sortedPrograms","sortableItems","sort","a","b","sortedOrganizations","valA","valB","compareResult","String","localeCompare","sortedKks","sortedWorkers","nameA","toLowerCase","nameB","handleEdit","item","handleChangeInline","handleSave","editedData","itemToSave","id","Error","put","_err$response","_err$response2","_err$response2$data","handleShowAddForm","handleCancelAdd","handleAddItem","newItemData","post","_err$response3","_err$response4","_err$response4$data","handleDelete","idToDelete","window","confirm","delete","_err$response5","_err$response6","_err$response6$data","displayRole","roleValue","renderSortableHeader","label","showLoadingIndicator","title","program","index","ID_ProgDPO","kksItem","ID_KKS","w","_c3","$RefreshReg$"],"sources":["D:/Amina/VScode/FQW_new/src/components/AdminPanel.js"],"sourcesContent":["import React, { useState, useEffect, useMemo, useCallback } from 'react';\r\nimport axios from 'axios';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport './AdminPanel.css';\r\n\r\n// --- Компонент AddItemForm (БЕЗ ИЗМЕНЕНИЙ) ---\r\nconst AddItemForm = ({ type, onSave, onCancel, programTypes = [], allOrganizations = [] }) => {\r\n    const [newItem, setNewItem] = useState({});\r\n\r\n    useEffect(() => {\r\n        setNewItem({}); // Сброс формы при изменении типа\r\n    }, [type]);\r\n\r\n    const handleChange = (field, value) => {\r\n        setNewItem(prev => ({ ...prev, [field]: value }));\r\n    };\r\n\r\n    const handleSubmit = (e) => {\r\n        e.preventDefault();\r\n        onSave(newItem);\r\n        setNewItem({});\r\n    };\r\n\r\n    const handleCancel = (e) => {\r\n        e.preventDefault();\r\n        setNewItem({});\r\n        onCancel();\r\n    };\r\n\r\n    // Форма для Программ\r\n    if (type === 'programs') {\r\n        return (\r\n            <form onSubmit={handleSubmit} className=\"add-form\">\r\n                <h4>Добавить программу</h4>\r\n                <input\r\n                    type=\"text\" placeholder=\"Название программы\" required\r\n                    value={newItem.Name_ProgDPO || ''}\r\n                    onChange={(e) => handleChange('Name_ProgDPO', e.target.value)} />\r\n                <select required value={newItem.id_type || ''} onChange={(e) => handleChange('id_type', e.target.value)}>\r\n                    <option value=\"\" disabled>Выберите тип</option>\r\n                    {programTypes.map(pt => <option key={pt.id_type} value={pt.id_type}>{pt.Name_Type}</option>)}\r\n                </select>\r\n                <select required value={newItem.ID_Org || ''} onChange={(e) => handleChange('ID_Org', e.target.value)}>\r\n                    <option value=\"\" disabled>Выберите организацию</option>\r\n                    {allOrganizations.map(org => <option key={org.ID_Org} value={org.ID_Org}>{org.FName}</option>)}\r\n                </select>\r\n                <div className=\"form-actions\">\r\n                    <button type=\"submit\">Сохранить</button>\r\n                    <button type=\"button\" onClick={handleCancel}>Отмена</button>\r\n                </div>\r\n            </form>\r\n        );\r\n    }\r\n\r\n    // Форма для Организаций\r\n    if (type === 'organizations') {\r\n       return (\r\n            <form onSubmit={handleSubmit} className=\"add-form\">\r\n                <h4>Добавить организацию</h4>\r\n                <input\r\n                    type=\"text\" placeholder=\"Полное название\" required\r\n                    value={newItem.FName || ''}\r\n                    onChange={(e) => handleChange('FName', e.target.value)} />\r\n                 <input\r\n                    type=\"text\" placeholder=\"Краткое название\" required\r\n                    value={newItem.SName || ''}\r\n                    onChange={(e) => handleChange('SName', e.target.value)} />\r\n                 <div className=\"form-actions\">\r\n                    <button type=\"submit\">Сохранить</button>\r\n                    <button type=\"button\" onClick={handleCancel}>Отмена</button>\r\n                 </div>\r\n            </form>\r\n        );\r\n    }\r\n\r\n     // Форма для KKS\r\n     if (type === 'kks') {\r\n        return (\r\n            <form onSubmit={handleSubmit} className=\"add-form\">\r\n                <h4>Добавить KKS</h4>\r\n                <input\r\n                    type=\"text\" placeholder=\"Название KKS\" required\r\n                    value={newItem.Name_KKS || ''}\r\n                    onChange={(e) => handleChange('Name_KKS', e.target.value)} />\r\n                 <input\r\n                    type=\"text\" placeholder=\"Краткое обозначение\"\r\n                    value={newItem.SName_KKS || ''}\r\n                    onChange={(e) => handleChange('SName_KKS', e.target.value)} />\r\n                 <div className=\"form-actions\">\r\n                    <button type=\"submit\">Сохранить</button>\r\n                    <button type=\"button\" onClick={handleCancel}>Отмена</button>\r\n                 </div>\r\n            </form>\r\n        );\r\n    }\r\n\r\n    return null;\r\n};\r\n\r\n// --- Компонент WorkerForm (БЕЗ ИЗМЕНЕНИЙ) ---\r\nconst WorkerForm = ({ initialData = {}, onSave, onCancel, isEditing = false }) => {\r\n    const [workerData, setWorkerData] = useState(initialData);\r\n    const [newPassword, setNewPassword] = useState('');\r\n\r\n    useEffect(() => {\r\n        setWorkerData({\r\n            ...initialData,\r\n            Role: initialData.Role !== undefined ? initialData.Role : ''\r\n        });\r\n        setNewPassword('');\r\n    }, [initialData]);\r\n\r\n    const handleChange = (field, value) => {\r\n        setWorkerData(prev => ({ ...prev, [field]: value }));\r\n    };\r\n\r\n    const handlePasswordChange = (e) => {\r\n        setNewPassword(e.target.value);\r\n    };\r\n\r\n    const handleSubmit = (e) => {\r\n        e.preventDefault();\r\n        const dataToSend = { ...workerData };\r\n        if (newPassword) {\r\n            dataToSend.Password = newPassword;\r\n        } else if (!isEditing) {\r\n            alert('Пароль обязателен при создании пользователя.');\r\n            return;\r\n        }\r\n        onSave(dataToSend);\r\n    };\r\n\r\n    const handleCancelClick = (e) => {\r\n        e.preventDefault();\r\n        onCancel();\r\n    };\r\n\r\n    return (\r\n        <form onSubmit={handleSubmit} className=\"add-form user-form\">\r\n            <h4>{isEditing ? `Редактировать работника (ID: ${workerData.ID_Worker})` : 'Добавить работника'}</h4>\r\n             <input\r\n                type=\"text\" placeholder=\"ФИО Работника\" required\r\n                value={workerData.FName_Worker || ''}\r\n                onChange={(e) => handleChange('FName_Worker', e.target.value)} />\r\n            <input\r\n                type=\"text\" placeholder=\"Логин\" required\r\n                value={workerData.Login || ''}\r\n                onChange={(e) => handleChange('Login', e.target.value)} />\r\n            <input\r\n                type=\"password\"\r\n                placeholder={isEditing ? 'Новый пароль (оставьте пустым, чтобы не менять)' : 'Пароль'}\r\n                value={newPassword}\r\n                onChange={handlePasswordChange}\r\n                required={!isEditing}\r\n            />\r\n            <select required value={workerData.Role} onChange={(e) => handleChange('Role', parseInt(e.target.value, 10))}>\r\n                <option value=\"\" disabled>Выберите роль</option>\r\n                <option value={0}>Работник ОУ</option>\r\n                <option value={1}>Работник ЦДО (Админ)</option>\r\n            </select>\r\n            <div className=\"form-actions\">\r\n               <button type=\"submit\">Сохранить</button>\r\n               <button type=\"button\" onClick={handleCancelClick}>Отмена</button>\r\n            </div>\r\n        </form>\r\n    );\r\n};\r\n\r\n\r\n// --- Основной компонент AdminPanel ---\r\nfunction AdminPanel() {\r\n    // Состояния (без изменений)\r\n    const [activeTab, setActiveTab] = useState('programs');\r\n    const [programs, setPrograms] = useState([]);\r\n    const [organizations, setOrganizations] = useState([]);\r\n    const [kks, setKks] = useState([]);\r\n    const [workers, setWorkers] = useState([]);\r\n    const [loading, setLoading] = useState(true);\r\n    const [error, setError] = useState('');\r\n    const [editingItem, setEditingItem] = useState(null);\r\n    const [addingItemType, setAddingItemType] = useState(null);\r\n    const [programTypes, setProgramTypes] = useState([]);\r\n    const [allOrganizations, setAllOrganizations] = useState([]);\r\n    const [sortConfig, setSortConfig] = useState({ key: null, direction: 'ascending' });\r\n\r\n    // Хуки (без изменений)\r\n    const navigate = useNavigate();\r\n    const apiUrl = process.env.REACT_APP_API_URL;\r\n\r\n    // Получение пользователя (без изменений)\r\n    const user = useMemo(() => {\r\n        const storedUser = localStorage.getItem('user');\r\n        try {\r\n            return storedUser ? JSON.parse(storedUser) : null;\r\n        } catch (e) {\r\n            console.error(\"Failed to parse user from localStorage\", e);\r\n            localStorage.removeItem('user');\r\n            return null;\r\n        }\r\n    }, []);\r\n\r\n    // --- Сортировка (без изменений) ---\r\n    const requestSort = (key) => {\r\n        let direction = 'ascending';\r\n        if (sortConfig.key === key && sortConfig.direction === 'ascending') {\r\n            direction = 'descending';\r\n        }\r\n        setSortConfig({ key, direction });\r\n    };\r\n    const getIdKeyForTab = (tab) => {\r\n        switch (tab) {\r\n            case 'programs': return 'ID_ProgDPO';\r\n            case 'organizations': return 'ID_Org';\r\n            case 'kks': return 'ID_KKS';\r\n            case 'workers': return 'ID_Worker';\r\n            default: return null;\r\n        }\r\n    };\r\n    useEffect(() => {\r\n        const idKey = getIdKeyForTab(activeTab);\r\n        if (idKey) {\r\n            setSortConfig({ key: idKey, direction: 'ascending' }); // Сортируем по ID по умолчанию\r\n        } else {\r\n            setSortConfig({ key: null, direction: 'ascending' });\r\n        }\r\n        setEditingItem(null);\r\n        setAddingItemType(null);\r\n    }, [activeTab]);\r\n\r\n    // --- Загрузка данных (без изменений) ---\r\n    const fetchData = useCallback(async (forceAux = false) => {\r\n        if (!user || user.role !== 1) {\r\n            console.warn(\"fetchData called without admin user, aborting.\");\r\n            setLoading(false);\r\n            setError(\"Доступ запрещен. Требуются права администратора.\");\r\n            return;\r\n        }\r\n        setLoading(true);\r\n        setError('');\r\n        console.log(`Workspaceing data. Active tab: ${activeTab}`);\r\n        if (forceAux || programTypes.length === 0 || allOrganizations.length === 0) {\r\n            try {\r\n                console.log(\"Fetching auxiliary data (types, all orgs)...\");\r\n                const endpoints = [\r\n                    `${apiUrl}/api/program-types`,\r\n                    `${apiUrl}/api/organizations`,\r\n                ];\r\n                const [typesRes, orgsRes] = await Promise.all(\r\n                    endpoints.map(url => axios.get(url))\r\n                );\r\n                setProgramTypes(typesRes.data || []);\r\n                setAllOrganizations(orgsRes.data || []);\r\n                console.log(\"Auxiliary data fetched.\");\r\n            } catch (err) {\r\n                console.error('Error fetching auxiliary data:', err);\r\n                const auxErrorMsg = 'Ошибка загрузки вспомогательных данных (типы, организации).';\r\n                setError(prev => prev ? `${prev}\\n${auxErrorMsg}` : auxErrorMsg);\r\n            }\r\n        }\r\n        try {\r\n            let response;\r\n            let endpoint;\r\n            switch (activeTab) {\r\n                case 'programs': endpoint = `${apiUrl}/api/programs`; break;\r\n                case 'organizations': endpoint = `${apiUrl}/api/organizations`; break;\r\n                case 'kks': endpoint = `${apiUrl}/api/kks`; break;\r\n                case 'workers': endpoint = `${apiUrl}/api/workers-admin`; break;\r\n                default:\r\n                    console.warn(`Unknown activeTab: ${activeTab}`);\r\n                    setLoading(false);\r\n                    return;\r\n            }\r\n            console.log(`Attempting to fetch ${endpoint}...`);\r\n            response = await axios.get(endpoint);\r\n            console.log(`Received response from ${endpoint}`, response.status);\r\n            switch (activeTab) {\r\n                case 'programs': setPrograms(response.data || []); break;\r\n                case 'organizations': setOrganizations(response.data || []); setAllOrganizations(response.data || []); break;\r\n                case 'kks': setKks(response.data || []); break;\r\n                case 'workers': setWorkers(response.data || []); break;\r\n            }\r\n        } catch (err) {\r\n            console.error(`Error fetching ${activeTab}:`, err.response || err.message || err);\r\n            const mainErrorMsg = `Ошибка загрузки данных для вкладки \"${activeTab}\".`;\r\n            setError(prev => prev ? `${prev}\\n${mainErrorMsg}` : mainErrorMsg);\r\n        } finally {\r\n            console.log(`Setting loading to false for ${activeTab}.`);\r\n            setLoading(false);\r\n        }\r\n    }, [activeTab, user, apiUrl, programTypes.length, allOrganizations.length]);\r\n\r\n    // Первичная загрузка (без изменений)\r\n    useEffect(() => {\r\n        if (!user || user.role !== 1) {\r\n            navigate('/login');\r\n            return;\r\n        }\r\n        fetchData(true);\r\n    }, [user, navigate, fetchData]);\r\n\r\n    // --- Мемоизированные отсортированные списки (без изменений в логике сортировки) ---\r\n    const sortedPrograms = useMemo(() => {\r\n       let sortableItems = [...programs];\r\n       if (sortConfig.key) {\r\n           sortableItems.sort((a, b) => {\r\n               if (a[sortConfig.key] < b[sortConfig.key]) {\r\n                   return sortConfig.direction === 'ascending' ? -1 : 1;\r\n               }\r\n               if (a[sortConfig.key] > b[sortConfig.key]) {\r\n                   return sortConfig.direction === 'ascending' ? 1 : -1;\r\n               }\r\n               return 0;\r\n           });\r\n       }\r\n       return sortableItems;\r\n    }, [programs, sortConfig]);\r\n    const sortedOrganizations = useMemo(() => {\r\n       let sortableItems = [...organizations];\r\n       if (sortConfig.key) {\r\n           sortableItems.sort((a, b) => {\r\n               const valA = a[sortConfig.key];\r\n               const valB = b[sortConfig.key];\r\n               const compareResult = typeof valA === 'number' && typeof valB === 'number'\r\n                   ? valA - valB\r\n                   : String(valA).localeCompare(String(valB));\r\n               return sortConfig.direction === 'ascending' ? compareResult : -compareResult;\r\n           });\r\n       }\r\n       return sortableItems;\r\n    }, [organizations, sortConfig]);\r\n    const sortedKks = useMemo(() => {\r\n       let sortableItems = [...kks];\r\n       if (sortConfig.key) {\r\n           sortableItems.sort((a, b) => {\r\n               const valA = a[sortConfig.key];\r\n               const valB = b[sortConfig.key];\r\n               const compareResult = typeof valA === 'number' && typeof valB === 'number'\r\n                   ? valA - valB\r\n                   : String(valA).localeCompare(String(valB));\r\n               return sortConfig.direction === 'ascending' ? compareResult : -compareResult;\r\n           });\r\n       }\r\n       return sortableItems;\r\n    }, [kks, sortConfig]);\r\n    const sortedWorkers = useMemo(() => {\r\n        let sortableItems = [...workers];\r\n        if (sortConfig.key) {\r\n            sortableItems.sort((a, b) => {\r\n                const valA = a[sortConfig.key];\r\n                const valB = b[sortConfig.key];\r\n                if (sortConfig.key === 'Role' && typeof valA === 'number' && typeof valB === 'number') {\r\n                    return sortConfig.direction === 'ascending' ? valA - valB : valB - valA;\r\n                }\r\n                if (sortConfig.key === 'FName_Worker') {\r\n                    const nameA = String(valA ?? '').toLowerCase();\r\n                    const nameB = String(valB ?? '').toLowerCase();\r\n                    if (nameA < nameB) return sortConfig.direction === 'ascending' ? -1 : 1;\r\n                    if (nameA > nameB) return sortConfig.direction === 'ascending' ? 1 : -1;\r\n                    return 0;\r\n                }\r\n                const compareResult = typeof valA === 'number' && typeof valB === 'number'\r\n                    ? valA - valB\r\n                    : String(valA ?? '').localeCompare(String(valB ?? ''));\r\n                return sortConfig.direction === 'ascending' ? compareResult : -compareResult;\r\n            });\r\n        }\r\n        return sortableItems;\r\n    }, [workers, sortConfig]);\r\n\r\n    // --- Обработчики CRUD (без изменений в логике) ---\r\n    const handleEdit = (item) => {\r\n        console.log(\"Editing item:\", item);\r\n        setEditingItem(item);\r\n        setAddingItemType(null);\r\n    };\r\n    const handleCancel = () => {\r\n        setEditingItem(null);\r\n    };\r\n    const handleChangeInline = (field, value) => {\r\n        setEditingItem(prev => ({ ...prev, [field]: value }));\r\n    };\r\n    const handleSave = async (editedData) => {\r\n        const itemToSave = editedData || editingItem;\r\n        if (!itemToSave) return;\r\n        const idKey = getIdKeyForTab(activeTab);\r\n        const id = itemToSave[idKey];\r\n        if (id === undefined) {\r\n            console.error(\"Cannot save item without ID\", itemToSave);\r\n            setError(\"Не удалось определить ID для сохранения.\");\r\n            return;\r\n        }\r\n        console.log(`Saving edited item (ID: ${id}, Tab: ${activeTab}):`, itemToSave);\r\n        setLoading(true);\r\n        setError('');\r\n        try {\r\n            let endpoint;\r\n            switch (activeTab) {\r\n                case 'programs': endpoint = `${apiUrl}/api/programs/${id}`; break;\r\n                case 'organizations': endpoint = `${apiUrl}/api/organizations/${id}`; break;\r\n                case 'kks': endpoint = `${apiUrl}/api/kks/${id}`; break;\r\n                case 'workers': endpoint = `${apiUrl}/api/workers/${id}`; break; // PUT /api/workers/:id (требуется на бэкенде)\r\n                default: throw new Error(\"Неизвестная вкладка для сохранения\");\r\n            }\r\n            await axios.put(endpoint, itemToSave);\r\n            setEditingItem(null);\r\n            await fetchData();\r\n            console.log(`Item (ID: ${id}) saved successfully.`);\r\n        } catch (err) {\r\n            console.error('Ошибка при сохранении изменений:', err.response?.data || err.message || err);\r\n            setError(err.response?.data?.error || 'Ошибка при сохранении данных');\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n    const handleShowAddForm = () => {\r\n        setAddingItemType(activeTab);\r\n        setEditingItem(null);\r\n    };\r\n    const handleCancelAdd = () => {\r\n        setAddingItemType(null);\r\n    };\r\n    const handleAddItem = async (newItemData) => {\r\n        const type = addingItemType;\r\n        if (!type) return;\r\n        console.log(`Adding new ${type}:`, newItemData);\r\n        setLoading(true);\r\n        setError('');\r\n        try {\r\n            let endpoint;\r\n            switch (type) {\r\n                case 'programs': endpoint = `${apiUrl}/api/programs`; break;\r\n                case 'organizations': endpoint = `${apiUrl}/api/organizations`; break;\r\n                case 'kks': endpoint = `${apiUrl}/api/kks`; break;\r\n                case 'workers': endpoint = `${apiUrl}/api/workers`; break; // POST /api/workers (требуется на бэкенде)\r\n                default: throw new Error(\"Неизвестный тип для добавления\");\r\n            }\r\n            await axios.post(endpoint, newItemData);\r\n            setAddingItemType(null);\r\n            await fetchData();\r\n            console.log(`Item of type ${type} added successfully.`);\r\n        } catch (err) {\r\n            console.error(`Ошибка при добавлении ${type}:`, err.response?.data || err.message || err);\r\n            setError(err.response?.data?.error || `Ошибка при добавлении элемента`);\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n    const handleDelete = async (idToDelete) => {\r\n        if (!window.confirm('Вы уверены, что хотите удалить этот элемент?')) {\r\n            return;\r\n        }\r\n        const idKey = getIdKeyForTab(activeTab);\r\n        console.log(`Deleting item with ID: ${idToDelete} (Key: ${idKey}) on tab: ${activeTab}`);\r\n        setLoading(true);\r\n        setError('');\r\n        try {\r\n            let endpoint;\r\n            switch (activeTab) {\r\n                case 'programs': endpoint = `${apiUrl}/api/programs/${idToDelete}`; break;\r\n                case 'organizations': endpoint = `${apiUrl}/api/organizations/${idToDelete}`; break;\r\n                case 'kks': endpoint = `${apiUrl}/api/kks/${idToDelete}`; break;\r\n                case 'workers': endpoint = `${apiUrl}/api/workers/${idToDelete}`; break; // DELETE /api/workers/:id (требуется на бэкенде)\r\n                default: throw new Error(\"Неизвестная вкладка для удаления\");\r\n            }\r\n            await axios.delete(endpoint);\r\n            if (editingItem && editingItem[idKey] === idToDelete) {\r\n                setEditingItem(null);\r\n            }\r\n            await fetchData();\r\n            console.log(`Item (ID: ${idToDelete}) deleted successfully.`);\r\n        } catch (err) {\r\n            console.error(`Ошибка при удалении элемента (ID: ${idToDelete}):`, err.response?.data || err.message || err);\r\n            setError(err.response?.data?.error || 'Ошибка при удалении элемента. Возможно, на него есть ссылки.');\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    // --- Вспомогательные функции рендеринга ---\r\n    const displayRole = (roleValue) => {\r\n        return roleValue === 1 ? 'Работник ЦДО (Админ)' : roleValue === 0 ? 'Работник ОУ' : 'Неизвестно';\r\n    };\r\n    // ИЗМЕНЕНО: Текст заголовка для ID колонки теперь '№'\r\n    const renderSortableHeader = (label, key) => (\r\n        <th onClick={() => requestSort(key)} className=\"sortable-header\">\r\n            {label}\r\n            {sortConfig.key === key ? (sortConfig.direction === 'ascending' ? ' ▲' : ' ▼') : ' ↕'}\r\n        </th>\r\n    );\r\n\r\n    // --- Основной рендеринг компонента ---\r\n    if (!user && loading) return <div className=\"loading\">Проверка авторизации и загрузка данных...</div>;\r\n    if (!user) return <div className=\"error\">Не удалось получить данные пользователя. <button onClick={() => navigate('/login')}>Войти</button></div>;\r\n    if (user.role !== 1) return <div className=\"error\">Доступ запрещен.</div>;\r\n    const showLoadingIndicator = loading && !error;\r\n\r\n    return (\r\n        <div className=\"admin-panel\">\r\n            {/* Шапка (без изменений) */}\r\n            <div className=\"admin-header\">\r\n                <h1>Панель администратора</h1>\r\n                <div className=\"header-buttons\">\r\n                   <button onClick={() => navigate('/admin')} className=\"back-button\">Назад</button>\r\n                   <button onClick={() => { localStorage.removeItem('user'); navigate('/login'); }} className=\"logout-button\">Выйти</button>\r\n                </div>\r\n            </div>\r\n\r\n            {/* Вкладки (без изменений) */}\r\n            <div className=\"admin-tabs\">\r\n                <button className={`tab-button ${activeTab === 'programs' ? 'active' : ''}`} onClick={() => setActiveTab('programs')}>Программы</button>\r\n                <button className={`tab-button ${activeTab === 'organizations' ? 'active' : ''}`} onClick={() => setActiveTab('organizations')}>Организации</button>\r\n                <button className={`tab-button ${activeTab === 'kks' ? 'active' : ''}`} onClick={() => setActiveTab('kks')}>ККС</button>\r\n                <button className={`tab-button ${activeTab === 'workers' ? 'active' : ''}`} onClick={() => setActiveTab('workers')}>Работники</button>\r\n            </div>\r\n\r\n            {/* Индикатор загрузки и ошибки (без изменений) */}\r\n            {showLoadingIndicator && <div className=\"loading-inline\">Обновление данных...</div>}\r\n            {error && <div className=\"error-inline\">{error} <button onClick={() => setError('')} title=\"Закрыть ошибку\">×</button></div>}\r\n\r\n            {/* Основной контент */}\r\n            <div className=\"admin-content\">\r\n\r\n                 {/* Формы добавления/редактирования (без изменений) */}\r\n                 {(addingItemType === 'workers' || (editingItem && activeTab === 'workers')) && (\r\n                     <WorkerForm\r\n                         key={editingItem ? editingItem.ID_Worker : 'add-worker'}\r\n                         initialData={editingItem || {}}\r\n                         onSave={editingItem ? handleSave : handleAddItem}\r\n                         onCancel={editingItem ? handleCancel : handleCancelAdd}\r\n                         isEditing={!!editingItem}\r\n                     />\r\n                 )}\r\n                {addingItemType && addingItemType !== 'workers' && (\r\n                    <AddItemForm\r\n                        key={`add-${addingItemType}`}\r\n                        type={addingItemType}\r\n                        onSave={handleAddItem}\r\n                        onCancel={handleCancelAdd}\r\n                        programTypes={programTypes}\r\n                        allOrganizations={allOrganizations}\r\n                    />\r\n                 )}\r\n                {!editingItem && !addingItemType && (\r\n                    <button onClick={handleShowAddForm} className=\"add-button\">\r\n                        Добавить { /* ... текст кнопки ... */ }\r\n                    </button>\r\n                )}\r\n\r\n                {/* ====================================================== */}\r\n                {/* Таблицы с измененным отображением порядкового номера */}\r\n                {/* ====================================================== */}\r\n\r\n                {/* Таблица Программ */}\r\n                {activeTab === 'programs' && (\r\n                    <table className=\"admin-table\">\r\n                        <thead>\r\n                            <tr>\r\n                                {/* ИЗМЕНЕНО: Заголовок '№', сортировка по 'ID_ProgDPO' */}\r\n                                {renderSortableHeader('№', 'ID_ProgDPO')}\r\n                                {renderSortableHeader('Название', 'Name_ProgDPO')}\r\n                                {renderSortableHeader('Тип', 'Name_Type')}\r\n                                <th>Действия</th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                             {/* ИЗМЕНЕНО: Добавлен 'index' в map */}\r\n                            {sortedPrograms.map((program, index) => (\r\n                                <tr key={program.ID_ProgDPO}>\r\n                                    {editingItem?.ID_ProgDPO === program.ID_ProgDPO ? (\r\n                                        <>\r\n                                            {/* ИЗМЕНЕНО: Отображаем index + 1 */}\r\n                                            <td>{index + 1}</td>\r\n                                            <td>\r\n                                                <input\r\n                                                    type=\"text\"\r\n                                                    value={editingItem.Name_ProgDPO}\r\n                                                    onChange={(e) => handleChangeInline('Name_ProgDPO', e.target.value)}\r\n                                                />\r\n                                            </td>\r\n                                            <td>{program.Name_Type || 'N/A'}</td>\r\n                                            <td>\r\n                                                <button onClick={() => handleSave()}>Сохранить</button>\r\n                                                <button onClick={handleCancel}>Отмена</button>\r\n                                            </td>\r\n                                        </>\r\n                                    ) : (\r\n                                        <>\r\n                                             {/* ИЗМЕНЕНО: Отображаем index + 1 */}\r\n                                            <td>{index + 1}</td>\r\n                                            <td>{program.Name_ProgDPO}</td>\r\n                                            <td>{program.Name_Type || 'N/A'}</td>\r\n                                            <td className=\"actions-cell\">\r\n                                                <button onClick={() => handleEdit(program)} disabled={!!addingItemType || !!editingItem}>Редакт.</button>\r\n                                                <button onClick={() => handleDelete(program.ID_ProgDPO)} className=\"delete-button\" disabled={!!addingItemType || !!editingItem}>Удалить</button>\r\n                                            </td>\r\n                                        </>\r\n                                    )}\r\n                                </tr>\r\n                            ))}\r\n                        </tbody>\r\n                    </table>\r\n                )}\r\n\r\n                 {/* Таблица Организаций */}\r\n                 {activeTab === 'organizations' && (\r\n                     <table className=\"admin-table\">\r\n                         <thead>\r\n                             <tr>\r\n                                 {/* ИЗМЕНЕНО: Заголовок '№', сортировка по 'ID_Org' */}\r\n                                 {renderSortableHeader('№', 'ID_Org')}\r\n                                 {renderSortableHeader('Полное название', 'FName')}\r\n                                 {renderSortableHeader('Краткое название', 'SName')}\r\n                                 <th>Действия</th>\r\n                             </tr>\r\n                         </thead>\r\n                         <tbody>\r\n                              {/* ИЗМЕНЕНО: Добавлен 'index' в map */}\r\n                             {sortedOrganizations.map((org, index) => (\r\n                                 <tr key={org.ID_Org}>\r\n                                     {editingItem?.ID_Org === org.ID_Org ? (\r\n                                         <>\r\n                                              {/* ИЗМЕНЕНО: Отображаем index + 1 */}\r\n                                             <td>{index + 1}</td>\r\n                                             <td><input type=\"text\" value={editingItem.FName} onChange={(e) => handleChangeInline('FName', e.target.value)} /></td>\r\n                                             <td><input type=\"text\" value={editingItem.SName} onChange={(e) => handleChangeInline('SName', e.target.value)} /></td>\r\n                                             <td>\r\n                                                 <button onClick={handleSave}>Сохранить</button>\r\n                                                 <button onClick={handleCancel}>Отмена</button>\r\n                                             </td>\r\n                                         </>\r\n                                     ) : (\r\n                                         <>\r\n                                              {/* ИЗМЕНЕНО: Отображаем index + 1 */}\r\n                                             <td>{index + 1}</td>\r\n                                             <td>{org.FName}</td>\r\n                                             <td>{org.SName}</td>\r\n                                             <td className=\"actions-cell\">\r\n                                                 <button onClick={() => handleEdit(org)} disabled={!!addingItemType || !!editingItem}>Редакт.</button>\r\n                                                 <button onClick={() => handleDelete(org.ID_Org)} className=\"delete-button\" disabled={!!addingItemType || !!editingItem}>Удалить</button>\r\n                                             </td>\r\n                                         </>\r\n                                     )}\r\n                                 </tr>\r\n                             ))}\r\n                         </tbody>\r\n                     </table>\r\n                 )}\r\n\r\n                 {/* Таблица KKS */}\r\n                 {activeTab === 'kks' && (\r\n                     <table className=\"admin-table\">\r\n                         <thead>\r\n                             <tr>\r\n                                  {/* ИЗМЕНЕНО: Заголовок '№', сортировка по 'ID_KKS' */}\r\n                                 {renderSortableHeader('№', 'ID_KKS')}\r\n                                 {renderSortableHeader('Название', 'Name_KKS')}\r\n                                 {renderSortableHeader('Краткое обозначение', 'SName_KKS')}\r\n                                 <th>Действия</th>\r\n                             </tr>\r\n                         </thead>\r\n                         <tbody>\r\n                              {/* ИЗМЕНЕНО: Добавлен 'index' в map */}\r\n                             {sortedKks.map((kksItem, index) => (\r\n                                 <tr key={kksItem.ID_KKS}>\r\n                                     {editingItem?.ID_KKS === kksItem.ID_KKS ? (\r\n                                         <>\r\n                                             {/* ИЗМЕНЕНО: Отображаем index + 1 */}\r\n                                             <td>{index + 1}</td>\r\n                                             <td><input type=\"text\" value={editingItem.Name_KKS} onChange={(e) => handleChangeInline('Name_KKS', e.target.value)} /></td>\r\n                                             <td><input type=\"text\" value={editingItem.SName_KKS} onChange={(e) => handleChangeInline('SName_KKS', e.target.value)} /></td>\r\n                                             <td>\r\n                                                 <button onClick={handleSave}>Сохранить</button>\r\n                                                 <button onClick={handleCancel}>Отмена</button>\r\n                                             </td>\r\n                                         </>\r\n                                     ) : (\r\n                                         <>\r\n                                             {/* ИЗМЕНЕНО: Отображаем index + 1 */}\r\n                                             <td>{index + 1}</td>\r\n                                             <td>{kksItem.Name_KKS}</td>\r\n                                             <td>{kksItem.SName_KKS}</td>\r\n                                             <td className=\"actions-cell\">\r\n                                                 <button onClick={() => handleEdit(kksItem)} disabled={!!addingItemType || !!editingItem}>Редакт.</button>\r\n                                                 <button onClick={() => handleDelete(kksItem.ID_KKS)} className=\"delete-button\" disabled={!!addingItemType || !!editingItem}>Удалить</button>\r\n                                             </td>\r\n                                         </>\r\n                                     )}\r\n                                 </tr>\r\n                             ))}\r\n                         </tbody>\r\n                     </table>\r\n                 )}\r\n\r\n                 {/* Таблица Работников */}\r\n                 {activeTab === 'workers' && (\r\n                     <table className=\"admin-table\">\r\n                         <thead>\r\n                             <tr>\r\n                                 {/* ИЗМЕНЕНО: Заголовок '№', сортировка по 'ID_Worker' */}\r\n                                 {renderSortableHeader('№', 'ID_Worker')}\r\n                                 {renderSortableHeader('Логин', 'Login')}\r\n                                 {renderSortableHeader('ФИО Работника', 'FName_Worker')}\r\n                                 {renderSortableHeader('Роль', 'Role')}\r\n                                 <th>Действия</th>\r\n                             </tr>\r\n                         </thead>\r\n                         <tbody>\r\n                              {/* ИЗМЕНЕНО: Добавлен 'index' в map */}\r\n                             {sortedWorkers.map((w, index) => (\r\n                                 <tr key={w.ID_Worker}>\r\n                                      {/* ИЗМЕНЕНО: Отображаем index + 1 */}\r\n                                     <td>{index + 1}</td>\r\n                                     <td>{w.Login}</td>\r\n                                     <td>{w.FName_Worker}</td>\r\n                                     <td>{displayRole(w.Role)}</td>\r\n                                     <td className=\"actions-cell\">\r\n                                         <button onClick={() => handleEdit(w)} disabled={!!addingItemType || !!editingItem}>Редакт.</button>\r\n                                         <button onClick={() => handleDelete(w.ID_Worker)} className=\"delete-button\" disabled={!!addingItemType || !!editingItem}>Удалить</button>\r\n                                     </td>\r\n                                 </tr>\r\n                             ))}\r\n                         </tbody>\r\n                     </table>\r\n                 )}\r\n\r\n            </div> {/* admin-content */}\r\n        </div> // admin-panel\r\n    );\r\n}\r\n\r\nexport default AdminPanel;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}